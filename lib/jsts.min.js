var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(aa){var F=function(){};F.prototype=aa;return new F};$jscomp.underscoreProtoCanBeSet=function(){var aa={a:!0},F={};try{return F.__proto__=aa,F.a}catch(Yb){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(aa,F){aa.__proto__=F;if(aa.__proto__!==F)throw new TypeError(aa+" is not extensible");return aa}:null;
$jscomp.inherits=function(aa,F){aa.prototype=$jscomp.objectCreate(F.prototype);aa.prototype.constructor=aa;if($jscomp.setPrototypeOf){var Yb=$jscomp.setPrototypeOf;Yb(aa,F)}else for(Yb in F)if("prototype"!=Yb)if(Object.defineProperties){var y=Object.getOwnPropertyDescriptor(F,Yb);y&&Object.defineProperty(aa,Yb,y)}else aa[Yb]=F[Yb];aa.superClass_=F.prototype};$jscomp.getGlobal=function(aa){return"undefined"!=typeof window&&window===aa?aa:"undefined"!=typeof global&&null!=global?global:aa};
$jscomp.global=$jscomp.getGlobal(this);
var jsts=function(aa){function F(a){this.message=a}function Yb(a,b){this.low=b|0;this.high=a|0}function y(){}function hc(){}function Sf(){}function af(){}function ic(){}function Va(a){this.name="RuntimeException";this.message=a;this.stack=Error().stack;Error.call(this,a)}function v(a,b){return a.interfaces_&&-1<a.interfaces_.indexOf(b)}function bg(){}function ra(){}function kg(a){this.message=a||""}function cb(){}function Tf(a){this.message=a||""}function Vf(a){this.message=a||""}function m(a){this.array_=
[];a instanceof ra&&this.addAll(a)}function zf(){}function bf(a){this.str=a}function hd(a){this.value=a}function Wf(){}function wa(){}function Af(){}function qg(){}function cg(){}function sb(a){this.array_=[];a instanceof ra&&this.addAll(a)}function sa(a){return null==a?null:a.parent}function Od(a,b){null!==a&&(a.color=b)}function lg(a){return null==a?null:a.left}function rg(a){return null==a?null:a.right}function Wa(){this.root_=null;this.size_=0}function sg(){}function Zb(a){this.array_=[];a instanceof
ra&&this.addAll(a)}function Pd(){}function zg(){}function Ag(){}function Bg(){}function Cg(){}function cf(a){this.str=a}function dg(){}function Dg(a,b){return a===b||a!==a&&b!==b}function Eg(a){this.add?a.forEach(this.add,this):a.forEach(function(a){this.set(a[0],a[1])},this)}function mg(a,b,c){var d=[0],e=!1;a.push(d);return{next:function(){var g=d[0];if(!e&&g<b.length){var f=c?[b[g],c[g]]:b[g];d[0]++}else e=!0,a.splice(a.indexOf(d),1);return{done:e,value:f}}}}function Fg(){return this._values.length}
function Qd(){this.map_=new Gg}function eg(a){this.message=a||""}function $b(){this.array_=[]}function Xf(){}function Yf(a){return[a.x,a.y]}function fg(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(a){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var b=Object(this),c=Math.max(Math.min(b.length,9007199254740991),0)||0,d=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;d=0>d?Math.max(c+d,0):
Math.min(d,c);var e=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:c;for(e=0>e?Math.max(c+arguments[2],0):Math.min(e,c);d<e;)b[d]=a,++d;return b},writable:!0});Number.isFinite=Number.isFinite||function(a){return"number"===typeof a&&isFinite(a)};Number.isInteger=Number.isInteger||function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a};Number.parseFloat=Number.parseFloat||parseFloat;Number.isNaN=Number.isNaN||function(a){return a!==a};Math.trunc=Math.trunc||
function(a){return 0>a?Math.ceil(a):Math.floor(a)};Math.log2=Math.log2||function(a){return Math.log(a)*Math.LOG2E};var re=function(){re.constructor_.apply(this,arguments)};re.equalsWithTolerance=function(a,b,c){return Math.abs(a-b)<=c};re.prototype.getClass=function(){return re};$jscomp.global.Object.defineProperties(re.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});re.constructor_=function(){};Yb.toBinaryString=function(a){for(var b="",c=2147483648;0<c;c>>>=1)b+=
(a.high&c)===c?"1":"0";for(c=2147483648;0<c;c>>>=1)b+=(a.low&c)===c?"1":"0";return b};y.isNaN=function(a){return Number.isNaN(a)};y.isInfinite=function(a){return!Number.isFinite(a)};y.MAX_VALUE=Number.MAX_VALUE;"function"==typeof Float64Array&&"function"==typeof Int32Array?function(){var a=new Float64Array(1),b=new Int32Array(a.buffer);y.doubleToLongBits=function(c){a[0]=c;c=b[0]|0;var d=b[1]|0;2146435072===(d&2146435072)&&0!==(d&1048575)&&0!==c&&(c=0,d=2146959360);return new Yb(d,c)};y.longBitsToDouble=
function(c){b[0]=c.low;b[1]=c.high;return a[0]}}():function(){var a=Math.log2,b=Math.floor,c=Math.pow,d=function(){for(var d=53;0<d;d--){var g=c(2,d)-1;if(b(a(g))+1===d)return g}return 0}();y.doubleToLongBits=function(e){var g;if(0>e||1/e===Number.NEGATIVE_INFINITY){var f=-2147483648;e=-e}else f=0;if(0===e)return new Yb(f,0);if(Infinity===e)return new Yb(f|2146435072,0);if(e!==e)return new Yb(2146959360,0);var h=g=0;var k=b(e);if(1<k)if(k<=d)if(g=b(a(k)),20>=g){h=0;var m=k<<20-g&1048575}else{var l=
g-20;var n=c(2,l);h=k%n<<32-l;m=k/n&1048575}else for(l=k,h=0;;){n=l/2;l=b(n);if(0===l)break;g++;h>>>=1;h|=(m&1)<<31;m>>>=1;n!==l&&(m|=524288)}var p=g+1023;var q=0===k;k=e-k;if(52>g&&0!==k)for(l=0;;){n=2*k;1<=n?(k=n-1,q?(p--,q=!1):(l<<=1,l|=1,g++)):(k=n,q)?0===--p&&(g++,q=!1):(l<<=1,g++);if(20===g)m|=l,l=0;else if(52===g){h|=l;break}if(1===n){20>g?m|=l<<20-g:52>g&&(h|=l<<52-g);break}}return new Yb(m|p<<20|f,h)};y.longBitsToDouble=function(a){var b=a.high,d=a.low;var e=b&-2147483648?-1:1;var f=((b&
2146435072)>>20)-1023;var h=0;a=524288;for(var k=1;20>=k;k++)b&a&&(h+=c(2,-k)),a>>>=1;a=-2147483648;for(k=21;52>=k;k++)d&a&&(h+=c(2,-k)),a>>>=1;if(-1023===f){if(0===h)return 0*e;f=-1022}else{if(1024===f)return 0===h?e/0:NaN;h+=1}return e*h*c(2,f)}}();Va.prototype=Object.create(Error.prototype);Va.prototype.constructor=Error;var Rd=function(){var a=Va.call(this)||this;Rd.constructor_.apply(a,arguments);return a};$jscomp.inherits(Rd,Va);Rd.prototype.getClass=function(){return Rd};$jscomp.global.Object.defineProperties(Rd.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Rd.constructor_=function(){0===arguments.length?Va.constructor_.call(this):1===arguments.length&&Va.constructor_.call(this,arguments[0])};var w=function(){w.constructor_.apply(this,arguments)};w.shouldNeverReachHere=function(){if(0===arguments.length)w.shouldNeverReachHere(null);else if(1===arguments.length){var a=arguments[0];throw new Rd("Should never reach here"+(null!==a?": "+a:""));}};w.isTrue=function(){if(1===arguments.length)w.isTrue(arguments[0],
null);else if(2===arguments.length){var a=arguments[1];if(!arguments[0]){if(null===a)throw new Rd;throw new Rd(a);}}};w.equals=function(){if(2===arguments.length)w.equals(arguments[0],arguments[1],null);else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];if(!b.equals(a))throw new Rd("Expected "+a+" but encountered "+b+(null!==c?": "+c:""));}};w.prototype.getClass=function(){return w};$jscomp.global.Object.defineProperties(w.prototype,{interfaces_:{configurable:!0,enumerable:!0,
get:function(){return[]}}});w.constructor_=function(){};var h=function(){h.constructor_.apply(this,arguments)};h.hashCode=function(){if(1===arguments.length&&"number"===typeof arguments[0]){var a=y.doubleToLongBits(arguments[0]);return Math.trunc(a^a>>>32)}};h.prototype.setOrdinate=function(a,b){switch(a){case h.X:this.x=b;break;case h.Y:this.y=b;break;case h.Z:this.z=b;break;default:throw new F("Invalid ordinate index: "+a);}};h.prototype.equals2D=function(){if(1===arguments.length){var a=arguments[0];
return this.x!==a.x||this.y!==a.y?!1:!0}if(2===arguments.length){a=arguments[0];var b=arguments[1];return re.equalsWithTolerance(this.x,a.x,b)&&re.equalsWithTolerance(this.y,a.y,b)?!0:!1}};h.prototype.getOrdinate=function(a){switch(a){case h.X:return this.x;case h.Y:return this.y;case h.Z:return this.z}throw new F("Invalid ordinate index: "+a);};h.prototype.equals3D=function(a){return this.x===a.x&&this.y===a.y&&(this.z===a.z||y.isNaN(this.z)&&y.isNaN(a.z))};h.prototype.equals=function(a){return a instanceof
h?this.equals2D(a):!1};h.prototype.equalInZ=function(a,b){return re.equalsWithTolerance(this.z,a.z,b)};h.prototype.compareTo=function(a){return this.x<a.x?-1:this.x>a.x?1:this.y<a.y?-1:this.y>a.y?1:0};h.prototype.clone=function(){return null};h.prototype.copy=function(){return new h(this)};h.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};h.prototype.distance3D=function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return Math.sqrt(b*b+c*c+a*a)};h.prototype.distance=function(a){var b=
this.x-a.x;a=this.y-a.y;return Math.sqrt(b*b+a*a)};h.prototype.hashCode=function(){var a=629+h.hashCode(this.x);return a=37*a+h.hashCode(this.y)};h.prototype.setCoordinate=function(a){this.x=a.x;this.y=a.y;this.z=a.z};h.prototype.getClass=function(){return h};$jscomp.global.Object.defineProperties(h.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc,Sf,ic]}}});var id=function(){id.constructor_.apply(this,arguments)};id.compare=function(a,b){return a<b?-1:a>b?1:y.isNaN(a)?
y.isNaN(b)?0:-1:y.isNaN(b)?1:0};id.prototype.compare=function(a,b){var c=id.compare(a.x,b.x);if(0!==c)return c;c=id.compare(a.y,b.y);return 0!==c?c:2>=this._dimensionsToTest?0:id.compare(a.z,b.z)};id.prototype.getClass=function(){return id};$jscomp.global.Object.defineProperties(id.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[af]}}});id.constructor_=function(){this._dimensionsToTest=2;if(0===arguments.length)id.constructor_.call(this,2);else if(1===arguments.length){var a=
arguments[0];if(2!==a&&3!==a)throw new F("only 2 or 3 dimensions may be specified");this._dimensionsToTest=a}};h.DimensionalComparator=id;h.constructor_=function(){this.z=this.y=this.x=null;if(0===arguments.length)h.constructor_.call(this,0,0);else if(1===arguments.length){var a=arguments[0];h.constructor_.call(this,a.x,a.y,a.z)}else if(2===arguments.length)h.constructor_.call(this,arguments[0],arguments[1],h.NULL_ORDINATE);else if(3===arguments.length){a=arguments[1];var b=arguments[2];this.x=arguments[0];
this.y=a;this.z=b}};h.serialVersionUID=0x5cbf2c235c7e5800;h.NULL_ORDINATE=y.NaN;h.X=0;h.Y=1;h.Z=2;bg.prototype.hasNext=function(){};bg.prototype.next=function(){};bg.prototype.remove=function(){};ra.prototype.add=function(){};ra.prototype.addAll=function(){};ra.prototype.isEmpty=function(){};ra.prototype.iterator=function(){};ra.prototype.size=function(){};ra.prototype.toArray=function(){};ra.prototype.remove=function(){};kg.prototype=Error();kg.prototype.name="IndexOutOfBoundsException";cb.prototype=
Object.create(ra.prototype);cb.prototype.constructor=cb;cb.prototype.get=function(){};cb.prototype.set=function(){};cb.prototype.isEmpty=function(){};Tf.prototype=Error();Tf.prototype.name="NoSuchElementException";Vf.prototype=Error();Vf.prototype.name="OperationNotSupported";m.prototype=Object.create(cb.prototype);m.prototype.constructor=m;m.prototype.ensureCapacity=function(){};m.prototype.interfaces_=[cb,ra];m.prototype.add=function(a){1===arguments.length?this.array_.push(a):this.array_.splice(arguments[0],
0,arguments[1]);return!0};m.prototype.clear=function(){this.array_=[]};m.prototype.addAll=function(a){for(a=a.iterator();a.hasNext();)this.add(a.next());return!0};m.prototype.set=function(a,b){var c=this.array_[a];this.array_[a]=b;return c};m.prototype.iterator=function(){return new Zf(this)};m.prototype.get=function(a){if(0>a||a>=this.size())throw new kg;return this.array_[a]};m.prototype.isEmpty=function(){return 0===this.array_.length};m.prototype.size=function(){return this.array_.length};m.prototype.toArray=
function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a};m.prototype.remove=function(a){for(var b=!1,c=0,d=this.array_.length;c<d;c++)if(this.array_[c]===a){this.array_.splice(c,1);b=!0;break}return b};m.prototype.removeAll=function(a){for(a=a.iterator();a.hasNext();)this.remove(a.next());return!0};var Zf=function(a){this.arrayList_=a;this.position_=0};Zf.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Tf;return this.arrayList_.get(this.position_++)};
Zf.prototype.hasNext=function(){return this.position_<this.arrayList_.size()?!0:!1};Zf.prototype.set=function(a){return this.arrayList_.set(this.position_-1,a)};Zf.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))};var ea=function(){var a=m.call(this)||this;ea.constructor_.apply(a,arguments);return a};$jscomp.inherits(ea,m);ea.prototype.getCoordinate=function(a){return this.get(a)};ea.prototype.addAll=function(){if(2===arguments.length&&"boolean"===typeof arguments[1]&&
v(arguments[0],ra)){for(var a=arguments[1],b=!1,c=arguments[0].iterator();c.hasNext();)this.add(c.next(),a),b=!0;return b}return m.prototype.addAll.apply(this,arguments)};ea.prototype.clone=function(){for(var a=m.prototype.clone.call(this),b=0;b<this.size();b++)a.add(b,this.get(b).clone());return a};ea.prototype.toCoordinateArray=function(){return this.toArray(ea.coordArrayType)};ea.prototype.add=function(){if(1===arguments.length)m.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof
Array&&"boolean"===typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof h&&"boolean"===typeof arguments[1]){var a=arguments[0];if(!arguments[1]&&1<=this.size()&&this.get(this.size()-1).equals2D(a))return null;m.prototype.add.call(this,a)}else if(arguments[0]instanceof Object&&"boolean"===typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"===typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"===
typeof arguments[1]){var b=arguments[0],c=arguments[1];if(arguments[2])for(a=0;a<b.length;a++)this.add(b[a],c);else for(a=b.length-1;0<=a;a--)this.add(b[a],c);return!0}if("boolean"===typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof h){a=arguments[0];b=arguments[1];if(!arguments[2]&&(c=this.size(),0<c&&(0<a&&this.get(a-1).equals2D(b)||a<c&&this.get(a).equals2D(b))))return null;m.prototype.add.call(this,a,b)}}else if(4===arguments.length){b=arguments[0];c=arguments[1];a=arguments[2];
var d=arguments[3],e=1;for(a>d&&(e=-1);a!==d;a+=e)this.add(b[a],c);return!0}};ea.prototype.closeRing=function(){0<this.size()&&this.add(new h(this.get(0)),!1)};ea.prototype.getClass=function(){return ea};$jscomp.global.Object.defineProperties(ea.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ea.constructor_=function(){if(0!==arguments.length)if(1===arguments.length){var a=arguments[0];this.ensureCapacity(a.length);this.add(a,!0)}else if(2===arguments.length){a=arguments[0];
var b=arguments[1];this.ensureCapacity(a.length);this.add(a,b)}};ea.coordArrayType=[].fill(null);var r=function(){r.constructor_.apply(this,arguments)};r.intersects=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];return c.x>=(a.x<b.x?a.x:b.x)&&c.x<=(a.x>b.x?a.x:b.x)&&c.y>=(a.y<b.y?a.y:b.y)&&c.y<=(a.y>b.y?a.y:b.y)?!0:!1}if(4===arguments.length){a=arguments[0];b=arguments[1];c=arguments[2];var d=arguments[3],e=Math.min(c.x,d.x),g=Math.max(c.x,d.x),f=Math.min(a.x,
b.x),h=Math.max(a.x,b.x);if(f>g||h<e)return!1;e=Math.min(c.y,d.y);g=Math.max(c.y,d.y);f=Math.min(a.y,b.y);h=Math.max(a.y,b.y);return f>g||h<e?!1:!0}};r.prototype.getArea=function(){return this.getWidth()*this.getHeight()};r.prototype.equals=function(a){return a instanceof r?this.isNull()?a.isNull():this._maxx===a.getMaxX()&&this._maxy===a.getMaxY()&&this._minx===a.getMinX()&&this._miny===a.getMinY():!1};r.prototype.intersection=function(a){return this.isNull()||a.isNull()||!this.intersects(a)?new r:
new r(this._minx>a._minx?this._minx:a._minx,this._maxx<a._maxx?this._maxx:a._maxx,this._miny>a._miny?this._miny:a._miny,this._maxy<a._maxy?this._maxy:a._maxy)};r.prototype.isNull=function(){return this._maxx<this._minx};r.prototype.getMaxX=function(){return this._maxx};r.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof h){var a=arguments[0];return this.covers(a.x,a.y)}if(arguments[0]instanceof r)return a=arguments[0],this.isNull()||a.isNull()?!1:a.getMinX()>=this._minx&&
a.getMaxX()<=this._maxx&&a.getMinY()>=this._miny&&a.getMaxY()<=this._maxy}else if(2===arguments.length){a=arguments[0];var b=arguments[1];return this.isNull()?!1:a>=this._minx&&a<=this._maxx&&b>=this._miny&&b<=this._maxy}};r.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof r){var a=arguments[0];return this.isNull()||a.isNull()?!1:!(a._minx>this._maxx||a._maxx<this._minx||a._miny>this._maxy||a._maxy<this._miny)}if(arguments[0]instanceof h)return a=arguments[0],this.intersects(a.x,
a.y)}else if(2===arguments.length){if(arguments[0]instanceof h&&arguments[1]instanceof h){a=arguments[0];var b=arguments[1];return this.isNull()||(a.x<b.x?a.x:b.x)>this._maxx||(a.x>b.x?a.x:b.x)<this._minx||(a.y<b.y?a.y:b.y)>this._maxy||(a.y>b.y?a.y:b.y)<this._miny?!1:!0}if("number"===typeof arguments[0]&&"number"===typeof arguments[1])return a=arguments[0],b=arguments[1],this.isNull()?!1:!(a>this._maxx||a<this._minx||b>this._maxy||b<this._miny)}};r.prototype.getMinY=function(){return this._miny};
r.prototype.getMinX=function(){return this._minx};r.prototype.expandToInclude=function(){if(1===arguments.length)if(arguments[0]instanceof h){var a=arguments[0];this.expandToInclude(a.x,a.y)}else{if(arguments[0]instanceof r){a=arguments[0];if(a.isNull())return null;this.isNull()?(this._minx=a.getMinX(),this._maxx=a.getMaxX(),this._miny=a.getMinY(),this._maxy=a.getMaxY()):(a._minx<this._minx&&(this._minx=a._minx),a._maxx>this._maxx&&(this._maxx=a._maxx),a._miny<this._miny&&(this._miny=a._miny),a._maxy>
this._maxy&&(this._maxy=a._maxy))}}else if(2===arguments.length){a=arguments[0];var b=arguments[1];this.isNull()?(this._maxx=this._minx=a,this._maxy=this._miny=b):(a<this._minx&&(this._minx=a),a>this._maxx&&(this._maxx=a),b<this._miny&&(this._miny=b),b>this._maxy&&(this._maxy=b))}};r.prototype.minExtent=function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a<b?a:b};r.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx};r.prototype.compareTo=function(a){return this.isNull()?
a.isNull()?0:-1:a.isNull()?1:this._minx<a._minx?-1:this._minx>a._minx?1:this._miny<a._miny?-1:this._miny>a._miny?1:this._maxx<a._maxx?-1:this._maxx>a._maxx?1:this._maxy<a._maxy?-1:this._maxy>a._maxy?1:0};r.prototype.translate=function(a,b){if(this.isNull())return null;this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+b,this.getMaxY()+b)};r.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"};r.prototype.setToNull=function(){this._minx=
0;this._maxx=-1;this._miny=0;this._maxy=-1};r.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny};r.prototype.maxExtent=function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a>b?a:b};r.prototype.expandBy=function(){if(1===arguments.length){var a=arguments[0];this.expandBy(a,a)}else if(2===arguments.length){a=arguments[0];var b=arguments[1];if(this.isNull())return null;this._minx-=a;this._maxx+=a;this._miny-=b;this._maxy+=b;(this._minx>this._maxx||
this._miny>this._maxy)&&this.setToNull()}};r.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof r||arguments[0]instanceof h)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])};r.prototype.centre=function(){return this.isNull()?null:new h((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)};r.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length)if(arguments[0]instanceof
h){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else arguments[0]instanceof r&&(a=arguments[0],this._minx=a._minx,this._maxx=a._maxx,this._miny=a._miny,this._maxy=a._maxy);else if(2===arguments.length){a=arguments[0];var b=arguments[1];this.init(a.x,b.x,a.y,b.y)}else if(4===arguments.length){a=arguments[0];b=arguments[1];var c=arguments[2],d=arguments[3];a<b?(this._minx=a,this._maxx=b):(this._minx=b,this._maxx=a);c<d?(this._miny=c,this._maxy=d):(this._miny=d,this._maxy=c)}};r.prototype.getMaxY=function(){return this._maxy};
r.prototype.distance=function(a){if(this.intersects(a))return 0;var b=0;this._maxx<a._minx?b=a._minx-this._maxx:this._minx>a._maxx&&(b=this._minx-a._maxx);var c=0;this._maxy<a._miny?c=a._miny-this._maxy:this._miny>a._maxy&&(c=this._miny-a._maxy);return 0===b?c:0===c?b:Math.sqrt(b*b+c*c)};r.prototype.hashCode=function(){var a=629+h.hashCode(this._minx);a=37*a+h.hashCode(this._maxx);a=37*a+h.hashCode(this._miny);return a=37*a+h.hashCode(this._maxy)};r.prototype.getClass=function(){return r};$jscomp.global.Object.defineProperties(r.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc,ic]}}});r.constructor_=function(){this._maxy=this._miny=this._maxx=this._minx=null;if(0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof h){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else arguments[0]instanceof r&&this.init(arguments[0]);else if(2===arguments.length){a=arguments[0];var b=arguments[1];this.init(a.x,b.x,a.y,b.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],
arguments[2],arguments[3])};r.serialVersionUID=0x51845cd552189800;var Sc=function(){Sc.constructor_.apply(this,arguments);return this};$jscomp.inherits(Sc,zf);Sc.prototype.getClass=function(){return Sc};$jscomp.global.Object.defineProperties(Sc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Sc.constructor_=function(){zf.constructor_.call(this,"Projective point not representable on the Cartesian plane.")};bf.prototype.append=function(a){this.str+=a};bf.prototype.setCharAt=
function(a,b){this.str=this.str.substr(0,a)+b+this.str.substr(a+1)};bf.prototype.toString=function(a){return this.str};hd.prototype.intValue=function(){return this.value};hd.prototype.compareTo=function(a){return this.value<a?-1:this.value>a?1:0};hd.isNaN=function(a){return Number.isNaN(a)};Wf.isWhitespace=function(a){return 32>=a&&0<=a||127==a};Wf.toUpperCase=function(a){return a.toUpperCase()};var k=function(){k.constructor_.apply(this,arguments)};k.sqr=function(a){return k.valueOf(a).selfMultiply(a)};
k.valueOf=function(a){if("string"===typeof a)return k.parse(a);if("number"===typeof a)return new k(a)};k.sqrt=function(a){return k.valueOf(a).sqrt()};k.parse=function(a){for(var b=0,c=a.length;Wf.isWhitespace(a.charAt(b));)b++;var d=!1;if(b<c){var e=a.charAt(b);if("-"===e||"+"===e)b++,"-"===e&&(d=!0)}e=new k;for(var g=0,f=0,h=0;!(b>=c);){var l=a.charAt(b);b++;if(Wf.isDigit(l))l-=0,e.selfMultiply(k.TEN),e.selfAdd(l),g++;else if("."===l)f=g;else{if("e"===l||"E"===l){b=a.substring(b);try{h=hd.parseInt(b)}catch(ug){if(ug instanceof
NumberFormatException)throw new NumberFormatException("Invalid exponent "+b+" in string "+a);throw ug;}finally{}break}throw new NumberFormatException("Unexpected character '"+l+"' at position "+b+" in string "+a);}}a=e;g=g-f-h;0===g?a=e:0<g?(a=k.TEN.pow(g),a=e.divide(a)):0>g&&(a=k.TEN.pow(-g),a=e.multiply(a));return d?a.negate():a};k.createNaN=function(){return new k(y.NaN,y.NaN)};k.copy=function(a){return new k(a)};k.magnitude=function(a){a=Math.abs(a);var b=Math.trunc(Math.floor(Math.log(a)/Math.log(10)));
10*Math.pow(10,b)<=a&&(b+=1);return b};k.stringOfChar=function(a,b){for(var c=new bf,d=0;d<b;d++)c.append(a);return c.toString()};k.prototype.le=function(a){return this._hi<a._hi||this._hi===a._hi&&this._lo<=a._lo};k.prototype.extractSignificantDigits=function(a,b){var c=this.abs(),d=k.magnitude(c._hi),e=k.TEN.pow(d);c=c.divide(e);c.gt(k.TEN)?(c=c.divide(k.TEN),d+=1):c.lt(k.ONE)&&(c=c.multiply(k.TEN),--d);e=d+1;for(var g=new bf,f=k.MAX_PRINT_DIGITS-1,h=0;h<=f;h++){a&&h===e&&g.append(".");var l=Math.trunc(c._hi);
if(0>l)break;var m=!1;if(9<l){m=!0;var n="9"}else n="0"+l;g.append(n);c=c.subtract(k.valueOf(l)).multiply(k.TEN);m&&c.selfAdd(k.TEN);l=!0;m=k.magnitude(c._hi);0>m&&Math.abs(m)>=f-h&&(l=!1);if(!l)break}b[0]=d;return g.toString()};k.prototype.sqr=function(){return this.multiply(this)};k.prototype.doubleValue=function(){return this._hi+this._lo};k.prototype.subtract=function(a){if(a instanceof k)return this.add(a.negate());if("number"===typeof a)return this.add(-a)};k.prototype.equals=function(){if(1===
arguments.length&&arguments[0]instanceof k){var a=arguments[0];return this._hi===a._hi&&this._lo===a._lo}};k.prototype.isZero=function(){return 0===this._hi&&0===this._lo};k.prototype.selfSubtract=function(a){if(a instanceof k)return this.isNaN()?this:this.selfAdd(-a._hi,-a._lo);if("number"===typeof a)return this.isNaN()?this:this.selfAdd(-a,0)};k.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null};k.prototype.min=function(a){return this.le(a)?this:a};
k.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof k){var a=arguments[0];return this.selfDivide(a._hi,a._lo)}if("number"===typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){a=arguments[0];var b=arguments[1];var c=this._hi/a;var d=k.SPLIT*c;var e=k.SPLIT*a;d-=d-c;var g=c-d;var f=c*a;e-=e-a;var h=a-e;d=(this._hi-f-(d*e-f+d*h+g*e+g*h)+this._lo-c*b)/a;this._hi=e=c+d;this._lo=c-e+d;return this}};k.prototype.dump=function(){return"DD<"+
this._hi+", "+this._lo+">"};k.prototype.divide=function(a){if(a instanceof k){var b=this._hi/a._hi;var c=k.SPLIT*b;var d=k.SPLIT*a._hi;c-=c-b;var e=b-c;var g=d-a._hi;var f=b*a._hi;g=d-g;d=a._hi-g;c=(this._hi-f-(c*g-f+c*d+e*g+e*d)+this._lo-b*a._lo)/a._hi;d=b+c;return new k(d,b-d+c)}if("number"===typeof a)return y.isNaN(a)?k.createNaN():k.copy(this).selfDivide(a,0)};k.prototype.ge=function(a){return this._hi>a._hi||this._hi===a._hi&&this._lo>=a._lo};k.prototype.pow=function(a){if(0===a)return k.valueOf(1);
var b=new k(this),c=k.valueOf(1),d=Math.abs(a);if(1<d)for(;0<d;)1===d%2&&c.selfMultiply(b),d/=2,0<d&&(b=b.sqr());else c=b;return 0>a?c.reciprocal():c};k.prototype.ceil=function(){if(this.isNaN())return k.NaN;var a=Math.ceil(this._hi),b=0;a===this._hi&&(b=Math.ceil(this._lo));return new k(a,b)};k.prototype.compareTo=function(a){return this._hi<a._hi?-1:this._hi>a._hi?1:this._lo<a._lo?-1:this._lo>a._lo?1:0};k.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()};k.prototype.setValue=
function(a){if(a instanceof k||"number"===typeof a)return this.init(a),this};k.prototype.max=function(a){return this.ge(a)?this:a};k.prototype.sqrt=function(){if(this.isZero())return k.valueOf(0);if(this.isNegative())return k.NaN;var a=1/Math.sqrt(this._hi),b=k.valueOf(this._hi*a);a*=.5*this.subtract(b.sqr())._hi;return b.add(a)};k.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof k){var a=arguments[0];return this.selfAdd(a._hi,a._lo)}if("number"===typeof arguments[0]){var b=
arguments[0];a=this._hi+b;var c=a-this._hi;c=b-c+(this._hi-(a-c));b=c+this._lo;var d=a+b;a=b+(a-d);this._hi=d+a;this._lo=a+(d-this._hi);return this}}else if(2===arguments.length){var e=arguments[0],g=arguments[1];a=this._hi+e;d=this._lo+g;c=a-this._hi;b=d-this._lo;c=e-c+(this._hi-(a-c));b=g-b+(this._lo-(d-b));c+=d;d=a+c;c=b+(c+(a-d));this._hi=a=d+c;this._lo=c+(d-a);return this}};k.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof k){var a=arguments[0];return this.selfMultiply(a._hi,
a._lo)}if("number"===typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];a=k.SPLIT*this._hi;var d=a-this._hi;var e=k.SPLIT*b;d=a-d;var g=this._hi-d;a=this._hi*b;e-=e-b;var f=b-e;e=d*e-a+d*f+g*e+g*f+(this._hi*c+this._lo*b);this._hi=b=a+e;this._lo=e+(a-b);return this}};k.prototype.selfSqr=function(){return this.selfMultiply(this)};k.prototype.floor=function(){if(this.isNaN())return k.NaN;var a=Math.floor(this._hi),b=0;a===this._hi&&
(b=Math.floor(this._lo));return new k(a,b)};k.prototype.negate=function(){return this.isNaN()?this:new k(-this._hi,-this._lo)};k.prototype.clone=function(){return null};k.prototype.multiply=function(a){if(a instanceof k)return a.isNaN()?k.createNaN():k.copy(this).selfMultiply(a);if("number"===typeof a)return y.isNaN(a)?k.createNaN():k.copy(this).selfMultiply(a,0)};k.prototype.isNaN=function(){return y.isNaN(this._hi)};k.prototype.intValue=function(){return Math.trunc(this._hi)};k.prototype.toString=
function(){var a=k.magnitude(this._hi);return-3<=a&&20>=a?this.toStandardNotation():this.toSciNotation()};k.prototype.toStandardNotation=function(){var a=this.getSpecialNumberString();if(null!==a)return a;var b=Array(1).fill(null);a=this.extractSignificantDigits(!0,b);b=b[0]+1;var c=a;"."===a.charAt(0)?c="0"+a:0>b?c="0."+k.stringOfChar("0",-b)+a:-1===a.indexOf(".")&&(b=k.stringOfChar("0",b-a.length),c=a+b+".0");return this.isNegative()?"-"+c:c};k.prototype.reciprocal=function(){var a=1/this._hi;var b=
k.SPLIT*a;var c=k.SPLIT*this._hi;b-=b-a;var d=a-b;var e=c-this._hi;var g=a*this._hi;e=c-e;c=this._hi-e;b=(1-g-(b*e-g+b*c+d*e+d*c)-a*this._lo)/this._hi;d=a+b;return new k(d,a-d+b)};k.prototype.toSciNotation=function(){if(this.isZero())return k.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(null!==a)return a;var b=Array(1).fill(null);a=this.extractSignificantDigits(!1,b);b=k.SCI_NOT_EXPONENT_CHAR+b[0];if("0"===a.charAt(0))throw new IllegalStateException("Found leading zero: "+a);var c="";1<a.length&&
(c=a.substring(1));a=a.charAt(0)+"."+c;return this.isNegative()?"-"+a+b:a+b};k.prototype.abs=function(){return this.isNaN()?k.NaN:this.isNegative()?this.negate():new k(this)};k.prototype.isPositive=function(){return 0<this._hi||0===this._hi&&0<this._lo};k.prototype.lt=function(a){return this._hi<a._hi||this._hi===a._hi&&this._lo<a._lo};k.prototype.add=function(a){if(a instanceof k||"number"===typeof a)return k.copy(this).selfAdd(a)};k.prototype.init=function(){if(1===arguments.length)if("number"===
typeof arguments[0])this._hi=arguments[0],this._lo=0;else{if(arguments[0]instanceof k){var a=arguments[0];this._hi=a._hi;this._lo=a._lo}}else 2===arguments.length&&(a=arguments[1],this._hi=arguments[0],this._lo=a)};k.prototype.gt=function(a){return this._hi>a._hi||this._hi===a._hi&&this._lo>a._lo};k.prototype.isNegative=function(){return 0>this._hi||0===this._hi&&0>this._lo};k.prototype.trunc=function(){return this.isNaN()?k.NaN:this.isPositive()?this.floor():this.ceil()};k.prototype.signum=function(){return 0<
this._hi?1:0>this._hi?-1:0<this._lo?1:0>this._lo?-1:0};k.prototype.getClass=function(){return k};$jscomp.global.Object.defineProperties(k.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[ic,hc,Sf]}}});k.constructor_=function(){this._lo=this._hi=0;0===arguments.length?this.init(0):1===arguments.length?"number"===typeof arguments[0]?this.init(arguments[0]):arguments[0]instanceof k?this.init(arguments[0]):"string"===typeof arguments[0]&&k.constructor_.call(this,k.parse(arguments[0])):
2===arguments.length&&this.init(arguments[0],arguments[1])};k.PI=new k(3.141592653589793,1.2246467991473532E-16);k.TWO_PI=new k(6.283185307179586,2.4492935982947064E-16);k.PI_2=new k(1.5707963267948966,6.123233995736766E-17);k.E=new k(2.718281828459045,1.4456468917292502E-16);k.NaN=new k(y.NaN,y.NaN);k.EPS=1.23259516440783E-32;k.SPLIT=134217729;k.MAX_PRINT_DIGITS=32;k.TEN=k.valueOf(10);k.ONE=k.valueOf(1);k.SCI_NOT_EXPONENT_CHAR="E";k.SCI_NOT_ZERO="0.0E0";var tb=function(){tb.constructor_.apply(this,
arguments)};tb.orientationIndex=function(a,b,c){var d=tb.orientationIndexFilter(a,b,c);if(1>=d)return d;d=k.valueOf(b.x).selfAdd(-a.x);a=k.valueOf(b.y).selfAdd(-a.y);var e=k.valueOf(c.x).selfAdd(-b.x);b=k.valueOf(c.y).selfAdd(-b.y);return d.selfMultiply(b).selfSubtract(a.selfMultiply(e)).signum()};tb.signOfDet2x2=function(a,b,c,d){if(d instanceof k&&c instanceof k&&a instanceof k&&b instanceof k)return d=a.multiply(d).selfSubtract(b.multiply(c)),d.signum();if("number"===typeof d&&"number"===typeof c&&
"number"===typeof a&&"number"===typeof b)return a=k.valueOf(a),b=k.valueOf(b),c=k.valueOf(c),d=k.valueOf(d),d=a.multiply(d).selfSubtract(b.multiply(c)),d.signum()};tb.intersection=function(a,b,c,d){var e=k.valueOf(d.y).selfSubtract(c.y).selfMultiply(k.valueOf(b.x).selfSubtract(a.x)),g=k.valueOf(d.x).selfSubtract(c.x).selfMultiply(k.valueOf(b.y).selfSubtract(a.y));e=e.subtract(g);g=k.valueOf(d.x).selfSubtract(c.x).selfMultiply(k.valueOf(a.y).selfSubtract(c.y));var f=k.valueOf(d.y).selfSubtract(c.y).selfMultiply(k.valueOf(a.x).selfSubtract(c.x));
g=g.subtract(f).selfDivide(e).doubleValue();g=k.valueOf(a.x).selfAdd(k.valueOf(b.x).selfSubtract(a.x).selfMultiply(g)).doubleValue();f=k.valueOf(b.x).selfSubtract(a.x).selfMultiply(k.valueOf(a.y).selfSubtract(c.y));a=k.valueOf(b.y).selfSubtract(a.y).selfMultiply(k.valueOf(a.x).selfSubtract(c.x));a=f.subtract(a).selfDivide(e).doubleValue();c=k.valueOf(c.y).selfAdd(k.valueOf(d.y).selfSubtract(c.y).selfMultiply(a)).doubleValue();return new h(g,c)};tb.orientationIndexFilter=function(a,b,c){var d=(a.x-
c.x)*(b.y-c.y);b=(a.y-c.y)*(b.x-c.x);a=d-b;if(0<d){if(0>=b)return tb.signum(a);d+=b}else if(0>d){if(0<=b)return tb.signum(a);d=-d-b}else return tb.signum(a);d*=tb.DP_SAFE_EPSILON;return a>=d||-a>=d?tb.signum(a):2};tb.signum=function(a){return 0<a?1:0>a?-1:0};tb.prototype.getClass=function(){return tb};$jscomp.global.Object.defineProperties(tb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});tb.constructor_=function(){};tb.DP_SAFE_EPSILON=1E-15;var z=function(){z.constructor_.apply(this,
arguments)};z.index=function(a,b,c){return tb.orientationIndex(a,b,c)};z.isCCW=function(a){var b=a.length-1;if(3>b)throw new F("Ring has fewer than 4 points, so orientation cannot be determined");for(var c=a[0],d=0,e=1;e<=b;e++){var g=a[e];g.y>c.y&&(c=g,d=e)}g=d;do--g,0>g&&(g=b);while(a[g].equals2D(c)&&g!==d);e=d;do e=(e+1)%b;while(a[e].equals2D(c)&&e!==d);b=a[g];a=a[e];if(b.equals2D(c)||a.equals2D(c)||b.equals2D(a))return!1;c=z.index(b,c,a);return 0===c?b.x>a.x:0<c};z.prototype.getClass=function(){return z};
$jscomp.global.Object.defineProperties(z.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});z.constructor_=function(){};z.CLOCKWISE=-1;z.RIGHT=z.CLOCKWISE;z.COUNTERCLOCKWISE=1;z.LEFT=z.COUNTERCLOCKWISE;z.COLLINEAR=0;z.STRAIGHT=z.COLLINEAR;wa.arraycopy=function(a,b,c,d,e){for(var g=0,f=b;f<b+e;f++)c[d+g]=a[f],g++};wa.getProperty=function(a){return{"line.separator":"\n"}[a]};var ib=function(){ib.constructor_.apply(this,arguments)};ib.intersection=function(a,b,c,d){var e=
a.y-b.y,g=b.x-a.x;a=a.x*b.y-b.x*a.y;b=c.y-d.y;var f=d.x-c.x;c=c.x*d.y-d.x*c.y;d=e*f-b*g;g=(g*c-f*a)/d;e=(b*a-e*c)/d;if(y.isNaN(g)||y.isInfinite(g)||y.isNaN(e)||y.isInfinite(e))throw new Sc;return new h(g,e)};ib.prototype.getY=function(){var a=this.y/this.w;if(y.isNaN(a)||y.isInfinite(a))throw new Sc;return a};ib.prototype.getX=function(){var a=this.x/this.w;if(y.isNaN(a)||y.isInfinite(a))throw new Sc;return a};ib.prototype.getCoordinate=function(){var a=new h;a.x=this.getX();a.y=this.getY();return a};
ib.prototype.getClass=function(){return ib};$jscomp.global.Object.defineProperties(ib.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ib.constructor_=function(){this.w=this.y=this.x=null;if(0===arguments.length)this.y=this.x=0,this.w=1;else if(1===arguments.length){var a=arguments[0];this.x=a.x;this.y=a.y;this.w=1}else if(2===arguments.length)if("number"===typeof arguments[0]&&"number"===typeof arguments[1])a=arguments[1],this.x=arguments[0],this.y=a,this.w=1;else if(arguments[0]instanceof
ib&&arguments[1]instanceof ib){a=arguments[0];var b=arguments[1];this.x=a.y*b.w-b.y*a.w;this.y=b.x*a.w-a.x*b.w;this.w=a.x*b.y-b.x*a.y}else arguments[0]instanceof h&&arguments[1]instanceof h&&(a=arguments[0],b=arguments[1],this.x=a.y-b.y,this.y=b.x-a.x,this.w=a.x*b.y-b.x*a.y);else if(3===arguments.length)a=arguments[1],b=arguments[2],this.x=arguments[0],this.y=a,this.w=b;else if(4===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2],g=arguments[3];a=c.y-d.y;b=d.x-c.x;c=c.x*d.y-d.x*
c.y;d=e.y-g.y;var f=g.x-e.x;e=e.x*g.y-g.x*e.y;this.x=b*e-f*c;this.y=d*c-a*e;this.w=a*f-d*b}};var ac=function(){ac.constructor_.apply(this,arguments)};ac.log10=function(a){a=Math.log(a);return y.isInfinite(a)||y.isNaN(a)?a:a/ac.LOG_10};ac.min=function(a,b,c,d){b<a&&(a=b);c<a&&(a=c);d<a&&(a=d);return a};ac.clamp=function(a,b,c){if("number"===typeof c&&"number"===typeof a&&"number"===typeof b||Number.isInteger(c)&&Number.isInteger(a)&&Number.isInteger(b))return a<b?b:a>c?c:a};ac.wrap=function(a,b){return 0>
a?b- -a%b:a%b};ac.max=function(){if(3===arguments.length){var a=arguments[1],b=arguments[2],c=arguments[0];a>c&&(c=a);b>c&&(c=b);return c}if(4===arguments.length){a=arguments[1];b=arguments[2];var d=arguments[3];c=arguments[0];a>c&&(c=a);b>c&&(c=b);d>c&&(c=d);return c}};ac.average=function(a,b){return(a+b)/2};ac.prototype.getClass=function(){return ac};$jscomp.global.Object.defineProperties(ac.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ac.constructor_=function(){};
ac.LOG_10=Math.log(10);var Aa=function(){Aa.constructor_.apply(this,arguments)};Aa.segmentToSegment=function(a,b,c,d){if(a.equals(b))return Aa.pointToSegment(a,c,d);if(c.equals(d))return Aa.pointToSegment(d,a,b);var e=!1;if(r.intersects(a,b,c,d)){var g=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);if(0===g)e=!0;else{var f=((a.y-c.y)*(b.x-a.x)-(a.x-c.x)*(b.y-a.y))/g;g=((a.y-c.y)*(d.x-c.x)-(a.x-c.x)*(d.y-c.y))/g;if(0>g||1<g||0>f||1<f)e=!0}}else e=!0;return e?ac.min(Aa.pointToSegment(a,c,d),Aa.pointToSegment(b,
c,d),Aa.pointToSegment(c,a,b),Aa.pointToSegment(d,a,b)):0};Aa.pointToSegment=function(a,b,c){if(b.x===c.x&&b.y===c.y)return a.distance(b);var d=(c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y),e=((a.x-b.x)*(c.x-b.x)+(a.y-b.y)*(c.y-b.y))/d;return 0>=e?a.distance(b):1<=e?a.distance(c):Math.abs(((b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y))/d)*Math.sqrt(d)};Aa.pointToLinePerpendicular=function(a,b,c){var d=(c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y);return Math.abs(((b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y))/d)*Math.sqrt(d)};
Aa.pointToSegmentString=function(a,b){if(0===b.length)throw new F("Line array must contain at least one vertex");for(var c=a.distance(b[0]),d=0;d<b.length-1;d++){var e=Aa.pointToSegment(a,b[d],b[d+1]);e<c&&(c=e)}return c};Aa.prototype.getClass=function(){return Aa};$jscomp.global.Object.defineProperties(Aa.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Aa.constructor_=function(){};var M=function(){M.constructor_.apply(this,arguments)};M.prototype.setOrdinate=function(a,
b,c){};M.prototype.size=function(){};M.prototype.getOrdinate=function(a,b){};M.prototype.getCoordinate=function(){};M.prototype.getCoordinateCopy=function(a){};M.prototype.getDimension=function(){};M.prototype.getX=function(a){};M.prototype.expandEnvelope=function(a){};M.prototype.copy=function(){};M.prototype.getY=function(a){};M.prototype.toCoordinateArray=function(){};M.prototype.getClass=function(){return M};$jscomp.global.Object.defineProperties(M.prototype,{interfaces_:{configurable:!0,enumerable:!0,
get:function(){return[Sf]}}});M.constructor_=function(){};M.X=0;M.Y=1;M.Z=2;M.M=3;var df=function(){df.constructor_.apply(this,arguments)};df.prototype.create=function(){1!==arguments.length||arguments[0]instanceof Array||v(arguments[0],M)};df.prototype.getClass=function(){return df};$jscomp.global.Object.defineProperties(df.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});df.constructor_=function(){};var jc=function(){jc.constructor_.apply(this,arguments)};jc.prototype.filter=
function(a){};jc.prototype.getClass=function(){return jc};$jscomp.global.Object.defineProperties(jc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});jc.constructor_=function(){};var l=function(){l.constructor_.apply(this,arguments)};l.prototype.isGeometryCollection=function(){return this.getTypeCode()===l.TYPECODE_GEOMETRYCOLLECTION};l.prototype.getFactory=function(){return this._factory};l.prototype.getGeometryN=function(a){return this};l.prototype.getArea=function(){return 0};
l.prototype.isRectangle=function(){return!1};l.prototype.equals=function(a){if(a instanceof l)return null===a?!1:this.equalsTopo(a);if(a instanceof Object)return a instanceof l?this.equalsExact(a):!1};l.prototype.equalsExact=function(a){return this===a||this.equalsExact(a,0)};l.prototype.geometryChanged=function(){this.apply(l.geometryChangedFilter)};l.prototype.geometryChangedAction=function(){this._envelope=null};l.prototype.equalsNorm=function(a){return null===a?!1:this.norm().equalsExact(a.norm())};
l.prototype.getLength=function(){return 0};l.prototype.getNumGeometries=function(){return 1};l.prototype.compareTo=function(){if(1===arguments.length){var a=arguments[0],b=a;return this.getTypeCode()!==b.getTypeCode()?this.getTypeCode()-b.getTypeCode():this.isEmpty()&&b.isEmpty()?0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(a)}if(2===arguments.length){a=arguments[0];var c=arguments[1];b=a;return this.getTypeCode()!==b.getTypeCode()?this.getTypeCode()-b.getTypeCode():this.isEmpty()&&b.isEmpty()?
0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(a,c)}};l.prototype.getUserData=function(){return this._userData};l.prototype.getSRID=function(){return this._SRID};l.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};l.prototype.checkNotGeometryCollection=function(a){if(a.getTypeCode()===l.TYPECODE_GEOMETRYCOLLECTION)throw new F("This method does not support GeometryCollection arguments");};l.prototype.equal=function(a,b,c){return 0===c?a.equals(b):
a.distance(b)<=c};l.prototype.norm=function(){var a=this.copy();a.normalize();return a};l.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()};l.prototype.getEnvelopeInternal=function(){null===this._envelope&&(this._envelope=this.computeEnvelopeInternal());return new r(this._envelope)};l.prototype.setSRID=function(a){this._SRID=a};l.prototype.setUserData=function(a){this._userData=a};l.prototype.compare=function(a,b){a=a.iterator();for(b=b.iterator();a.hasNext()&&b.hasNext();){var c=
a.next(),d=b.next();c=c.compareTo(d);if(0!==c)return c}return a.hasNext()?1:b.hasNext()?-1:0};l.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()};l.prototype.isGeometryCollectionOrDerived=function(){return this.getTypeCode()===l.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===l.TYPECODE_MULTIPOINT||this.getTypeCode()===l.TYPECODE_MULTILINESTRING||this.getTypeCode()===l.TYPECODE_MULTIPOLYGON?!0:!1};l.prototype.getClass=function(){return l};l.hasNonEmptyElements=function(a){for(var b=
0;b<a.length;b++)if(!a[b].isEmpty())return!0;return!1};l.hasNullElements=function(a){for(var b=0;b<a.length;b++)if(null===a[b])return!0;return!1};$jscomp.global.Object.defineProperties(l.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Sf,hc,ic]}}});l.constructor_=function(a){a&&(this._userData=this._envelope=null,this._factory=a,this._SRID=a.getSRID())};l.serialVersionUID=0x799ea46522854c00;l.TYPECODE_POINT=0;l.TYPECODE_MULTIPOINT=1;l.TYPECODE_LINESTRING=2;l.TYPECODE_LINEARRING=
3;l.TYPECODE_MULTILINESTRING=4;l.TYPECODE_POLYGON=5;l.TYPECODE_MULTIPOLYGON=6;l.TYPECODE_GEOMETRYCOLLECTION=7;l.TYPENAME_POINT="Point";l.TYPENAME_MULTIPOINT="MultiPoint";l.TYPENAME_LINESTRING="LineString";l.TYPENAME_LINEARRING="LinearRing";l.TYPENAME_MULTILINESTRING="MultiLineString";l.TYPENAME_POLYGON="Polygon";l.TYPENAME_MULTIPOLYGON="MultiPolygon";l.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection";l.geometryChangedFilter={get interfaces_(){return[jc]},filter:function(a){a.geometryChangedAction()}};
var Tc=function(){Tc.constructor_.apply(this,arguments)};Tc.prototype.filter=function(a){};Tc.prototype.getClass=function(){return Tc};$jscomp.global.Object.defineProperties(Tc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Tc.constructor_=function(){};var Qa=function(){Qa.constructor_.apply(this,arguments)};Qa.prototype.isInBoundary=function(a){};Qa.prototype.getClass=function(){return Qa};$jscomp.global.Object.defineProperties(Qa.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});var ef=function(){ef.constructor_.apply(this,arguments)};ef.prototype.isInBoundary=function(a){return 1===a%2};ef.prototype.getClass=function(){return ef};$jscomp.global.Object.defineProperties(ef.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Qa]}}});ef.constructor_=function(){};var ff=function(){ff.constructor_.apply(this,arguments)};ff.prototype.isInBoundary=function(a){return 0<a};ff.prototype.getClass=function(){return ff};
$jscomp.global.Object.defineProperties(ff.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Qa]}}});ff.constructor_=function(){};var gf=function(){gf.constructor_.apply(this,arguments)};gf.prototype.isInBoundary=function(a){return 1<a};gf.prototype.getClass=function(){return gf};$jscomp.global.Object.defineProperties(gf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Qa]}}});gf.constructor_=function(){};var hf=function(){hf.constructor_.apply(this,
arguments)};hf.prototype.isInBoundary=function(a){return 1===a};hf.prototype.getClass=function(){return hf};$jscomp.global.Object.defineProperties(hf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Qa]}}});hf.constructor_=function(){};Qa.Mod2BoundaryNodeRule=ef;Qa.EndPointBoundaryNodeRule=ff;Qa.MultiValentEndPointBoundaryNodeRule=gf;Qa.MonoValentEndPointBoundaryNodeRule=hf;Qa.constructor_=function(){};Qa.MOD2_BOUNDARY_RULE=new ef;Qa.ENDPOINT_BOUNDARY_RULE=new ff;Qa.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=
new gf;Qa.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new hf;Qa.OGC_SFS_BOUNDARY_RULE=Qa.MOD2_BOUNDARY_RULE;var C=function(){C.constructor_.apply(this,arguments)};C.isRing=function(a){return 4>a.length||!a[0].equals2D(a[a.length-1])?!1:!0};C.ptNotInList=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(0>C.indexOf(d,b))return d}return null};C.scroll=function(a,b){b=C.indexOf(b,a);if(0>b)return null;var c=Array(a.length).fill(null);wa.arraycopy(a,b,c,0,a.length-b);wa.arraycopy(a,0,c,a.length-b,b);wa.arraycopy(c,
0,a,0,a.length)};C.equals=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(a===b)return!0;if(null===a||null===b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!a[c].equals(b[c]))return!1;return!0}if(3===arguments.length){a=arguments[0];b=arguments[1];var d=arguments[2];if(a===b)return!0;if(null===a||null===b||a.length!==b.length)return!1;for(c=0;c<a.length;c++)if(0!==d.compare(a[c],b[c]))return!1;return!0}};C.intersection=function(a,b){for(var c=new ea,d=0;d<a.length;d++)b.intersects(a[d])&&
c.add(a[d],!0);return c.toCoordinateArray()};C.hasRepeatedPoints=function(a){for(var b=1;b<a.length;b++)if(a[b-1].equals(a[b]))return!0;return!1};C.removeRepeatedPoints=function(a){return C.hasRepeatedPoints(a)?(new ea(a,!1)).toCoordinateArray():a};C.reverse=function(a){for(var b=a.length-1,c=Math.trunc(b/2),d=0;d<=c;d++){var e=a[d];a[d]=a[b-d];a[b-d]=e}};C.removeNull=function(a){for(var b=0,c=0;c<a.length;c++)null!==a[c]&&b++;var d=Array(b).fill(null);if(0===b)return d;for(c=b=0;c<a.length;c++)null!==
a[c]&&(d[b++]=a[c]);return d};C.copyDeep=function(){if(1===arguments.length){for(var a=arguments[0],b=Array(a.length).fill(null),c=0;c<a.length;c++)b[c]=new h(a[c]);return b}if(5===arguments.length){a=arguments[0];b=arguments[1];var d=arguments[2],e=arguments[3],g=arguments[4];for(c=0;c<g;c++)d[e+c]=new h(a[b+c])}};C.isEqualReversed=function(a,b){for(var c=0;c<a.length;c++)if(0!==a[c].compareTo(b[a.length-c-1]))return!1;return!0};C.envelope=function(a){for(var b=new r,c=0;c<a.length;c++)b.expandToInclude(a[c]);
return b};C.toCoordinateArray=function(a){return a.toArray(C.coordArrayType)};C.atLeastNCoordinatesOrNothing=function(a,b){return b.length>=a?b:[]};C.indexOf=function(a,b){for(var c=0;c<b.length;c++)if(a.equals(b[c]))return c;return-1};C.increasingDirection=function(a){for(var b=0;b<Math.trunc(a.length/2);b++){var c=a[b].compareTo(a[a.length-1-b]);if(0!==c)return c}return 1};C.compare=function(a,b){for(var c=0;c<a.length&&c<b.length;){var d=a[c].compareTo(b[c]);if(0!==d)return d;c++}return c<b.length?
-1:c<a.length?1:0};C.minCoordinate=function(a){for(var b=null,c=0;c<a.length;c++)if(null===b||0<b.compareTo(a[c]))b=a[c];return b};C.extract=function(a,b,c){b=ac.clamp(b,0,a.length);c=ac.clamp(c,-1,a.length);var d=c-b+1;0>c&&(d=0);b>=a.length&&(d=0);c<b&&(d=0);var e=Array(d).fill(null);if(0===d)return e;for(d=0;b<=c;b++)e[d++]=a[b];return e};C.prototype.getClass=function(){return C};$jscomp.global.Object.defineProperties(C.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
var Bf=function(){Bf.constructor_.apply(this,arguments)};Bf.prototype.compare=function(a,b){return C.compare(a,b)};Bf.prototype.getClass=function(){return Bf};$jscomp.global.Object.defineProperties(Bf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[af]}}});Bf.constructor_=function(){};var jf=function(){jf.constructor_.apply(this,arguments)};jf.prototype.compare=function(a,b){if(a.length<b.length)return-1;if(a.length>b.length)return 1;if(0===a.length)return 0;var c=C.compare(a,
b);return C.isEqualReversed(a,b)?0:c};jf.prototype.OLDcompare=function(a,b){if(a.length<b.length)return-1;if(a.length>b.length)return 1;if(0===a.length)return 0;for(var c=C.increasingDirection(a),d=C.increasingDirection(b),e=0<c?0:a.length-1,g=0<d?0:a.length-1,f=0;f<a.length;f++){var h=a[e].compareTo(b[g]);if(0!==h)return h;e+=c;g+=d}return 0};jf.prototype.getClass=function(){return jf};$jscomp.global.Object.defineProperties(jf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[af]}}});
jf.constructor_=function(){};C.ForwardComparator=Bf;C.BidirectionalComparator=jf;C.constructor_=function(){};C.coordArrayType=[].fill(null);Af.prototype.get=function(){};Af.prototype.put=function(){};Af.prototype.size=function(){};Af.prototype.values=function(){};Af.prototype.entrySet=function(){};qg.prototype=new Af;cg.prototype=new ra;cg.prototype.contains=function(){};sb.prototype=new cg;sb.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++)if(this.array_[b]===a)return!0;return!1};
sb.prototype.add=function(a){if(this.contains(a))return!1;this.array_.push(a);return!0};sb.prototype.addAll=function(a){for(a=a.iterator();a.hasNext();)this.add(a.next());return!0};sb.prototype.remove=function(a){throw new javascript.util.OperationNotSupported;};sb.prototype.size=function(){return this.array_.length};sb.prototype.isEmpty=function(){return 0===this.array_.length};sb.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a};sb.prototype.iterator=
function(){return new gg(this)};var gg=function(a){this.hashSet_=a;this.position_=0};gg.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Tf;return this.hashSet_.array_[this.position_++]};gg.prototype.hasNext=function(){return this.position_<this.hashSet_.size()?!0:!1};gg.prototype.remove=function(){throw new Vf;};Wa.prototype=new qg;Wa.prototype.get=function(a){for(var b=this.root_;null!==b;){var c=a.compareTo(b.key);if(0>c)b=b.left;else if(0<c)b=b.right;else return b.value}return null};
Wa.prototype.put=function(a,b){if(null===this.root_)return this.root_={key:a,value:b,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var c=this.root_;do{var d=c;var e=a.compareTo(c.key);if(0>e)c=c.left;else if(0<e)c=c.right;else return d=c.value,c.value=b,d}while(null!==c);b={key:a,left:null,right:null,value:b,parent:d,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};0>e?d.left=
b:d.right=b;this.fixAfterInsertion(b);this.size_++;return null};Wa.prototype.fixAfterInsertion=function(a){for(a.color=1;null!=a&&a!=this.root_&&1==a.parent.color;)if(sa(a)==lg(sa(sa(a)))){var b=rg(sa(sa(a)));1==(null==b?0:b.color)?(Od(sa(a),0),Od(b,0),Od(sa(sa(a)),1),a=sa(sa(a))):(a==rg(sa(a))&&(a=sa(a),this.rotateLeft(a)),Od(sa(a),0),Od(sa(sa(a)),1),this.rotateRight(sa(sa(a))))}else b=lg(sa(sa(a))),1==(null==b?0:b.color)?(Od(sa(a),0),Od(b,0),Od(sa(sa(a)),1),a=sa(sa(a))):(a==lg(sa(a))&&(a=sa(a),
this.rotateRight(a)),Od(sa(a),0),Od(sa(sa(a)),1),this.rotateLeft(sa(sa(a))));this.root_.color=0};Wa.prototype.values=function(){var a=new m,b=this.getFirstEntry();if(null!==b)for(a.add(b.value);null!==(b=Wa.successor(b));)a.add(b.value);return a};Wa.prototype.entrySet=function(){var a=new sb,b=this.getFirstEntry();if(null!==b)for(a.add(b);null!==(b=Wa.successor(b));)a.add(b);return a};Wa.prototype.rotateLeft=function(a){if(null!=a){var b=a.right;a.right=b.left;null!=b.left&&(b.left.parent=a);b.parent=
a.parent;null==a.parent?this.root_=b:a.parent.left==a?a.parent.left=b:a.parent.right=b;b.left=a;a.parent=b}};Wa.prototype.rotateRight=function(a){if(null!=a){var b=a.left;a.left=b.right;null!=b.right&&(b.right.parent=a);b.parent=a.parent;null==a.parent?this.root_=b:a.parent.right==a?a.parent.right=b:a.parent.left=b;b.right=a;a.parent=b}};Wa.prototype.getFirstEntry=function(){var a=this.root_;if(null!=a)for(;null!=a.left;)a=a.left;return a};Wa.successor=function(a){if(null===a)return null;if(null!==
a.right)for(var b=a.right;null!==b.left;)b=b.left;else for(b=a.parent;null!==b&&a===b.right;)a=b,b=b.parent;return b};Wa.prototype.size=function(){return this.size_};Wa.prototype.containsKey=function(a){for(var b=this.root_;null!==b;){var c=a.compareTo(b.key);if(0>c)b=b.left;else if(0<c)b=b.right;else return!0}return!1};var kf=function(){kf.constructor_.apply(this,arguments)};kf.prototype.getClass=function(){return kf};$jscomp.global.Object.defineProperties(kf.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});kf.constructor_=function(){};sg.prototype=new cg;Zb.prototype=new sg;Zb.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++)if(0===this.array_[b].compareTo(a))return!0;return!1};Zb.prototype.add=function(a){if(this.contains(a))return!1;for(var b=0,c=this.array_.length;b<c;b++)if(1===this.array_[b].compareTo(a))return this.array_.splice(b,0,a),!0;this.array_.push(a);return!0};Zb.prototype.addAll=function(a){for(a=a.iterator();a.hasNext();)this.add(a.next());
return!0};Zb.prototype.remove=function(a){throw new Vf;};Zb.prototype.size=function(){return this.array_.length};Zb.prototype.isEmpty=function(){return 0===this.array_.length};Zb.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a};Zb.prototype.iterator=function(){return new hg(this)};var hg=function(a){this.treeSet_=a;this.position_=0};hg.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Tf;return this.treeSet_.array_[this.position_++]};
hg.prototype.hasNext=function(){return this.position_<this.treeSet_.size()?!0:!1};hg.prototype.remove=function(){throw new Vf;};Pd.sort=function(){var a=arguments[0];if(1===arguments.length){var b=function(a,b){return a.compareTo(b)};a.sort(b)}else if(2===arguments.length){var c=arguments[1];b=function(a,b){return c.compare(a,b)};a.sort(b)}else if(3===arguments.length){var d=a.slice(arguments[1],arguments[2]);d.sort();b=a.slice(0,arguments[1]).concat(d,a.slice(arguments[2],a.length));a.splice(0,a.length);
for(d=0;d<b.length;d++)a.push(b[d])}else if(4===arguments.length)for(d=a.slice(arguments[1],arguments[2]),c=arguments[3],b=function(a,b){return c.compare(a,b)},d.sort(b),b=a.slice(0,arguments[1]).concat(d,a.slice(arguments[2],a.length)),a.splice(0,a.length),d=0;d<b.length;d++)a.push(b[d])};Pd.asList=function(a){for(var b=new m,c=0,d=a.length;c<d;c++)b.add(a[c]);return b};var n=function(){n.constructor_.apply(this,arguments)};n.toDimensionSymbol=function(a){switch(a){case n.FALSE:return n.SYM_FALSE;
case n.TRUE:return n.SYM_TRUE;case n.DONTCARE:return n.SYM_DONTCARE;case n.P:return n.SYM_P;case n.L:return n.SYM_L;case n.A:return n.SYM_A}throw new F("Unknown dimension value: "+a);};n.toDimensionValue=function(a){switch(Wf.toUpperCase(a)){case n.SYM_FALSE:return n.FALSE;case n.SYM_TRUE:return n.TRUE;case n.SYM_DONTCARE:return n.DONTCARE;case n.SYM_P:return n.P;case n.SYM_L:return n.L;case n.SYM_A:return n.A}throw new F("Unknown dimension symbol: "+a);};n.prototype.getClass=function(){return n};
$jscomp.global.Object.defineProperties(n.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});n.constructor_=function(){};n.P=0;n.L=1;n.A=2;n.FALSE=-1;n.TRUE=-2;n.DONTCARE=-3;n.SYM_FALSE="F";n.SYM_TRUE="T";n.SYM_DONTCARE="*";n.SYM_P="0";n.SYM_L="1";n.SYM_A="2";var Gc=function(){Gc.constructor_.apply(this,arguments)};Gc.prototype.filter=function(a){};Gc.prototype.getClass=function(){return Gc};$jscomp.global.Object.defineProperties(Gc.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});Gc.constructor_=function(){};var uc=function(){uc.constructor_.apply(this,arguments)};uc.prototype.filter=function(a,b){};uc.prototype.isDone=function(){};uc.prototype.isGeometryChanged=function(){};uc.prototype.getClass=function(){return uc};$jscomp.global.Object.defineProperties(uc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});uc.constructor_=function(){};var x=function(){var a=l.call(this)||this;x.constructor_.apply(a,
arguments);return a};$jscomp.inherits(x,l);x.prototype.computeEnvelopeInternal=function(){for(var a=new r,b=0;b<this._geometries.length;b++)a.expandToInclude(this._geometries[b].getEnvelopeInternal());return a};x.prototype.getGeometryN=function(a){return this._geometries[a]};x.prototype.getCoordinates=function(){for(var a=Array(this.getNumPoints()).fill(null),b=-1,c=0;c<this._geometries.length;c++)for(var d=this._geometries[c].getCoordinates(),e=0;e<d.length;e++)b++,a[b]=d[e];return a};x.prototype.getArea=
function(){for(var a=0,b=0;b<this._geometries.length;b++)a+=this._geometries[b].getArea();return a};x.prototype.equalsExact=function(){if(2===arguments.length&&"number"===typeof arguments[1]&&arguments[0]instanceof l){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a)||this._geometries.length!==a._geometries.length)return!1;for(var c=0;c<this._geometries.length;c++)if(!this._geometries[c].equalsExact(a._geometries[c],b))return!1;return!0}return l.prototype.equalsExact.apply(this,arguments)};
x.prototype.normalize=function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();Pd.sort(this._geometries)};x.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()};x.prototype.getBoundaryDimension=function(){for(var a=n.FALSE,b=0;b<this._geometries.length;b++)a=Math.max(a,this._geometries[b].getBoundaryDimension());return a};x.prototype.getTypeCode=function(){return l.TYPECODE_GEOMETRYCOLLECTION};x.prototype.getDimension=function(){for(var a=
n.FALSE,b=0;b<this._geometries.length;b++)a=Math.max(a,this._geometries[b].getDimension());return a};x.prototype.getLength=function(){for(var a=0,b=0;b<this._geometries.length;b++)a+=this._geometries[b].getLength();return a};x.prototype.getNumPoints=function(){for(var a=0,b=0;b<this._geometries.length;b++)a+=this._geometries[b].getNumPoints();return a};x.prototype.getNumGeometries=function(){return this._geometries.length};x.prototype.reverse=function(){for(var a=Array(this._geometries.length).fill(null),
b=0;b<this._geometries.length;b++)a[b]=this._geometries[b].reverse();return this.getFactory().createGeometryCollection(a)};x.prototype.compareToSameClass=function(){if(1===arguments.length){var a=arguments[0],b=new Zb(Pd.asList(this._geometries));a=new Zb(Pd.asList(a._geometries));return this.compare(b,a)}if(2===arguments.length){b=arguments[1];a=arguments[0];for(var c=this.getNumGeometries(),d=a.getNumGeometries(),e=0;e<c&&e<d;){var g=this.getGeometryN(e),f=a.getGeometryN(e);g=g.compareToSameClass(f,
b);if(0!==g)return g;e++}return e<c?1:e<d?-1:0}};x.prototype.apply=function(a){if(v(a,Tc))for(var b=0;b<this._geometries.length;b++)this._geometries[b].apply(a);else if(v(a,uc)){if(0===this._geometries.length)return null;for(b=0;b<this._geometries.length&&(this._geometries[b].apply(a),!a.isDone());b++);a.isGeometryChanged()&&this.geometryChanged()}else if(v(a,Gc))for(a.filter(this),b=0;b<this._geometries.length;b++)this._geometries[b].apply(a);else if(v(a,jc))for(a.filter(this),b=0;b<this._geometries.length;b++)this._geometries[b].apply(a)};
x.prototype.getBoundary=function(){this.checkNotGeometryCollection(this);w.shouldNeverReachHere();return null};x.prototype.getGeometryType=function(){return l.TYPENAME_GEOMETRYCOLLECTION};x.prototype.copy=function(){for(var a=Array(this._geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this._geometries[b].copy();return new x(a,this._factory)};x.prototype.isEmpty=function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0};x.prototype.getClass=function(){return x};
$jscomp.global.Object.defineProperties(x.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});x.constructor_=function(){this._geometries=null;if(0!==arguments.length&&2===arguments.length){var a=arguments[0];l.constructor_.call(this,arguments[1]);null===a&&(a=[]);if(l.hasNullElements(a))throw new F("geometries must not contain null elements");this._geometries=a}};x.serialVersionUID=-0x4f07bcb1f857d800;var Ba=function(){var a=x.call(this)||this;Ba.constructor_.apply(a,
arguments);return a};$jscomp.inherits(Ba,x);Ba.prototype.equalsExact=function(){if(2===arguments.length&&"number"===typeof arguments[1]&&arguments[0]instanceof l){var a=arguments[0],b=arguments[1];return this.isEquivalentClass(a)?x.prototype.equalsExact.call(this,a,b):!1}return x.prototype.equalsExact.apply(this,arguments)};Ba.prototype.getBoundaryDimension=function(){return this.isClosed()?n.FALSE:0};Ba.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;
return!0};Ba.prototype.getTypeCode=function(){return l.TYPECODE_MULTILINESTRING};Ba.prototype.getDimension=function(){return 1};Ba.prototype.reverse=function(){for(var a=this._geometries.length,b=Array(a).fill(null),c=0;c<this._geometries.length;c++)b[a-1-c]=this._geometries[c].reverse();return this.getFactory().createMultiLineString(b)};Ba.prototype.getBoundary=function(){return(new Mb(this)).getBoundary()};Ba.prototype.getGeometryType=function(){return l.TYPENAME_MULTILINESTRING};Ba.prototype.copy=
function(){for(var a=Array(this._geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this._geometries[b].copy();return new Ba(a,this._factory)};Ba.prototype.getClass=function(){return Ba};$jscomp.global.Object.defineProperties(Ba.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[kf]}}});Ba.constructor_=function(a,b){x.constructor_.call(this,a,b)};Ba.serialVersionUID=0x7155d2ab4afa8000;var Mb=function(){Mb.constructor_.apply(this,arguments)};Mb.getBoundary=function(){if(1===
arguments.length){var a=new Mb(arguments[0]);return a.getBoundary()}if(2===arguments.length)return a=new Mb(arguments[0],arguments[1]),a.getBoundary()};Mb.prototype.boundaryMultiLineString=function(a){if(this._geom.isEmpty())return this.getEmptyMultiPoint();a=this.computeBoundaryCoordinates(a);return 1===a.length?this._geomFact.createPoint(a[0]):this._geomFact.createMultiPointFromCoords(a)};Mb.prototype.getBoundary=function(){return this._geom instanceof u?this.boundaryLineString(this._geom):this._geom instanceof
Ba?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()};Mb.prototype.boundaryLineString=function(a){return this._geom.isEmpty()?this.getEmptyMultiPoint():a.isClosed()?this._bnRule.isInBoundary(2)?a.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([a.getStartPoint(),a.getEndPoint()])};Mb.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()};Mb.prototype.computeBoundaryCoordinates=function(a){var b=new m;this._endpointMap=new Wa;
for(var c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c);0!==d.getNumPoints()&&(this.addEndpoint(d.getCoordinateN(0)),this.addEndpoint(d.getCoordinateN(d.getNumPoints()-1)))}for(a=this._endpointMap.entrySet().iterator();a.hasNext();)c=a.next(),d=c.getValue().count,this._bnRule.isInBoundary(d)&&b.add(c.getKey());return C.toCoordinateArray(b)};Mb.prototype.addEndpoint=function(a){var b=this._endpointMap.get(a);null===b&&(b=new Uf,this._endpointMap.put(a,b));b.count++};Mb.prototype.getClass=function(){return Mb};
$jscomp.global.Object.defineProperties(Mb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Mb.constructor_=function(){this._endpointMap=this._bnRule=this._geomFact=this._geom=null;if(1===arguments.length)Mb.constructor_.call(this,arguments[0],Qa.MOD2_BOUNDARY_RULE);else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._geom=a;this._geomFact=a.getFactory();this._bnRule=b}};var Uf=function(){Uf.constructor_.apply(this,arguments)};Uf.prototype.getClass=
function(){return Uf};$jscomp.global.Object.defineProperties(Uf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Uf.constructor_=function(){this.count=null};var lf=function(){lf.constructor_.apply(this,arguments)};lf.ofLine=function(a){var b=a.size();if(1>=b)return 0;var c=0,d=new h;a.getCoordinate(0,d);for(var e=d.x,g=d.y,f=1;f<b;f++){a.getCoordinate(f,d);var k=d.x,l=d.y;e=k-e;g=l-g;c+=Math.sqrt(e*e+g*g);e=k;g=l}return c};lf.prototype.getClass=function(){return lf};
$jscomp.global.Object.defineProperties(lf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});lf.constructor_=function(){};var bc=function(){bc.constructor_.apply(this,arguments)};bc.chars=function(a,b){for(var c=Array(b).fill(null),d=0;d<b;d++)c[d]=a;return new String(c)};bc.getStackTrace=function(){if(1===arguments.length){var a=arguments[0],b=new Bg,c=new zg(b);a.printStackTrace(c);return b.toString()}if(2===arguments.length){a=arguments[1];b="";c=new Ag(bc.getStackTrace(arguments[0]));
c=new Cg(c);for(var d=0;d<a;d++)try{b+=c.readLine()+bc.NEWLINE}catch(e){throw e;}finally{}return b}};bc.split=function(a,b){var c=b.length,d=new m;a=""+a;for(var e=a.indexOf(b);0<=e;){var g=a.substring(0,e);d.add(g);a=a.substring(e+c);e=a.indexOf(b)}0<a.length&&d.add(a);b=Array(d.size()).fill(null);for(c=0;c<b.length;c++)b[c]=d.get(c);return b};bc.toString=function(){if(1===arguments.length&&"number"===typeof arguments[0])return bc.SIMPLE_ORDINATE_FORMAT.format(arguments[0])};bc.spaces=function(a){return bc.chars(" ",
a)};bc.prototype.getClass=function(){return bc};$jscomp.global.Object.defineProperties(bc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});bc.constructor_=function(){};bc.NEWLINE=wa.getProperty("line.separator");bc.SIMPLE_ORDINATE_FORMAT=new function(){}("0.#");cf.prototype.append=function(a){this.str+=a};cf.prototype.setCharAt=function(a,b){this.str=this.str.substr(0,a)+b+this.str.substr(a+1)};cf.prototype.toString=function(a){return this.str};var Fa=function(){Fa.constructor_.apply(this,
arguments)};Fa.copyCoord=function(a,b,c,d){for(var e=Math.min(a.getDimension(),c.getDimension()),g=0;g<e;g++)c.setOrdinate(d,g,a.getOrdinate(b,g))};Fa.isRing=function(a){var b=a.size();return 0===b?!0:3>=b?!1:a.getOrdinate(0,M.X)===a.getOrdinate(b-1,M.X)&&a.getOrdinate(0,M.Y)===a.getOrdinate(b-1,M.Y)};Fa.isEqual=function(a,b){var c=a.size(),d=b.size();if(c!==d)return!1;d=Math.min(a.getDimension(),b.getDimension());for(var e=0;e<c;e++)for(var g=0;g<d;g++){var f=a.getOrdinate(e,g),h=b.getOrdinate(e,
g);if(!(a.getOrdinate(e,g)===b.getOrdinate(e,g)||y.isNaN(f)&&y.isNaN(h)))return!1}return!0};Fa.extend=function(a,b,c){a=a.create(c,b.getDimension());var d=b.size();Fa.copy(b,0,a,0,d);if(0<d)for(var e=d;e<c;e++)Fa.copy(b,d-1,a,e,1);return a};Fa.reverse=function(a){for(var b=a.size()-1,c=Math.trunc(b/2),d=0;d<=c;d++)Fa.swap(a,d,b-d)};Fa.swap=function(a,b,c){if(b===c)return null;for(var d=0;d<a.getDimension();d++){var e=a.getOrdinate(b,d);a.setOrdinate(b,d,a.getOrdinate(c,d));a.setOrdinate(c,d,e)}};
Fa.copy=function(a,b,c,d,e){for(var g=0;g<e;g++)Fa.copyCoord(a,b+g,c,d+g)};Fa.toString=function(){if(1===arguments.length&&v(arguments[0],M)){var a=arguments[0],b=a.size();if(0===b)return"()";var c=a.getDimension(),d=new cf;d.append("(");for(var e=0;e<b;e++){0<e&&d.append(" ");for(var g=0;g<c;g++)0<g&&d.append(","),d.append(bc.toString(a.getOrdinate(e,g)))}d.append(")");return d.toString()}};Fa.ensureValidRing=function(a,b){var c=b.size();return 0===c?b:3>=c?Fa.createClosedRing(a,b,4):b.getOrdinate(0,
M.X)===b.getOrdinate(c-1,M.X)&&b.getOrdinate(0,M.Y)===b.getOrdinate(c-1,M.Y)?b:Fa.createClosedRing(a,b,c+1)};Fa.createClosedRing=function(a,b,c){a=a.create(c,b.getDimension());var d=b.size();for(Fa.copy(b,0,a,0,d);d<c;d++)Fa.copy(b,0,a,d,1);return a};Fa.prototype.getClass=function(){return Fa};$jscomp.global.Object.defineProperties(Fa.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Fa.constructor_=function(){};var u=function(){var a=l.call(this)||this;u.constructor_.apply(a,
arguments);return a};$jscomp.inherits(u,l);u.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new r:this._points.expandEnvelope(new r)};u.prototype.isRing=function(){return this.isClosed()&&this.isSimple()};u.prototype.getCoordinates=function(){return this._points.toCoordinateArray()};u.prototype.equalsExact=function(){if(2===arguments.length&&"number"===typeof arguments[1]&&arguments[0]instanceof l){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a)||this._points.size()!==
a._points.size())return!1;for(var c=0;c<this._points.size();c++)if(!this.equal(this._points.getCoordinate(c),a._points.getCoordinate(c),b))return!1;return!0}return l.prototype.equalsExact.apply(this,arguments)};u.prototype.normalize=function(){for(var a=0;a<Math.trunc(this._points.size()/2);a++){var b=this._points.size()-1-a;if(!this._points.getCoordinate(a).equals(this._points.getCoordinate(b)))return 0<this._points.getCoordinate(a).compareTo(this._points.getCoordinate(b))&&(a=this._points.copy(),
Fa.reverse(a),this._points=a),null}};u.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)};u.prototype.getBoundaryDimension=function(){return this.isClosed()?n.FALSE:0};u.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))};u.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)};u.prototype.getTypeCode=function(){return l.TYPECODE_LINESTRING};
u.prototype.getDimension=function(){return 1};u.prototype.getLength=function(){return lf.ofLine(this._points)};u.prototype.getNumPoints=function(){return this._points.size()};u.prototype.reverse=function(){var a=this._points.copy();Fa.reverse(a);return this.getFactory().createLineString(a)};u.prototype.compareToSameClass=function(){if(1===arguments.length){for(var a=arguments[0],b=0,c=0;b<this._points.size()&&c<a._points.size();){var d=this._points.getCoordinate(b).compareTo(a._points.getCoordinate(c));
if(0!==d)return d;b++;c++}return b<this._points.size()?1:c<a._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)};u.prototype.apply=function(a){if(v(a,Tc))for(var b=0;b<this._points.size();b++)a.filter(this._points.getCoordinate(b));else if(v(a,uc)){if(0===this._points.size())return null;for(b=0;b<this._points.size()&&(a.filter(this._points,b),!a.isDone());b++);a.isGeometryChanged()&&this.geometryChanged()}else v(a,Gc)?a.filter(this):v(a,jc)&&
a.filter(this)};u.prototype.getBoundary=function(){return(new Mb(this)).getBoundary()};u.prototype.isEquivalentClass=function(a){return a instanceof u};u.prototype.getCoordinateN=function(a){return this._points.getCoordinate(a)};u.prototype.getGeometryType=function(){return l.TYPENAME_LINESTRING};u.prototype.copy=function(){return new u(this._points.copy(),this._factory)};u.prototype.getCoordinateSequence=function(){return this._points};u.prototype.isEmpty=function(){return 0===this._points.size()};
u.prototype.init=function(a){null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([]));if(1===a.size())throw new F("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a};u.prototype.isCoordinate=function(a){for(var b=0;b<this._points.size();b++)if(this._points.getCoordinate(b).equals(a))return!0;return!1};u.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)};u.prototype.getPointN=function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))};
u.prototype.getClass=function(){return u};$jscomp.global.Object.defineProperties(u.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[kf]}}});u.constructor_=function(){this._points=null;if(0!==arguments.length&&2===arguments.length){var a=arguments[0];l.constructor_.call(this,arguments[1]);this.init(a)}};u.serialVersionUID=0x2b2b51ba435c8e00;var Cf=function(){Cf.constructor_.apply(this,arguments)};Cf.prototype.getClass=function(){return Cf};$jscomp.global.Object.defineProperties(Cf.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Cf.constructor_=function(){};var N=function(){var a=l.call(this)||this;N.constructor_.apply(a,arguments);return a};$jscomp.inherits(N,l);N.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new r;var a=new r;a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0));return a};N.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]};N.prototype.equalsExact=function(){if(2===
arguments.length&&"number"===typeof arguments[1]&&arguments[0]instanceof l){var a=arguments[0],b=arguments[1];return this.isEquivalentClass(a)?this.isEmpty()&&a.isEmpty()?!0:this.isEmpty()!==a.isEmpty()?!1:this.equal(a.getCoordinate(),this.getCoordinate(),b):!1}return l.prototype.equalsExact.apply(this,arguments)};N.prototype.normalize=function(){};N.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null};N.prototype.getBoundaryDimension=function(){return n.FALSE};
N.prototype.getTypeCode=function(){return l.TYPECODE_POINT};N.prototype.getDimension=function(){return 0};N.prototype.getNumPoints=function(){return this.isEmpty()?0:1};N.prototype.reverse=function(){return this.copy()};N.prototype.getX=function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x};N.prototype.compareToSameClass=function(){if(1===arguments.length){var a=arguments[0];return this.getCoordinate().compareTo(a.getCoordinate())}if(2===
arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)};N.prototype.apply=function(a){if(v(a,Tc)){if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(v(a,uc)){if(this.isEmpty())return null;a.filter(this._coordinates,0);a.isGeometryChanged()&&this.geometryChanged()}else v(a,Gc)?a.filter(this):v(a,jc)&&a.filter(this)};N.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection()};N.prototype.getGeometryType=function(){return l.TYPENAME_POINT};
N.prototype.copy=function(){return new N(this._coordinates.copy(),this._factory)};N.prototype.getCoordinateSequence=function(){return this._coordinates};N.prototype.getY=function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y};N.prototype.isEmpty=function(){return 0===this._coordinates.size()};N.prototype.init=function(a){null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([]));w.isTrue(1>=a.size());this._coordinates=
a};N.prototype.isSimple=function(){return!0};N.prototype.getClass=function(){return N};$jscomp.global.Object.defineProperties(N.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Cf]}}});N.constructor_=function(a,b){this._coordinates=null;l.constructor_.call(this,b);this.init(a)};N.serialVersionUID=0x44077bad161cbc00;var vd=function(){vd.constructor_.apply(this,arguments)};vd.ofRing=function(a){if(a instanceof Array||v(a,M))return Math.abs(vd.ofRingSigned(a))};vd.ofRingSigned=
function(a){if(a instanceof Array){if(3>a.length)return 0;for(var b=0,c=a[0].x,d=1;d<a.length-1;d++)b+=(a[d].x-c)*(a[d-1].y-a[d+1].y);return b/2}if(v(a,M)){var e=a.size();if(3>e)return 0;var g=new h,f=new h,k=new h;a.getCoordinate(0,f);a.getCoordinate(1,k);c=f.x;k.x-=c;b=0;for(d=1;d<e-1;d++)g.y=f.y,f.x=k.x,f.y=k.y,a.getCoordinate(d+1,k),k.x-=c,b+=f.x*(g.y-k.y);return b/2}};vd.prototype.getClass=function(){return vd};$jscomp.global.Object.defineProperties(vd.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});vd.constructor_=function(){};var Uc=function(){Uc.constructor_.apply(this,arguments)};Uc.prototype.getClass=function(){return Uc};$jscomp.global.Object.defineProperties(Uc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Uc.constructor_=function(){};var D=function(){var a=l.call(this)||this;D.constructor_.apply(a,arguments);return a};$jscomp.inherits(D,l);D.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()};
D.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var a=Array(this.getNumPoints()).fill(null),b=-1,c=this._shell.getCoordinates(),d=0;d<c.length;d++)b++,a[b]=c[d];for(c=0;c<this._holes.length;c++){d=this._holes[c].getCoordinates();for(var e=0;e<d.length;e++)b++,a[b]=d[e]}return a};D.prototype.getArea=function(){var a=0+vd.ofRing(this._shell.getCoordinateSequence());for(var b=0;b<this._holes.length;b++)a-=vd.ofRing(this._holes[b].getCoordinateSequence());return a};D.prototype.isRectangle=
function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var a=this._shell.getCoordinateSequence(),b=this.getEnvelopeInternal(),c=0;5>c;c++){var d=a.getX(c);if(d!==b.getMinX()&&d!==b.getMaxX())return!1;var e=a.getY(c);if(e!==b.getMinY()&&e!==b.getMaxY())return!1}b=a.getX(0);var g=a.getY(0);for(c=1;4>=c;c++){d=a.getX(c);e=a.getY(c);if(d!==b===(e!==g))return!1;b=d;g=e}return!0};D.prototype.equalsExact=function(){if(2===arguments.length&&"number"===
typeof arguments[1]&&arguments[0]instanceof l){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a)||!this._shell.equalsExact(a._shell,b)||this._holes.length!==a._holes.length)return!1;for(var c=0;c<this._holes.length;c++)if(!this._holes[c].equalsExact(a._holes[c],b))return!1;return!0}return l.prototype.equalsExact.apply(this,arguments)};D.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var a=0;a<this._holes.length;a++)this.normalize(this._holes[a],
!1);Pd.sort(this._holes)}else if(2===arguments.length){a=arguments[0];var b=arguments[1];if(a.isEmpty())return null;var c=Array(a.getCoordinates().length-1).fill(null);wa.arraycopy(a.getCoordinates(),0,c,0,c.length);var d=C.minCoordinate(a.getCoordinates());C.scroll(c,d);wa.arraycopy(c,0,a.getCoordinates(),0,c.length);a.getCoordinates()[c.length]=c[0];z.isCCW(a.getCoordinates())===b&&C.reverse(a.getCoordinates())}};D.prototype.getCoordinate=function(){return this._shell.getCoordinate()};D.prototype.getNumInteriorRing=
function(){return this._holes.length};D.prototype.getBoundaryDimension=function(){return 1};D.prototype.getTypeCode=function(){return l.TYPECODE_POLYGON};D.prototype.getDimension=function(){return 2};D.prototype.getLength=function(){var a=0+this._shell.getLength();for(var b=0;b<this._holes.length;b++)a+=this._holes[b].getLength();return a};D.prototype.getNumPoints=function(){for(var a=this._shell.getNumPoints(),b=0;b<this._holes.length;b++)a+=this._holes[b].getNumPoints();return a};D.prototype.reverse=
function(){var a=this.copy();a._shell=this._shell.copy().reverse();a._holes=Array(this._holes.length).fill(null);for(var b=0;b<this._holes.length;b++)a._holes[b]=this._holes[b].copy().reverse();return a};D.prototype.convexHull=function(){return this.getExteriorRing().convexHull()};D.prototype.compareToSameClass=function(){if(1===arguments.length){var a=this._shell,b=arguments[0]._shell;return a.compareToSameClass(b)}if(2===arguments.length){var c=arguments[1],d=arguments[0];a=this._shell;b=d._shell;
a=a.compareToSameClass(b,c);if(0!==a)return a;a=this.getNumInteriorRing();b=d.getNumInteriorRing();for(var e=0;e<a&&e<b;){var g=this.getInteriorRingN(e),f=d.getInteriorRingN(e);g=g.compareToSameClass(f,c);if(0!==g)return g;e++}return e<a?1:e<b?-1:0}};D.prototype.apply=function(a){if(v(a,Tc)){this._shell.apply(a);for(var b=0;b<this._holes.length;b++)this._holes[b].apply(a)}else if(v(a,uc)){this._shell.apply(a);if(!a.isDone())for(b=0;b<this._holes.length&&(this._holes[b].apply(a),!a.isDone());b++);
a.isGeometryChanged()&&this.geometryChanged()}else if(v(a,Gc))a.filter(this);else if(v(a,jc))for(a.filter(this),this._shell.apply(a),b=0;b<this._holes.length;b++)this._holes[b].apply(a)};D.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var b=0;b<this._holes.length;b++)a[b+1]=this._holes[b];return 1>=a.length?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)};
D.prototype.getGeometryType=function(){return l.TYPENAME_POLYGON};D.prototype.copy=function(){for(var a=this._shell.copy(),b=Array(this._holes.length).fill(null),c=0;c<this._holes.length;c++)b[c]=this._holes[c].copy();return new D(a,b,this._factory)};D.prototype.getExteriorRing=function(){return this._shell};D.prototype.isEmpty=function(){return this._shell.isEmpty()};D.prototype.getInteriorRingN=function(a){return this._holes[a]};D.prototype.getClass=function(){return D};$jscomp.global.Object.defineProperties(D.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Uc]}}});D.constructor_=function(a,b,c){this._holes=this._shell=null;l.constructor_.call(this,c);null===a&&(a=this.getFactory().createLinearRing());null===b&&(b=[]);if(l.hasNullElements(b))throw new F("holes must not contain null elements");if(a.isEmpty()&&l.hasNonEmptyElements(b))throw new F("shell is empty but holes are not");this._shell=a;this._holes=b};D.serialVersionUID=-0x307ffefd8dc97200;var Ga=function(){var a=x.call(this)||
this;Ga.constructor_.apply(a,arguments);return a};$jscomp.inherits(Ga,x);Ga.prototype.isValid=function(){return!0};Ga.prototype.equalsExact=function(){if(2===arguments.length&&"number"===typeof arguments[1]&&arguments[0]instanceof l){var a=arguments[0],b=arguments[1];return this.isEquivalentClass(a)?x.prototype.equalsExact.call(this,a,b):!1}return x.prototype.equalsExact.apply(this,arguments)};Ga.prototype.getCoordinate=function(){return 1===arguments.length&&Number.isInteger(arguments[0])?this._geometries[arguments[0]].getCoordinate():
x.prototype.getCoordinate.apply(this,arguments)};Ga.prototype.getBoundaryDimension=function(){return n.FALSE};Ga.prototype.getTypeCode=function(){return l.TYPECODE_MULTIPOINT};Ga.prototype.getDimension=function(){return 0};Ga.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection()};Ga.prototype.getGeometryType=function(){return l.TYPENAME_MULTIPOINT};Ga.prototype.copy=function(){for(var a=Array(this._geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this._geometries[b].copy();
return new Ga(a,this._factory)};Ga.prototype.getClass=function(){return Ga};$jscomp.global.Object.defineProperties(Ga.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Cf]}}});Ga.constructor_=function(a,b){x.constructor_.call(this,a,b)};Ga.serialVersionUID=-0x6fb1ed4162e0fc00;var ba=function(){var a=u.call(this)||this;ba.constructor_.apply(a,arguments);return a};$jscomp.inherits(ba,u);ba.prototype.getBoundaryDimension=function(){return n.FALSE};ba.prototype.isClosed=function(){return this.isEmpty()?
!0:u.prototype.isClosed.call(this)};ba.prototype.getTypeCode=function(){return l.TYPECODE_LINEARRING};ba.prototype.reverse=function(){var a=this._points.copy();Fa.reverse(a);return this.getFactory().createLinearRing(a)};ba.prototype.validateConstruction=function(){if(!this.isEmpty()&&!u.prototype.isClosed.call(this))throw new F("Points of LinearRing do not form a closed linestring");if(1<=this.getCoordinateSequence().size()&&this.getCoordinateSequence().size()<ba.MINIMUM_VALID_SIZE)throw new F("Invalid number of points in LinearRing (found "+
this.getCoordinateSequence().size()+" - must be 0 or >= 4)");};ba.prototype.getGeometryType=function(){return l.TYPENAME_LINEARRING};ba.prototype.copy=function(){return new ba(this._points.copy(),this._factory)};ba.prototype.getClass=function(){return ba};$jscomp.global.Object.defineProperties(ba.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ba.constructor_=function(a,b){a instanceof Array&&b instanceof B?ba.constructor_.call(this,b.getCoordinateSequenceFactory().create(a),
b):v(a,M)&&b instanceof B&&(u.constructor_.call(this,a,b),this.validateConstruction())};ba.MINIMUM_VALID_SIZE=4;ba.serialVersionUID=-0x3b229e262367a600;var ta=function(){var a=x.call(this)||this;ta.constructor_.apply(a,arguments);return a};$jscomp.inherits(ta,x);ta.prototype.equalsExact=function(){if(2===arguments.length&&"number"===typeof arguments[1]&&arguments[0]instanceof l){var a=arguments[0],b=arguments[1];return this.isEquivalentClass(a)?x.prototype.equalsExact.call(this,a,b):!1}return x.prototype.equalsExact.apply(this,
arguments)};ta.prototype.getBoundaryDimension=function(){return 1};ta.prototype.getTypeCode=function(){return l.TYPECODE_MULTIPOLYGON};ta.prototype.getDimension=function(){return 2};ta.prototype.reverse=function(){for(var a=Array(this._geometries.length).fill(null),b=0;b<this._geometries.length;b++)a[b]=this._geometries[b].reverse();return this.getFactory().createMultiPolygon(a)};ta.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new m,
b=0;b<this._geometries.length;b++)for(var c=this._geometries[b].getBoundary(),d=0;d<c.getNumGeometries();d++)a.add(c.getGeometryN(d));b=Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(b))};ta.prototype.getGeometryType=function(){return l.TYPENAME_MULTIPOLYGON};ta.prototype.copy=function(){for(var a=Array(this._geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this._geometries[b].copy();return new ta(a,this._factory)};ta.prototype.getClass=function(){return ta};
$jscomp.global.Object.defineProperties(ta.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Uc]}}});ta.constructor_=function(a,b){x.constructor_.call(this,a,b)};ta.serialVersionUID=-0x7a5aa1369171980;var Xa=function(){Xa.constructor_.apply(this,arguments)};Xa.prototype.setCopyUserData=function(a){this._isUserDataCopied=a};Xa.prototype.edit=function(a,b){if(null===a)return null;b=this.editInternal(a,b);this._isUserDataCopied&&b.setUserData(a.getUserData());return b};Xa.prototype.editInternal=
function(a,b){null===this._factory&&(this._factory=a.getFactory());if(a instanceof x)return this.editGeometryCollection(a,b);if(a instanceof D)return this.editPolygon(a,b);if(a instanceof N||a instanceof u)return b.edit(a,this._factory);w.shouldNeverReachHere("Unsupported Geometry class: "+a.getClass().getName());return null};Xa.prototype.editGeometryCollection=function(a,b){a=b.edit(a,this._factory);for(var c=new m,d=0;d<a.getNumGeometries();d++){var e=this.edit(a.getGeometryN(d),b);null===e||e.isEmpty()||
c.add(e)}return a.getClass()===Ga?this._factory.createMultiPoint(c.toArray([])):a.getClass()===Ba?this._factory.createMultiLineString(c.toArray([])):a.getClass()===ta?this._factory.createMultiPolygon(c.toArray([])):this._factory.createGeometryCollection(c.toArray([]))};Xa.prototype.editPolygon=function(a,b){a=b.edit(a,this._factory);null===a&&(a=this._factory.createPolygon());if(a.isEmpty())return a;var c=this.edit(a.getExteriorRing(),b);if(null===c||c.isEmpty())return this._factory.createPolygon();
for(var d=new m,e=0;e<a.getNumInteriorRing();e++){var g=this.edit(a.getInteriorRingN(e),b);null===g||g.isEmpty()||d.add(g)}return this._factory.createPolygon(c,d.toArray([]))};Xa.prototype.getClass=function(){return Xa};$jscomp.global.Object.defineProperties(Xa.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Xa.GeometryEditorOperation=dg;var Df=function(){Df.constructor_.apply(this,arguments)};Df.prototype.edit=function(a,b){return a};Df.prototype.getClass=function(){return Df};
$jscomp.global.Object.defineProperties(Df.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[dg]}}});Df.constructor_=function(){};var Ef=function(){Ef.constructor_.apply(this,arguments)};Ef.prototype.edit=function(a,b){var c=this.edit(a.getCoordinates(),a);return a instanceof ba?null===c?b.createLinearRing():b.createLinearRing(c):a instanceof u?null===c?b.createLineString():b.createLineString(c):a instanceof N?null===c||0===c.length?b.createPoint():b.createPoint(c[0]):a};
Ef.prototype.getClass=function(){return Ef};$jscomp.global.Object.defineProperties(Ef.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[dg]}}});Ef.constructor_=function(){};var Ff=function(){Ff.constructor_.apply(this,arguments)};Ff.prototype.edit=function(a,b){return a instanceof ba?b.createLinearRing(this.edit(a.getCoordinateSequence(),a)):a instanceof u?b.createLineString(this.edit(a.getCoordinateSequence(),a)):a instanceof N?b.createPoint(this.edit(a.getCoordinateSequence(),
a)):a};Ff.prototype.getClass=function(){return Ff};$jscomp.global.Object.defineProperties(Ff.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[dg]}}});Ff.constructor_=function(){};Xa.NoOpGeometryOperation=Df;Xa.CoordinateOperation=Ef;Xa.CoordinateSequenceOperation=Ff;Xa.constructor_=function(){this._factory=null;this._isUserDataCopied=!1;0!==arguments.length&&1===arguments.length&&(this._factory=arguments[0])};var Ha=function(){Ha.constructor_.apply(this,arguments)};Ha.prototype.setOrdinate=
function(a,b,c){switch(b){case M.X:this._coordinates[a].x=c;break;case M.Y:this._coordinates[a].y=c;break;case M.Z:this._coordinates[a].z=c;break;default:throw new F("invalid ordinateIndex");}};Ha.prototype.size=function(){return this._coordinates.length};Ha.prototype.getOrdinate=function(a,b){switch(b){case M.X:return this._coordinates[a].x;case M.Y:return this._coordinates[a].y;case M.Z:return this._coordinates[a].z}return y.NaN};Ha.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];
if(2===arguments.length){var a=arguments[0],b=arguments[1];b.x=this._coordinates[a].x;b.y=this._coordinates[a].y;b.z=this._coordinates[a].z}};Ha.prototype.getCoordinateCopy=function(a){return new h(this._coordinates[a])};Ha.prototype.getDimension=function(){return this._dimension};Ha.prototype.getX=function(a){return this._coordinates[a].x};Ha.prototype.expandEnvelope=function(a){for(var b=0;b<this._coordinates.length;b++)a.expandToInclude(this._coordinates[b]);return a};Ha.prototype.copy=function(){for(var a=
Array(this.size()).fill(null),b=0;b<this._coordinates.length;b++)a[b]=this._coordinates[b].copy();return new Ha(a,this._dimension)};Ha.prototype.toString=function(){if(0<this._coordinates.length){var a=new cf(17*this._coordinates.length);a.append("(");a.append(this._coordinates[0]);for(var b=1;b<this._coordinates.length;b++)a.append(", "),a.append(this._coordinates[b]);a.append(")");return a.toString()}return"()"};Ha.prototype.getY=function(a){return this._coordinates[a].y};Ha.prototype.toCoordinateArray=
function(){return this._coordinates};Ha.prototype.getClass=function(){return Ha};$jscomp.global.Object.defineProperties(Ha.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[M,ic]}}});Ha.constructor_=function(){this._dimension=3;this._coordinates=null;if(1===arguments.length)if(arguments[0]instanceof Array)Ha.constructor_.call(this,arguments[0],3);else if(Number.isInteger(arguments[0])){var a=arguments[0];this._coordinates=Array(a).fill(null);for(var b=0;b<a;b++)this._coordinates[b]=
new h}else{if(v(arguments[0],M)){a=arguments[0];if(null===a)return this._coordinates=[].fill(null),null;this._dimension=a.getDimension();this._coordinates=Array(a.size()).fill(null);for(b=0;b<this._coordinates.length;b++)this._coordinates[b]=a.getCoordinateCopy(b)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1]))b=arguments[0],a=arguments[1],this._coordinates=b,this._dimension=a,null===b&&(this._coordinates=[].fill(null));else if(Number.isInteger(arguments[0])&&
Number.isInteger(arguments[1]))for(a=arguments[0],b=arguments[1],this._coordinates=Array(a).fill(null),this._dimension=b,b=0;b<a;b++)this._coordinates[b]=new h};Ha.serialVersionUID=-0xcb44a778db18e00;var Hc=function(){Hc.constructor_.apply(this,arguments)};Hc.instance=function(){return Hc.instanceObject};Hc.prototype.readResolve=function(){return Hc.instance()};Hc.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array||v(arguments[0],M))return new Ha(arguments[0])}else if(2===
arguments.length){var a=arguments[0],b=arguments[1];3<b&&(b=3);return 2>b?new Ha(a):new Ha(a,b)}};Hc.prototype.getClass=function(){return Hc};$jscomp.global.Object.defineProperties(Hc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[df,ic]}}});Hc.constructor_=function(){};Hc.serialVersionUID=-0x38e49fa6cf6f2e00;Hc.instanceObject=new Hc;var wd,Hg=Object.defineProperty,Ig=function(a,b){function c(a){if(!this||this.constructor!==c)return new c(a);this._keys=[];this._values=
[];this._itp=[];this.objectOnly=b;a&&Eg.call(this,a)}b||Hg(a,"size",{get:Fg});a.constructor=c;c.prototype=a;return c}({"delete":function(a){this.has(a)&&(this._keys.splice(wd,1),this._values.splice(wd,1),this._itp.forEach(function(a){wd<a[0]&&a[0]--}));return-1<wd},has:function(a){var b=this._keys;if(this.objectOnly&&a!==Object(a))throw new TypeError("Invalid value used as weak collection key");if(a!==a||0===a)for(wd=b.length;wd--&&!Dg(b[wd],a););else wd=b.indexOf(a);return-1<wd},get:function(a){return this.has(a)?
this._values[wd]:void 0},set:function(a,b){this.has(a)?this._values[wd]=b:this._values[this._keys.push(a)-1]=b;return this},keys:function(){return mg(this._itp,this._keys)},values:function(){return mg(this._itp,this._values)},entries:function(){return mg(this._itp,this._keys,this._values)},forEach:function(a,b){for(var c=this.entries();;){var d=c.next();if(d.done)break;a.call(b,d.value[1],d.value[0],this)}},clear:function(){(this._keys||0).length=this._values.length=0}}),Gg="undefined"!==typeof Map&&
Map.prototype.values?Map:Ig;Qd.prototype=new Af;Qd.prototype.get=function(a){return this.map_.get(a)||null};Qd.prototype.put=function(a,b){this.map_.set(a,b);return b};Qd.prototype.values=function(){for(var a=new m,b=this.map_.values(),c=b.next();!c.done;)a.add(c.value),c=b.next();return a};Qd.prototype.entrySet=function(){var a=new sb;this.map_.entries().forEach(function(b){return a.add(b)});return a};Qd.prototype.size=function(){return this.map_.size()};var R=function(){R.constructor_.apply(this,
arguments)};R.mostPrecise=function(a,b){return 0<=a.compareTo(b)?a:b};R.prototype.equals=function(a){return a instanceof R?this._modelType===a._modelType&&this._scale===a._scale:!1};R.prototype.compareTo=function(a){var b=this.getMaximumSignificantDigits();a=a.getMaximumSignificantDigits();return(new hd(b)).compareTo(new hd(a))};R.prototype.getScale=function(){return this._scale};R.prototype.isFloating=function(){return this._modelType===R.FLOATING||this._modelType===R.FLOATING_SINGLE};R.prototype.getType=
function(){return this._modelType};R.prototype.toString=function(){var a="UNKNOWN";this._modelType===R.FLOATING?a="Floating":this._modelType===R.FLOATING_SINGLE?a="Floating-Single":this._modelType===R.FIXED&&(a="Fixed (Scale="+this.getScale()+")");return a};R.prototype.makePrecise=function(a){if("number"===typeof a)return y.isNaN(a)||this._modelType===R.FLOATING_SINGLE?a:this._modelType===R.FIXED?Math.round(a*this._scale)/this._scale:a;if(a instanceof h){if(this._modelType===R.FLOATING)return null;
a.x=this.makePrecise(a.x);a.y=this.makePrecise(a.y)}};R.prototype.getMaximumSignificantDigits=function(){var a=16;this._modelType===R.FLOATING?a=16:this._modelType===R.FLOATING_SINGLE?a=6:this._modelType===R.FIXED&&(a=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10))));return a};R.prototype.setScale=function(a){this._scale=Math.abs(a)};R.prototype.getClass=function(){return R};$jscomp.global.Object.defineProperties(R.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[ic,
hc]}}});var kc=function(){kc.constructor_.apply(this,arguments)};kc.prototype.readResolve=function(){return kc.nameToTypeMap.get(this._name)};kc.prototype.toString=function(){return this._name};kc.prototype.getClass=function(){return kc};$jscomp.global.Object.defineProperties(kc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[ic]}}});kc.constructor_=function(a){this._name=a;kc.nameToTypeMap.put(a,this)};kc.serialVersionUID=-0x4cb98acd40a6b400;kc.nameToTypeMap=new Qd;R.Type=
kc;R.constructor_=function(){this._scale=this._modelType=null;if(0===arguments.length)this._modelType=R.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof kc){var a=arguments[0];this._modelType=a;a===R.FIXED&&this.setScale(1)}else"number"===typeof arguments[0]?(a=arguments[0],this._modelType=R.FIXED,this.setScale(a)):arguments[0]instanceof R&&(a=arguments[0],this._modelType=a._modelType,this._scale=a._scale)};R.serialVersionUID=0x6bee6404e9a25c00;R.FIXED=new kc("FIXED");R.FLOATING=new kc("FLOATING");
R.FLOATING_SINGLE=new kc("FLOATING SINGLE");R.maximumPreciseValue=9007199254740992;var B=function(){B.constructor_.apply(this,arguments)};B.toMultiPolygonArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)};B.toGeometryArray=function(a){if(null===a)return null;var b=Array(a.size()).fill(null);return a.toArray(b)};B.getDefaultCoordinateSequenceFactory=function(){return Hc.instance()};B.toMultiLineStringArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)};B.toLineStringArray=
function(a){var b=Array(a.size()).fill(null);return a.toArray(b)};B.toMultiPointArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)};B.toLinearRingArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)};B.toPointArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)};B.toPolygonArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)};B.createPointFromInternalCoord=function(a,b){b.getPrecisionModel().makePrecise(a);return b.getFactory().createPoint(a)};
B.prototype.toGeometry=function(a){return a.isNull()?this.createPoint():a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()?this.createPoint(new h(a.getMinX(),a.getMinY())):a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()?this.createLineString([new h(a.getMinX(),a.getMinY()),new h(a.getMaxX(),a.getMaxY())]):this.createPolygon(this.createLinearRing([new h(a.getMinX(),a.getMinY()),new h(a.getMinX(),a.getMaxY()),new h(a.getMaxX(),a.getMaxY()),new h(a.getMaxX(),a.getMinY()),new h(a.getMinX(),a.getMinY())]),
null)};B.prototype.createLineString=function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLineString(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(v(arguments[0],M))return new u(arguments[0],this)}};B.prototype.createMultiLineString=function(){if(0===arguments.length)return new Ba(null,this);if(1===arguments.length)return new Ba(arguments[0],
this)};B.prototype.buildGeometry=function(a){for(var b=null,c=!1,d=!1,e=a.iterator();e.hasNext();){var g=e.next(),f=g.getClass();null===b&&(b=f);f!==b&&(c=!0);g instanceof x&&(d=!0)}if(null===b)return this.createGeometryCollection();if(c||d)return this.createGeometryCollection(B.toGeometryArray(a));b=a.iterator().next();if(1<a.size()){if(b instanceof D)return this.createMultiPolygon(B.toPolygonArray(a));if(b instanceof u)return this.createMultiLineString(B.toLineStringArray(a));if(b instanceof N)return this.createMultiPoint(B.toPointArray(a));
w.shouldNeverReachHere("Unhandled class: "+b.getClass().getName())}return b};B.prototype.createMultiPointFromCoords=function(a){return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)};B.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof h){var a=arguments[0];return this.createPoint(null!==a?this.getCoordinateSequenceFactory().create([a]):
null)}if(v(arguments[0],M))return new N(arguments[0],this)}};B.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory};B.prototype.createPolygon=function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(v(arguments[0],M)||arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof ba)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new D(arguments[0],
arguments[1],this)};B.prototype.getSRID=function(){return this._SRID};B.prototype.createGeometryCollection=function(){if(0===arguments.length)return new x(null,this);if(1===arguments.length)return new x(arguments[0],this)};B.prototype.createGeometry=function(a){var b=new Xa(this),c=function(){};c.prototype.edit=function(){if(2===arguments.length&&arguments[1]instanceof l&&v(arguments[0],M))return this._coordinateSequenceFactory.create(arguments[0])};return b.edit(a,new c)};B.prototype.getPrecisionModel=
function(){return this._precisionModel};B.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLinearRing(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(v(arguments[0],M))return new ba(arguments[0],this)}};B.prototype.createMultiPolygon=function(){if(0===arguments.length)return new ta(null,this);if(1===
arguments.length)return new ta(arguments[0],this)};B.prototype.createMultiPoint=function(){if(0===arguments.length)return new Ga(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Ga(arguments[0],this);if(v(arguments[0],M)){var a=arguments[0];if(null===a)return this.createMultiPoint([].fill(null));for(var b=Array(a.size()).fill(null),c=0;c<a.size();c++){var d=this.getCoordinateSequenceFactory().create(1,a.getDimension());Fa.copy(a,c,d,0,1);b[c]=this.createPoint(d)}return this.createMultiPoint(b)}}};
B.prototype.getClass=function(){return B};$jscomp.global.Object.defineProperties(B.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[ic]}}});B.constructor_=function(){this._SRID=this._coordinateSequenceFactory=this._precisionModel=null;if(0===arguments.length)B.constructor_.call(this,new R,0);else if(1===arguments.length)if(v(arguments[0],df)){var a=arguments[0];B.constructor_.call(this,new R,0,a)}else arguments[0]instanceof R&&B.constructor_.call(this,arguments[0],0,B.getDefaultCoordinateSequenceFactory());
else if(2===arguments.length)B.constructor_.call(this,arguments[0],arguments[1],B.getDefaultCoordinateSequenceFactory());else if(3===arguments.length){a=arguments[1];var b=arguments[2];this._precisionModel=arguments[0];this._coordinateSequenceFactory=b;this._SRID=a}};B.serialVersionUID=-0x5ea75f2051eeb400;var Jg=/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,Kg=/^\s*(\w+)\s*EMPTY\s*$/,Lg=/\s+/,vg=/\)\s*,\s*\(/,Mg=/\)\s*\)\s*,\s*\(\s*\(/,ig=/^\s*\(?(.*?)\)?\s*$/,$f=function(a){this.geometryFactory=a||new B;this.precisionModel=
this.geometryFactory.getPrecisionModel()};$f.prototype.read=function(a){var b;a=a.replace(/[\n\r]/g," ");var c=Jg.exec(a);-1!==a.search("EMPTY")&&(c=Kg.exec(a),c[2]=void 0);if(c){var d=c[1].toLowerCase();c=c[2];se[d]&&(b=se[d].call(this,c))}if(void 0===b)throw Error("Could not parse WKT "+a);return b};$f.prototype.write=function(a){return this.extractGeometry(a)};$f.prototype.extractGeometry=function(a){var b=a.getGeometryType().toLowerCase();if(!Sd[b])return null;var c=b.toUpperCase();return a.isEmpty()?
c+" EMPTY":c+"("+Sd[b].call(this,a)+")"};var Sd={coordinate:function(a){return a.x+" "+a.y},point:function(a){return Sd.coordinate.call(this,a._coordinates._coordinates[0])},multipoint:function(a){for(var b=[],c=0,d=a._geometries.length;c<d;++c)b.push("("+Sd.point.call(this,a._geometries[c])+")");return b.join(",")},linestring:function(a){for(var b=[],c=0,d=a._points._coordinates.length;c<d;++c)b.push(Sd.coordinate.call(this,a._points._coordinates[c]));return b.join(",")},linearring:function(a){for(var b=
[],c=0,d=a._points._coordinates.length;c<d;++c)b.push(Sd.coordinate.call(this,a._points._coordinates[c]));return b.join(",")},multilinestring:function(a){for(var b=[],c=0,d=a._geometries.length;c<d;++c)b.push("("+Sd.linestring.call(this,a._geometries[c])+")");return b.join(",")},polygon:function(a){var b=[];b.push("("+Sd.linestring.call(this,a._shell)+")");for(var c=0,d=a._holes.length;c<d;++c)b.push("("+Sd.linestring.call(this,a._holes[c])+")");return b.join(",")},multipolygon:function(a){for(var b=
[],c=0,d=a._geometries.length;c<d;++c)b.push("("+Sd.polygon.call(this,a._geometries[c])+")");return b.join(",")},geometrycollection:function(a){for(var b=[],c=0,d=a._geometries.length;c<d;++c)b.push(this.extractGeometry(a._geometries[c]));return b.join(",")}},se={coord:function(a){a=a.trim().split(Lg);a=new h(Number.parseFloat(a[0]),Number.parseFloat(a[1]));this.precisionModel.makePrecise(a);return a},point:function(a){return void 0===a?this.geometryFactory.createPoint():this.geometryFactory.createPoint(se.coord.call(this,
a))},multipoint:function(a){if(void 0===a)return this.geometryFactory.createMultiPoint();for(var b=a.trim().split(","),c=[],d=0,e=b.length;d<e;++d)a=b[d].replace(ig,"$1"),c.push(se.point.call(this,a));return this.geometryFactory.createMultiPoint(c)},linestring:function(a){if(void 0===a)return this.geometryFactory.createLineString();a=a.trim().split(",");for(var b=[],c=0,d=a.length;c<d;++c)b.push(se.coord.call(this,a[c]));return this.geometryFactory.createLineString(b)},linearring:function(a){if(void 0===
a)return this.geometryFactory.createLinearRing();a=a.trim().split(",");for(var b=[],c=0,d=a.length;c<d;++c)b.push(se.coord.call(this,a[c]));return this.geometryFactory.createLinearRing(b)},multilinestring:function(a){if(void 0===a)return this.geometryFactory.createMultiLineString();for(var b=a.trim().split(vg),c=[],d=0,e=b.length;d<e;++d)a=b[d].replace(ig,"$1"),c.push(se.linestring.call(this,a));return this.geometryFactory.createMultiLineString(c)},polygon:function(a){if(void 0===a)return this.geometryFactory.createPolygon();
a=a.trim().split(vg);for(var b,c=[],d=0,e=a.length;d<e;++d){var g=a[d].replace(ig,"$1");g=se.linestring.call(this,g);g=this.geometryFactory.createLinearRing(g._points);0===d?b=g:c.push(g)}return this.geometryFactory.createPolygon(b,c)},multipolygon:function(a){if(void 0===a)return this.geometryFactory.createMultiPolygon();for(var b=a.trim().split(Mg),c=[],d=0,e=b.length;d<e;++d)a=b[d].replace(ig,"$1"),c.push(se.polygon.call(this,a));return this.geometryFactory.createMultiPolygon(c)},geometrycollection:function(a){if(void 0===
a)return this.geometryFactory.createGeometryCollection();a=a.replace(/,\s*([A-Za-z])/g,"|$1");a=a.trim().split("|");for(var b=[],c=0,d=a.length;c<d;++c)b.push(this.read(a[c]));return this.geometryFactory.createGeometryCollection(b)}},Bb=function(a){this.parser=new $f(a)};Bb.prototype.write=function(a){return this.parser.write(a)};Bb.toLineString=function(a,b){if(2!==arguments.length)throw Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+b.x+" "+b.y+" )"};var J=function(){J.constructor_.apply(this,
arguments)};J.computeEdgeDistance=function(a,b,c){var d=Math.abs(c.x-b.x),e=Math.abs(c.y-b.y);if(a.equals(b))d=0;else if(a.equals(c))d=d>e?d:e;else{c=Math.abs(a.x-b.x);var g=Math.abs(a.y-b.y);d=d>e?c:g;0!==d||a.equals(b)||(d=Math.max(c,g))}w.isTrue(!(0===d&&!a.equals(b)),"Bad distance calculation");return d};J.nonRobustComputeEdgeDistance=function(a,b,c){c=a.x-b.x;var d=a.y-b.y;c=Math.sqrt(c*c+d*d);w.isTrue(!(0===c&&!a.equals(b)),"Invalid distance calculation");return c};J.prototype.getIndexAlongSegment=
function(a,b){this.computeIntLineIndex();return this._intLineIndex[a][b]};J.prototype.getTopologySummary=function(){var a=new cf;this.isEndPoint()&&a.append(" endpoint");this._isProper&&a.append(" proper");this.isCollinear()&&a.append(" collinear");return a.toString()};J.prototype.computeIntersection=function(a,b,c,d){this._inputLines[0][0]=a;this._inputLines[0][1]=b;this._inputLines[1][0]=c;this._inputLines[1][1]=d;this._result=this.computeIntersect(a,b,c,d)};J.prototype.getIntersectionNum=function(){return this._result};
J.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var a=arguments[0],b=this.getEdgeDistance(a,0),c=this.getEdgeDistance(a,1);b>c?(this._intLineIndex[a][0]=0,this._intLineIndex[a][1]=1):(this._intLineIndex[a][0]=1,this._intLineIndex[a][1]=0)}};J.prototype.isProper=function(){return this.hasIntersection()&&
this._isProper};J.prototype.setPrecisionModel=function(a){this._precisionModel=a};J.prototype.isInteriorIntersection=function(){if(0===arguments.length)return this.isInteriorIntersection(0)||this.isInteriorIntersection(1)?!0:!1;if(1===arguments.length){for(var a=arguments[0],b=0;b<this._result;b++)if(!this._intPt[b].equals2D(this._inputLines[a][0])&&!this._intPt[b].equals2D(this._inputLines[a][1]))return!0;return!1}};J.prototype.getIntersection=function(a){return this._intPt[a]};J.prototype.isEndPoint=
function(){return this.hasIntersection()&&!this._isProper};J.prototype.hasIntersection=function(){return this._result!==J.NO_INTERSECTION};J.prototype.getEdgeDistance=function(a,b){return J.computeEdgeDistance(this._intPt[b],this._inputLines[a][0],this._inputLines[a][1])};J.prototype.isCollinear=function(){return this._result===J.COLLINEAR_INTERSECTION};J.prototype.toString=function(){return Bb.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Bb.toLineString(this._inputLines[1][0],
this._inputLines[1][1])+this.getTopologySummary()};J.prototype.getEndpoint=function(a,b){return this._inputLines[a][b]};J.prototype.isIntersection=function(a){for(var b=0;b<this._result;b++)if(this._intPt[b].equals2D(a))return!0;return!1};J.prototype.getIntersectionAlongSegment=function(a,b){this.computeIntLineIndex();return this._intPt[this._intLineIndex[a][b]]};J.prototype.getClass=function(){return J};$jscomp.global.Object.defineProperties(J.prototype,{interfaces_:{configurable:!0,enumerable:!0,
get:function(){return[]}}});J.constructor_=function(){this._result=null;this._inputLines=Array(2).fill().map(function(){return Array(2)});this._intPt=Array(2).fill(null);this._precisionModel=this._pb=this._pa=this._isProper=this._intLineIndex=null;this._intPt[0]=new h;this._intPt[1]=new h;this._pa=this._intPt[0];this._pb=this._intPt[1];this._result=0};J.DONT_INTERSECT=0;J.DO_INTERSECT=1;J.COLLINEAR=2;J.NO_INTERSECTION=0;J.POINT_INTERSECTION=1;J.COLLINEAR_INTERSECTION=2;var ca=function(){var a=J.call(this)||
this;ca.constructor_.apply(a,arguments);return a};$jscomp.inherits(ca,J);ca.nearestEndpoint=function(a,b,c,d){var e=a,g=Aa.pointToSegment(a,c,d),f=Aa.pointToSegment(b,c,d);f<g&&(g=f,e=b);f=Aa.pointToSegment(c,a,b);f<g&&(g=f,e=c);f=Aa.pointToSegment(d,a,b);f<g&&(e=d);return e};ca.prototype.isInSegmentEnvelopes=function(a){var b=new r(this._inputLines[0][0],this._inputLines[0][1]),c=new r(this._inputLines[1][0],this._inputLines[1][1]);return b.contains(a)&&c.contains(a)};ca.prototype.computeIntersection=
function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this._isProper=!1;if(r.intersects(b,c,a)&&0===z.index(b,c,a)&&0===z.index(c,b,a)){this._isProper=!0;if(a.equals(b)||a.equals(c))this._isProper=!1;this._result=J.POINT_INTERSECTION;return null}this._result=J.NO_INTERSECTION}else return J.prototype.computeIntersection.apply(this,arguments)};ca.prototype.normalizeToMinimum=function(a,b,c,d,e){e.x=this.smallestInAbsValue(a.x,b.x,c.x,d.x);e.y=this.smallestInAbsValue(a.y,
b.y,c.y,d.y);a.x-=e.x;a.y-=e.y;b.x-=e.x;b.y-=e.y;c.x-=e.x;c.y-=e.y;d.x-=e.x;d.y-=e.y};ca.prototype.safeHCoordinateIntersection=function(a,b,c,d){var e=null;try{e=ib.intersection(a,b,c,d)}catch(g){if(g instanceof Sc)e=ca.nearestEndpoint(a,b,c,d);else throw g;}finally{}return e};ca.prototype.intersection=function(a,b,c,d){var e=this.intersectionWithNormalization(a,b,c,d);this.isInSegmentEnvelopes(e)||(e=new h(ca.nearestEndpoint(a,b,c,d)));null!==this._precisionModel&&this._precisionModel.makePrecise(e);
return e};ca.prototype.smallestInAbsValue=function(a,b,c,d){var e=Math.abs(a);Math.abs(b)<e&&(a=b,e=Math.abs(b));Math.abs(c)<e&&(a=c,e=Math.abs(c));Math.abs(d)<e&&(a=d);return a};ca.prototype.checkDD=function(a,b,c,d,e){a=tb.intersection(a,b,c,d);b=this.isInSegmentEnvelopes(a);wa.out.println("DD in env = "+b+"  --------------------- "+a);1E-4<e.distance(a)&&wa.out.println("Distance = "+e.distance(a))};ca.prototype.intersectionWithNormalization=function(a,b,c,d){a=new h(a);b=new h(b);c=new h(c);var e=
new h(d);d=new h;this.normalizeToEnvCentre(a,b,c,e,d);a=this.safeHCoordinateIntersection(a,b,c,e);a.x+=d.x;a.y+=d.y;return a};ca.prototype.computeCollinearIntersection=function(a,b,c,d){var e=r.intersects(a,b,c),g=r.intersects(a,b,d),f=r.intersects(c,d,a),h=r.intersects(c,d,b);return e&&g?(this._intPt[0]=c,this._intPt[1]=d,J.COLLINEAR_INTERSECTION):f&&h?(this._intPt[0]=a,this._intPt[1]=b,J.COLLINEAR_INTERSECTION):e&&f?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||g||h?J.COLLINEAR_INTERSECTION:
J.POINT_INTERSECTION):e&&h?(this._intPt[0]=c,this._intPt[1]=b,!c.equals(b)||g||f?J.COLLINEAR_INTERSECTION:J.POINT_INTERSECTION):g&&f?(this._intPt[0]=d,this._intPt[1]=a,!d.equals(a)||e||h?J.COLLINEAR_INTERSECTION:J.POINT_INTERSECTION):g&&h?(this._intPt[0]=d,this._intPt[1]=b,!d.equals(b)||e||f?J.COLLINEAR_INTERSECTION:J.POINT_INTERSECTION):J.NO_INTERSECTION};ca.prototype.normalizeToEnvCentre=function(a,b,c,d,e){var g=a.x<b.x?a.x:b.x,f=a.y<b.y?a.y:b.y,h=a.x>b.x?a.x:b.x,k=a.y>b.y?a.y:b.y,l=c.x<d.x?c.x:
d.x,m=c.y<d.y?c.y:d.y,n=c.x>d.x?c.x:d.x,p=c.y>d.y?c.y:d.y;e.x=((g>l?g:l)+(h<n?h:n))/2;e.y=((f>m?f:m)+(k<p?k:p))/2;a.x-=e.x;a.y-=e.y;b.x-=e.x;b.y-=e.y;c.x-=e.x;c.y-=e.y;d.x-=e.x;d.y-=e.y};ca.prototype.computeIntersect=function(a,b,c,d){this._isProper=!1;if(!r.intersects(a,b,c,d))return J.NO_INTERSECTION;var e=z.index(a,b,c),g=z.index(a,b,d);if(0<e&&0<g||0>e&&0>g)return J.NO_INTERSECTION;var f=z.index(c,d,a),k=z.index(c,d,b);if(0<f&&0<k||0>f&&0>k)return J.NO_INTERSECTION;if(0===e&&0===g&&0===f&&0===
k)return this.computeCollinearIntersection(a,b,c,d);0===e||0===g||0===f||0===k?(this._isProper=!1,a.equals2D(c)||a.equals2D(d)?this._intPt[0]=a:b.equals2D(c)||b.equals2D(d)?this._intPt[0]=b:0===e?this._intPt[0]=new h(c):0===g?this._intPt[0]=new h(d):0===f?this._intPt[0]=new h(a):0===k&&(this._intPt[0]=new h(b))):(this._isProper=!0,this._intPt[0]=this.intersection(a,b,c,d));return J.POINT_INTERSECTION};ca.prototype.getClass=function(){return ca};$jscomp.global.Object.defineProperties(ca.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ca.constructor_=function(){};var q=function(){q.constructor_.apply(this,arguments)};q.midPoint=function(a,b){return new h((a.x+b.x)/2,(a.y+b.y)/2)};q.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)};q.prototype.orientationIndex=function(a){if(a instanceof q){var b=z.index(this.p0,this.p1,a.p0);a=z.index(this.p0,this.p1,a.p1);return 0<=b&&0<=a||0>=b&&0>=a?Math.max(b,a):0}if(a instanceof h)return z.index(this.p0,
this.p1,a)};q.prototype.toGeometry=function(a){return a.createLineString([this.p0,this.p1])};q.prototype.isVertical=function(){return this.p0.x===this.p1.x};q.prototype.equals=function(a){return a instanceof q?this.p0.equals(a.p0)&&this.p1.equals(a.p1):!1};q.prototype.intersection=function(a){var b=new ca;b.computeIntersection(this.p0,this.p1,a.p0,a.p1);return b.hasIntersection()?b.getIntersection(0):null};q.prototype.project=function(a){if(a instanceof h){if(a.equals(this.p0)||a.equals(this.p1))return new h(a);
var b=this.projectionFactor(a),c=new h;c.x=this.p0.x+b*(this.p1.x-this.p0.x);c.y=this.p0.y+b*(this.p1.y-this.p0.y);return c}if(a instanceof q){var d=this.projectionFactor(a.p0);b=this.projectionFactor(a.p1);if(1<=d&&1<=b||0>=d&&0>=b)return null;c=this.project(a.p0);0>d&&(c=this.p0);1<d&&(c=this.p1);a=this.project(a.p1);0>b&&(a=this.p0);1<b&&(a=this.p1);return new q(c,a)}};q.prototype.normalize=function(){0>this.p1.compareTo(this.p0)&&this.reverse()};q.prototype.angle=function(){return Math.atan2(this.p1.y-
this.p0.y,this.p1.x-this.p0.x)};q.prototype.getCoordinate=function(a){return 0===a?this.p0:this.p1};q.prototype.distancePerpendicular=function(a){return Aa.pointToLinePerpendicular(a,this.p0,this.p1)};q.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)};q.prototype.midPoint=function(){return q.midPoint(this.p0,this.p1)};q.prototype.projectionFactor=function(a){if(a.equals(this.p0))return 0;if(a.equals(this.p1))return 1;var b=this.p1.x-this.p0.x,c=this.p1.y-this.p0.y,d=b*b+c*c;return 0>=
d?y.NaN:((a.x-this.p0.x)*b+(a.y-this.p0.y)*c)/d};q.prototype.closestPoints=function(a){var b=this.intersection(a);if(null!==b)return[b,b];b=Array(2).fill(null);var c=this.closestPoint(a.p0);var d=c.distance(a.p0);b[0]=c;b[1]=a.p0;var e=this.closestPoint(a.p1);c=e.distance(a.p1);c<d&&(d=c,b[0]=e,b[1]=a.p1);e=a.closestPoint(this.p0);c=e.distance(this.p0);c<d&&(d=c,b[0]=this.p0,b[1]=e);a=a.closestPoint(this.p1);c=a.distance(this.p1);c<d&&(b[0]=this.p1,b[1]=a);return b};q.prototype.closestPoint=function(a){var b=
this.projectionFactor(a);if(0<b&&1>b)return this.project(a);b=this.p0.distance(a);a=this.p1.distance(a);return b<a?this.p0:this.p1};q.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)};q.prototype.getLength=function(){return this.p0.distance(this.p1)};q.prototype.compareTo=function(a){var b=this.p0.compareTo(a.p0);return 0!==b?b:this.p1.compareTo(a.p1)};q.prototype.reverse=function(){var a=this.p0;this.p0=this.p1;this.p1=a};q.prototype.equalsTopo=function(a){return this.p0.equals(a.p0)&&
this.p1.equals(a.p1)||this.p0.equals(a.p1)&&this.p1.equals(a.p0)};q.prototype.lineIntersection=function(a){try{return ib.intersection(this.p0,this.p1,a.p0,a.p1)}catch(b){if(!(b instanceof Sc))throw b;}finally{}return null};q.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)};q.prototype.pointAlongOffset=function(a,b){var c=this.p0.x+a*(this.p1.x-this.p0.x);a=this.p0.y+a*(this.p1.y-this.p0.y);var d=this.p1.x-this.p0.x,e=this.p1.y-this.p0.y,g=Math.sqrt(d*d+e*e),f=0,k=0;if(0!==b){if(0>=
g)throw new IllegalStateException("Cannot compute offset from zero-length line segment");f=b*d/g;k=b*e/g}return new h(c-k,a+f)};q.prototype.setCoordinates=function(){if(1===arguments.length){var a=arguments[0];this.setCoordinates(a.p0,a.p1)}else if(2===arguments.length){a=arguments[0];var b=arguments[1];this.p0.x=a.x;this.p0.y=a.y;this.p1.x=b.x;this.p1.y=b.y}};q.prototype.segmentFraction=function(a){a=this.projectionFactor(a);if(0>a)a=0;else if(1<a||y.isNaN(a))a=1;return a};q.prototype.toString=function(){return"LINESTRING( "+
this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};q.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};q.prototype.distance=function(a){if(a instanceof q)return Aa.segmentToSegment(this.p0,this.p1,a.p0,a.p1);if(a instanceof h)return Aa.pointToSegment(a,this.p0,this.p1)};q.prototype.pointAlong=function(a){var b=new h;b.x=this.p0.x+a*(this.p1.x-this.p0.x);b.y=this.p0.y+a*(this.p1.y-this.p0.y);return b};q.prototype.hashCode=function(){var a=java.lang.Double.doubleToLongBits(this.p0.x);
a^=31*java.lang.Double.doubleToLongBits(this.p0.y);a=Math.trunc(a)^Math.trunc(a>>32);var b=java.lang.Double.doubleToLongBits(this.p1.x);b^=31*java.lang.Double.doubleToLongBits(this.p1.y);return a^Math.trunc(b)^Math.trunc(b>>32)};q.prototype.getClass=function(){return q};$jscomp.global.Object.defineProperties(q.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc,ic]}}});q.constructor_=function(){this.p1=this.p0=null;if(0===arguments.length)q.constructor_.call(this,new h,
new h);else if(1===arguments.length){var a=arguments[0];q.constructor_.call(this,a.p0,a.p1)}else if(2===arguments.length)a=arguments[1],this.p0=arguments[0],this.p1=a;else if(4===arguments.length){a=arguments[2];var b=arguments[3];q.constructor_.call(this,new h(arguments[0],arguments[1]),new h(a,b))}};q.serialVersionUID=0x2d2172135f411c00;var f=function(){f.constructor_.apply(this,arguments)};f.toLocationSymbol=function(a){switch(a){case f.EXTERIOR:return"e";case f.BOUNDARY:return"b";case f.INTERIOR:return"i";
case f.NONE:return"-"}throw new F("Unknown location value: "+a);};f.prototype.getClass=function(){return f};$jscomp.global.Object.defineProperties(f.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});f.constructor_=function(){};f.INTERIOR=0;f.BOUNDARY=1;f.EXTERIOR=2;f.NONE=-1;var G=function(){G.constructor_.apply(this,arguments)};G.matches=function(a,b){if(Number.isInteger(a)&&"string"===typeof b)return b===n.SYM_DONTCARE||b===n.SYM_TRUE&&(0<=a||a===n.TRUE)||b===n.SYM_FALSE&&
a===n.FALSE||b===n.SYM_P&&a===n.P||b===n.SYM_L&&a===n.L||b===n.SYM_A&&a===n.A?!0:!1;if("string"===typeof a&&"string"===typeof b)return(new G(a)).matches(b)};G.isTrue=function(a){return 0<=a||a===n.TRUE?!0:!1};G.prototype.isIntersects=function(){return!this.isDisjoint()};G.prototype.isCovers=function(){return(G.isTrue(this._matrix[f.INTERIOR][f.INTERIOR])||G.isTrue(this._matrix[f.INTERIOR][f.BOUNDARY])||G.isTrue(this._matrix[f.BOUNDARY][f.INTERIOR])||G.isTrue(this._matrix[f.BOUNDARY][f.BOUNDARY]))&&
this._matrix[f.EXTERIOR][f.INTERIOR]===n.FALSE&&this._matrix[f.EXTERIOR][f.BOUNDARY]===n.FALSE};G.prototype.isCoveredBy=function(){return(G.isTrue(this._matrix[f.INTERIOR][f.INTERIOR])||G.isTrue(this._matrix[f.INTERIOR][f.BOUNDARY])||G.isTrue(this._matrix[f.BOUNDARY][f.INTERIOR])||G.isTrue(this._matrix[f.BOUNDARY][f.BOUNDARY]))&&this._matrix[f.INTERIOR][f.EXTERIOR]===n.FALSE&&this._matrix[f.BOUNDARY][f.EXTERIOR]===n.FALSE};G.prototype.set=function(){if(1===arguments.length)for(var a=arguments[0],
b=0;b<a.length;b++)this._matrix[Math.trunc(b/3)][b%3]=n.toDimensionValue(a.charAt(b));else 3===arguments.length&&(this._matrix[arguments[0]][arguments[1]]=arguments[2])};G.prototype.isContains=function(){return G.isTrue(this._matrix[f.INTERIOR][f.INTERIOR])&&this._matrix[f.EXTERIOR][f.INTERIOR]===n.FALSE&&this._matrix[f.EXTERIOR][f.BOUNDARY]===n.FALSE};G.prototype.setAtLeast=function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<a.length;b++)this.setAtLeast(Math.trunc(b/3),b%3,n.toDimensionValue(a.charAt(b)));
else if(3===arguments.length){a=arguments[0];b=arguments[1];var c=arguments[2];this._matrix[a][b]<c&&(this._matrix[a][b]=c)}};G.prototype.setAtLeastIfValid=function(a,b,c){0<=a&&0<=b&&this.setAtLeast(a,b,c)};G.prototype.isWithin=function(){return G.isTrue(this._matrix[f.INTERIOR][f.INTERIOR])&&this._matrix[f.INTERIOR][f.EXTERIOR]===n.FALSE&&this._matrix[f.BOUNDARY][f.EXTERIOR]===n.FALSE};G.prototype.isTouches=function(a,b){return a>b?this.isTouches(b,a):a===n.A&&b===n.A||a===n.L&&b===n.L||a===n.L&&
b===n.A||a===n.P&&b===n.A||a===n.P&&b===n.L?this._matrix[f.INTERIOR][f.INTERIOR]===n.FALSE&&(G.isTrue(this._matrix[f.INTERIOR][f.BOUNDARY])||G.isTrue(this._matrix[f.BOUNDARY][f.INTERIOR])||G.isTrue(this._matrix[f.BOUNDARY][f.BOUNDARY])):!1};G.prototype.isOverlaps=function(a,b){return a===n.P&&b===n.P||a===n.A&&b===n.A?G.isTrue(this._matrix[f.INTERIOR][f.INTERIOR])&&G.isTrue(this._matrix[f.INTERIOR][f.EXTERIOR])&&G.isTrue(this._matrix[f.EXTERIOR][f.INTERIOR]):a===n.L&&b===n.L?1===this._matrix[f.INTERIOR][f.INTERIOR]&&
G.isTrue(this._matrix[f.INTERIOR][f.EXTERIOR])&&G.isTrue(this._matrix[f.EXTERIOR][f.INTERIOR]):!1};G.prototype.isEquals=function(a,b){return a!==b?!1:G.isTrue(this._matrix[f.INTERIOR][f.INTERIOR])&&this._matrix[f.INTERIOR][f.EXTERIOR]===n.FALSE&&this._matrix[f.BOUNDARY][f.EXTERIOR]===n.FALSE&&this._matrix[f.EXTERIOR][f.INTERIOR]===n.FALSE&&this._matrix[f.EXTERIOR][f.BOUNDARY]===n.FALSE};G.prototype.toString=function(){for(var a=new cf("123456789"),b=0;3>b;b++)for(var c=0;3>c;c++)a.setCharAt(3*b+c,
n.toDimensionSymbol(this._matrix[b][c]));return a.toString()};G.prototype.setAll=function(a){for(var b=0;3>b;b++)for(var c=0;3>c;c++)this._matrix[b][c]=a};G.prototype.get=function(a,b){return this._matrix[a][b]};G.prototype.transpose=function(){var a=this._matrix[1][0];this._matrix[1][0]=this._matrix[0][1];this._matrix[0][1]=a;a=this._matrix[2][0];this._matrix[2][0]=this._matrix[0][2];this._matrix[0][2]=a;a=this._matrix[2][1];this._matrix[2][1]=this._matrix[1][2];this._matrix[1][2]=a;return this};
G.prototype.matches=function(a){if(9!==a.length)throw new F("Should be length 9: "+a);for(var b=0;3>b;b++)for(var c=0;3>c;c++)if(!G.matches(this._matrix[b][c],a.charAt(3*b+c)))return!1;return!0};G.prototype.add=function(a){for(var b=0;3>b;b++)for(var c=0;3>c;c++)this.setAtLeast(b,c,a.get(b,c))};G.prototype.isDisjoint=function(){return this._matrix[f.INTERIOR][f.INTERIOR]===n.FALSE&&this._matrix[f.INTERIOR][f.BOUNDARY]===n.FALSE&&this._matrix[f.BOUNDARY][f.INTERIOR]===n.FALSE&&this._matrix[f.BOUNDARY][f.BOUNDARY]===
n.FALSE};G.prototype.isCrosses=function(a,b){return a===n.P&&b===n.L||a===n.P&&b===n.A||a===n.L&&b===n.A?G.isTrue(this._matrix[f.INTERIOR][f.INTERIOR])&&G.isTrue(this._matrix[f.INTERIOR][f.EXTERIOR]):a===n.L&&b===n.P||a===n.A&&b===n.P||a===n.A&&b===n.L?G.isTrue(this._matrix[f.INTERIOR][f.INTERIOR])&&G.isTrue(this._matrix[f.EXTERIOR][f.INTERIOR]):a===n.L&&b===n.L?0===this._matrix[f.INTERIOR][f.INTERIOR]:!1};G.prototype.getClass=function(){return G};$jscomp.global.Object.defineProperties(G.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Sf]}}});G.constructor_=function(){this._matrix=null;if(0===arguments.length)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(n.FALSE);else if(1===arguments.length)if("string"===typeof arguments[0]){var a=arguments[0];G.constructor_.call(this);this.set(a)}else arguments[0]instanceof G&&(a=arguments[0],G.constructor_.call(this),this._matrix[f.INTERIOR][f.INTERIOR]=a._matrix[f.INTERIOR][f.INTERIOR],this._matrix[f.INTERIOR][f.BOUNDARY]=
a._matrix[f.INTERIOR][f.BOUNDARY],this._matrix[f.INTERIOR][f.EXTERIOR]=a._matrix[f.INTERIOR][f.EXTERIOR],this._matrix[f.BOUNDARY][f.INTERIOR]=a._matrix[f.BOUNDARY][f.INTERIOR],this._matrix[f.BOUNDARY][f.BOUNDARY]=a._matrix[f.BOUNDARY][f.BOUNDARY],this._matrix[f.BOUNDARY][f.EXTERIOR]=a._matrix[f.BOUNDARY][f.EXTERIOR],this._matrix[f.EXTERIOR][f.INTERIOR]=a._matrix[f.EXTERIOR][f.INTERIOR],this._matrix[f.EXTERIOR][f.BOUNDARY]=a._matrix[f.EXTERIOR][f.BOUNDARY],this._matrix[f.EXTERIOR][f.EXTERIOR]=a._matrix[f.EXTERIOR][f.EXTERIOR])};
var H=function(){H.constructor_.apply(this,arguments)};H.toDegrees=function(a){return 180*a/Math.PI};H.normalize=function(a){for(;a>Math.PI;)a-=H.PI_TIMES_2;for(;a<=-Math.PI;)a+=H.PI_TIMES_2;return a};H.angle=function(){if(1===arguments.length){var a=arguments[0];return Math.atan2(a.y,a.x)}if(2===arguments.length){a=arguments[0];var b=arguments[1];return Math.atan2(b.y-a.y,b.x-a.x)}};H.isAcute=function(a,b,c){return 0<(a.x-b.x)*(c.x-b.x)+(a.y-b.y)*(c.y-b.y)};H.isObtuse=function(a,b,c){return 0>(a.x-
b.x)*(c.x-b.x)+(a.y-b.y)*(c.y-b.y)};H.interiorAngle=function(a,b,c){a=H.angle(b,a);b=H.angle(b,c);return Math.abs(b-a)};H.normalizePositive=function(a){if(0>a){for(;0>a;)a+=H.PI_TIMES_2;a>=H.PI_TIMES_2&&(a=0)}else{for(;a>=H.PI_TIMES_2;)a-=H.PI_TIMES_2;0>a&&(a=0)}return a};H.angleBetween=function(a,b,c){a=H.angle(b,a);b=H.angle(b,c);return H.diff(a,b)};H.diff=function(a,b){a=a<b?b-a:a-b;a>Math.PI&&(a=2*Math.PI-a);return a};H.toRadians=function(a){return a*Math.PI/180};H.getTurn=function(a,b){a=Math.sin(b-
a);return 0<a?H.COUNTERCLOCKWISE:0>a?H.CLOCKWISE:H.NONE};H.angleBetweenOriented=function(a,b,c){a=H.angle(b,a);b=H.angle(b,c)-a;return b<=-Math.PI?b+H.PI_TIMES_2:b>Math.PI?b-H.PI_TIMES_2:b};H.prototype.getClass=function(){return H};$jscomp.global.Object.defineProperties(H.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});H.constructor_=function(){};H.PI_TIMES_2=2*Math.PI;H.PI_OVER_2=Math.PI/2;H.PI_OVER_4=Math.PI/4;H.COUNTERCLOCKWISE=z.COUNTERCLOCKWISE;H.CLOCKWISE=z.CLOCKWISE;
H.NONE=z.COLLINEAR;var S=function(){S.constructor_.apply(this,arguments)};S.area=function(a,b,c){return Math.abs(((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2)};S.signedArea=function(a,b,c){return((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2};S.det=function(a,b,c,d){return a*d-b*c};S.interpolateZ=function(a,b,c,d){var e=b.x,g=b.y,f=c.x-e,h=d.x-e,k=c.y-g,l=d.y-g,m=f*l-h*k;e=a.x-e;a=a.y-g;return b.z+(l*e-h*a)/m*(c.z-b.z)+(-k*e+f*a)/m*(d.z-b.z)};S.longestSideLength=function(a,b,c){var d=a.distance(b);b=
b.distance(c);a=c.distance(a);b>d&&(d=b);a>d&&(d=a);return d};S.isAcute=function(a,b,c){return H.isAcute(a,b,c)&&H.isAcute(b,c,a)&&H.isAcute(c,a,b)?!0:!1};S.circumcentre=function(a,b,c){var d=c.x;c=c.y;var e=a.x-d;a=a.y-c;var g=b.x-d,f=b.y-c;b=2*S.det(e,a,g,f);var k=S.det(a,e*e+a*a,f,g*g+f*f);e=S.det(e,e*e+a*a,g,g*g+f*f);return new h(d-k/b,c+e/b)};S.perpendicularBisector=function(a,b){var c=b.x-a.x,d=b.y-a.y;b=new ib(a.x+c/2,a.y+d/2,1);a=new ib(a.x-d+c/2,a.y+c+d/2,1);return new ib(b,a)};S.angleBisector=
function(a,b,c){var d=b.distance(a);b=b.distance(c);d/=d+b;return new h(a.x+d*(c.x-a.x),a.y+d*(c.y-a.y))};S.area3D=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,g=b.z-a.z;b=c.x-a.x;var f=c.y-a.y;c=c.z-a.z;a=e*c-g*f;g=g*b-d*c;d=d*f-e*b;return Math.sqrt(a*a+g*g+d*d)/2};S.centroid=function(a,b,c){return new h((a.x+b.x+c.x)/3,(a.y+b.y+c.y)/3)};S.inCentre=function(a,b,c){var d=b.distance(c),e=a.distance(c),g=a.distance(b),f=d+e+g;return new h((d*a.x+e*b.x+g*c.x)/f,(d*a.y+e*b.y+g*c.y)/f)};S.prototype.area=function(){return S.area(this.p0,
this.p1,this.p2)};S.prototype.signedArea=function(){return S.signedArea(this.p0,this.p1,this.p2)};S.prototype.interpolateZ=function(a){if(null===a)throw new F("Supplied point is null.");return S.interpolateZ(a,this.p0,this.p1,this.p2)};S.prototype.longestSideLength=function(){return S.longestSideLength(this.p0,this.p1,this.p2)};S.prototype.isAcute=function(){return S.isAcute(this.p0,this.p1,this.p2)};S.prototype.circumcentre=function(){return S.circumcentre(this.p0,this.p1,this.p2)};S.prototype.area3D=
function(){return S.area3D(this.p0,this.p1,this.p2)};S.prototype.centroid=function(){return S.centroid(this.p0,this.p1,this.p2)};S.prototype.inCentre=function(){return S.inCentre(this.p0,this.p1,this.p2)};S.prototype.getClass=function(){return S};$jscomp.global.Object.defineProperties(S.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});S.constructor_=function(a,b,c){this.p0=a;this.p1=b;this.p2=c};var Gf=function(){Gf.constructor_.apply(this,arguments);return this};
$jscomp.inherits(Gf,zf);Gf.prototype.getClass=function(){return Gf};$jscomp.global.Object.defineProperties(Gf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Gf.constructor_=function(){0===arguments.length?zf.constructor_.call(this):1===arguments.length&&zf.constructor_.call(this,arguments[0])};var E=function(){E.constructor_.apply(this,arguments)};E.translationInstance=function(a,b){var c=new E;c.setToTranslation(a,b);return c};E.shearInstance=function(a,b){var c=
new E;c.setToShear(a,b);return c};E.reflectionInstance=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new E;c.setToReflection(a,b);return c}if(4===arguments.length){a=arguments[0];b=arguments[1];var d=arguments[2],e=arguments[3];c=new E;c.setToReflection(a,b,d,e);return c}};E.rotationInstance=function(){if(1===arguments.length){var a=arguments[0];return E.rotationInstance(Math.sin(a),Math.cos(a))}if(2===arguments.length){var b=arguments[0],c=arguments[1];a=new E;a.setToRotation(b,
c);return a}if(3===arguments.length)return a=arguments[0],E.rotationInstance(Math.sin(a),Math.cos(a),arguments[1],arguments[2]);if(4===arguments.length){b=arguments[0];c=arguments[1];var d=arguments[2],e=arguments[3];a=new E;a.setToRotation(b,c,d,e);return a}};E.scaleInstance=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new E;c.setToScale(a,b);return c}if(4===arguments.length){a=arguments[0];b=arguments[1];var d=arguments[2],e=arguments[3];c=new E;c.translate(-d,-e);c.scale(a,
b);c.translate(d,e);return c}};E.prototype.setToReflectionBasic=function(a,b,c,d){if(a===c&&b===d)throw new F("Reflection line points must be distinct");a=c-a;b=d-b;d=Math.sqrt(a*a+b*b);b/=d;d=a/d;a=2*b*d;this._m00=b=d*d-b*b;this._m01=a;this._m02=0;this._m10=a;this._m11=-b;this._m12=0;return this};E.prototype.getInverse=function(){var a=this.getDeterminant();if(0===a)throw new Gf("Transformation is non-invertible");return new E(this._m11/a,-this._m01/a,(this._m01*this._m12-this._m02*this._m11)/a,
-this._m10/a,this._m00/a,(-this._m00*this._m12+this._m10*this._m02)/a)};E.prototype.compose=function(a){var b=a._m00*this._m01+a._m01*this._m11,c=a._m00*this._m02+a._m01*this._m12+a._m02,d=a._m10*this._m00+a._m11*this._m10,e=a._m10*this._m01+a._m11*this._m11,g=a._m10*this._m02+a._m11*this._m12+a._m12;this._m00=a._m00*this._m00+a._m01*this._m10;this._m01=b;this._m02=c;this._m10=d;this._m11=e;this._m12=g;return this};E.prototype.equals=function(a){return null!==a&&a instanceof E?this._m00===a._m00&&
this._m01===a._m01&&this._m02===a._m02&&this._m10===a._m10&&this._m11===a._m11&&this._m12===a._m12:!1};E.prototype.setToScale=function(a,b){this._m00=a;this._m10=this._m02=this._m01=0;this._m11=b;this._m12=0;return this};E.prototype.isIdentity=function(){return 1===this._m00&&0===this._m01&&0===this._m02&&0===this._m10&&1===this._m11&&0===this._m12};E.prototype.scale=function(a,b){this.compose(E.scaleInstance(a,b));return this};E.prototype.setToIdentity=function(){this._m00=1;this._m10=this._m02=
this._m01=0;this._m11=1;this._m12=0;return this};E.prototype.isGeometryChanged=function(){return!0};E.prototype.setTransformation=function(){if(1===arguments.length){var a=arguments[0];this._m00=a._m00;this._m01=a._m01;this._m02=a._m02;this._m10=a._m10;this._m11=a._m11;this._m12=a._m12;return this}if(6===arguments.length){a=arguments[1];var b=arguments[2],c=arguments[3],d=arguments[4],e=arguments[5];this._m00=arguments[0];this._m01=a;this._m02=b;this._m10=c;this._m11=d;this._m12=e;return this}};E.prototype.setToRotation=
function(){if(1===arguments.length){var a=arguments[0];this.setToRotation(Math.sin(a),Math.cos(a));return this}if(2===arguments.length){a=arguments[0];var b=arguments[1];this._m00=b;this._m01=-a;this._m02=0;this._m10=a;this._m11=b;this._m12=0;return this}if(3===arguments.length)return a=arguments[0],this.setToRotation(Math.sin(a),Math.cos(a),arguments[1],arguments[2]),this;if(4===arguments.length){a=arguments[0];b=arguments[1];var c=arguments[2],d=arguments[3];this._m00=b;this._m01=-a;this._m02=c-
c*b+d*a;this._m10=a;this._m11=b;this._m12=d-c*a-d*b;return this}};E.prototype.getMatrixEntries=function(){return[this._m00,this._m01,this._m02,this._m10,this._m11,this._m12]};E.prototype.filter=function(a,b){this.transform(a,b)};E.prototype.rotate=function(){if(1===arguments.length)return this.compose(E.rotationInstance(arguments[0])),this;if(2===arguments.length)return this.compose(E.rotationInstance(arguments[0],arguments[1])),this;if(3===arguments.length)return this.compose(E.rotationInstance(arguments[0],
arguments[1],arguments[2])),this;if(4===arguments.length)return this.compose(E.rotationInstance(arguments[0],arguments[1])),this};E.prototype.getDeterminant=function(){return this._m00*this._m11-this._m01*this._m10};E.prototype.composeBefore=function(a){var b=this._m00*a._m01+this._m01*a._m11,c=this._m00*a._m02+this._m01*a._m12+this._m02,d=this._m10*a._m00+this._m11*a._m10,e=this._m10*a._m01+this._m11*a._m11,g=this._m10*a._m02+this._m11*a._m12+this._m12;this._m00=this._m00*a._m00+this._m01*a._m10;
this._m01=b;this._m02=c;this._m10=d;this._m11=e;this._m12=g;return this};E.prototype.setToShear=function(a,b){this._m00=1;this._m01=a;this._m02=0;this._m10=b;this._m11=1;this._m12=0;return this};E.prototype.isDone=function(){return!1};E.prototype.clone=function(){return null};E.prototype.translate=function(a,b){this.compose(E.translationInstance(a,b));return this};E.prototype.setToReflection=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(0===a&&0===b)throw new F("Reflection vector must be non-zero");
if(a===b)return this._m00=0,this._m01=1,this._m02=0,this._m10=1,this._m12=this._m11=0,this;var c=Math.sqrt(a*a+b*b),d=b/c;c=a/c;this.rotate(-d,c);this.scale(1,-1);this.rotate(d,c);return this}if(4===arguments.length){a=arguments[0];b=arguments[1];d=arguments[2];c=arguments[3];if(a===d&&b===c)throw new F("Reflection line points must be distinct");this.setToTranslation(-a,-b);var e=d-a;d=c-b;c=Math.sqrt(e*e+d*d);d/=c;c=e/c;this.rotate(-d,c);this.scale(1,-1);this.rotate(d,c);this.translate(a,b);return this}};
E.prototype.toString=function(){return"AffineTransformation[["+this._m00+", "+this._m01+", "+this._m02+"], ["+this._m10+", "+this._m11+", "+this._m12+"]]"};E.prototype.setToTranslation=function(a,b){this._m00=1;this._m01=0;this._m02=a;this._m10=0;this._m11=1;this._m12=b;return this};E.prototype.shear=function(a,b){this.compose(E.shearInstance(a,b));return this};E.prototype.transform=function(){if(1===arguments.length){var a=arguments[0].copy();a.apply(this);return a}if(2===arguments.length){if(arguments[0]instanceof
h&&arguments[1]instanceof h){var b=arguments[0],c=arguments[1];a=this._m00*b.x+this._m01*b.y+this._m02;b=this._m10*b.x+this._m11*b.y+this._m12;c.x=a;c.y=b;return c}if(v(arguments[0],M)&&Number.isInteger(arguments[1])){c=arguments[0];var d=arguments[1];a=this._m00*c.getOrdinate(d,0)+this._m01*c.getOrdinate(d,1)+this._m02;b=this._m10*c.getOrdinate(d,0)+this._m11*c.getOrdinate(d,1)+this._m12;c.setOrdinate(d,0,a);c.setOrdinate(d,1,b)}}};E.prototype.reflect=function(){if(2===arguments.length)return this.compose(E.reflectionInstance(arguments[0],
arguments[1])),this;if(4===arguments.length)return this.compose(E.reflectionInstance(arguments[0],arguments[1],arguments[2],arguments[3])),this};E.prototype.getClass=function(){return E};$jscomp.global.Object.defineProperties(E.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Sf,uc]}}});E.constructor_=function(){this._m12=this._m11=this._m10=this._m02=this._m01=this._m00=null;if(0===arguments.length)this.setToIdentity();else if(1===arguments.length)if(arguments[0]instanceof
Array){var a=arguments[0];this._m00=a[0];this._m01=a[1];this._m02=a[2];this._m10=a[3];this._m11=a[4];this._m12=a[5]}else arguments[0]instanceof E&&this.setTransformation(arguments[0]);else 6===arguments.length&&"number"===typeof arguments[5]&&"number"===typeof arguments[4]&&"number"===typeof arguments[3]&&"number"===typeof arguments[2]&&"number"===typeof arguments[0]&&"number"===typeof arguments[1]&&this.setTransformation(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};
var L=function(){L.constructor_.apply(this,arguments)};L.create=function(){if(1===arguments.length){if(arguments[0]instanceof L||arguments[0]instanceof h)return new L(arguments[0])}else if(2===arguments.length&&("number"===typeof arguments[0]&&"number"===typeof arguments[1]||arguments[0]instanceof h&&arguments[1]instanceof h))return new L(arguments[0],arguments[1])};L.prototype.dot=function(a){return this._x*a._x+this._y*a._y};L.prototype.isParallel=function(a){return 0===tb.signOfDet2x2(this._x,
this._y,a._x,a._y)};L.prototype.getComponent=function(a){return 0===a?this._x:this._y};L.prototype.subtract=function(a){return L.create(this._x-a._x,this._y-a._y)};L.prototype.equals=function(a){return a instanceof L?this._x===a._x&&this._y===a._y:!1};L.prototype.normalize=function(){var a=this.length();return 0<a?this.divide(a):L.create(0,0)};L.prototype.angle=function(){if(0===arguments.length)return Math.atan2(this._y,this._x);if(1===arguments.length)return H.diff(arguments[0].angle(),this.angle())};
L.prototype.weightedSum=function(a,b){return L.create(b*this._x+(1-b)*a._x,b*this._y+(1-b)*a._y)};L.prototype.divide=function(a){return L.create(this._x/a,this._y/a)};L.prototype.rotateByQuarterCircle=function(a){var b=a%4;0>a&&0!==b&&(b+=4);switch(b){case 0:return L.create(this._x,this._y);case 1:return L.create(-this._y,this._x);case 2:return L.create(-this._x,-this._y);case 3:return L.create(this._y,-this._x)}w.shouldNeverReachHere();return null};L.prototype.rotate=function(a){var b=Math.cos(a);
a=Math.sin(a);return L.create(this._x*b-this._y*a,this._x*a+this._y*b)};L.prototype.angleTo=function(a){var b=this.angle();a=a.angle()-b;return a<=-Math.PI?a+H.PI_TIMES_2:a>Math.PI?a-H.PI_TIMES_2:a};L.prototype.getX=function(){return this._x};L.prototype.lengthSquared=function(){return this._x*this._x+this._y*this._y};L.prototype.negate=function(){return L.create(-this._x,-this._y)};L.prototype.clone=function(){return new L(this)};L.prototype.toCoordinate=function(){return new h(this._x,this._y)};
L.prototype.translate=function(a){return new h(this._x+a.x,this._y+a.y)};L.prototype.multiply=function(a){return L.create(this._x*a,this._y*a)};L.prototype.toString=function(){return"["+this._x+", "+this._y+"]"};L.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y)};L.prototype.average=function(a){return this.weightedSum(a,.5)};L.prototype.getY=function(){return this._y};L.prototype.add=function(a){return L.create(this._x+a._x,this._y+a._y)};L.prototype.distance=function(a){var b=
a._x-this._x;a=a._y-this._y;return Math.sqrt(b*b+a*a)};L.prototype.hashCode=function(){var a=629+h.hashCode(this._x);return a=37*a+h.hashCode(this._y)};L.prototype.getClass=function(){return L};$jscomp.global.Object.defineProperties(L.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});L.constructor_=function(){this._y=this._x=null;if(0===arguments.length)L.constructor_.call(this,0,0);else if(1===arguments.length)if(arguments[0]instanceof L){var a=arguments[0];this._x=
a._x;this._y=a._y}else arguments[0]instanceof h&&(a=arguments[0],this._x=a.x,this._y=a.y);else if(2===arguments.length)if("number"===typeof arguments[0]&&"number"===typeof arguments[1])a=arguments[1],this._x=arguments[0],this._y=a;else if(arguments[0]instanceof h&&arguments[1]instanceof h){a=arguments[0];var b=arguments[1];this._x=b.x-a.x;this._y=b.y-a.y}};var Ng=Object.freeze({Coordinate:h,CoordinateList:ea,Envelope:r,LineSegment:q,GeometryFactory:B,Geometry:l,Point:N,LineString:u,LinearRing:ba,
Polygon:D,GeometryCollection:x,MultiPoint:Ga,MultiLineString:Ba,MultiPolygon:ta,Dimension:n,IntersectionMatrix:G,PrecisionModel:R,Location:f,Triangle:S,AffineTransformation:E,Vector2D:L}),db=function(){db.constructor_.apply(this,arguments)};db.prototype.getCoordinates=function(){return this._pt};db.prototype.getCoordinate=function(a){return this._pt[a]};db.prototype.setMinimum=function(){if(1===arguments.length){var a=arguments[0];this.setMinimum(a._pt[0],a._pt[1])}else if(2===arguments.length){a=
arguments[0];var b=arguments[1];if(this._isNull)return this.initialize(a,b),null;var c=a.distance(b);c<this._distance&&this.initialize(a,b,c)}};db.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._pt[0].setCoordinate(a);this._pt[1].setCoordinate(b);this._distance=a.distance(b);this._isNull=!1}else 3===arguments.length&&(a=arguments[1],b=arguments[2],this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(a),
this._distance=b,this._isNull=!1)};db.prototype.toString=function(){return Bb.toLineString(this._pt[0],this._pt[1])};db.prototype.getDistance=function(){return this._distance};db.prototype.setMaximum=function(){if(1===arguments.length){var a=arguments[0];this.setMaximum(a._pt[0],a._pt[1])}else if(2===arguments.length){a=arguments[0];var b=arguments[1];if(this._isNull)return this.initialize(a,b),null;var c=a.distance(b);c>this._distance&&this.initialize(a,b,c)}};db.prototype.getClass=function(){return db};
$jscomp.global.Object.defineProperties(db.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});db.constructor_=function(){this._pt=[new h,new h];this._distance=y.NaN;this._isNull=!0};var vc=function(){vc.constructor_.apply(this,arguments)};vc.computeDistance=function(a,b,c){if(c instanceof db&&a instanceof u&&b instanceof h){var d=new q;a=a.getCoordinates();for(var e=0;e<a.length-1;e++){d.setCoordinates(a[e],a[e+1]);var g=d.closestPoint(b);c.setMinimum(g,b)}}else if(c instanceof
db&&a instanceof D&&b instanceof h)for(vc.computeDistance(a.getExteriorRing(),b,c),e=0;e<a.getNumInteriorRing();e++)vc.computeDistance(a.getInteriorRingN(e),b,c);else if(c instanceof db&&a instanceof l&&b instanceof h)if(a instanceof u)vc.computeDistance(a,b,c);else if(a instanceof D)vc.computeDistance(a,b,c);else if(a instanceof x)for(e=0;e<a.getNumGeometries();e++)d=a.getGeometryN(e),vc.computeDistance(d,b,c);else c.setMinimum(a.getCoordinate(),b);else c instanceof db&&a instanceof q&&b instanceof
h&&(g=a.closestPoint(b),c.setMinimum(g,b))};vc.prototype.getClass=function(){return vc};$jscomp.global.Object.defineProperties(vc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});vc.constructor_=function(){};var Nb=function(){Nb.constructor_.apply(this,arguments)};Nb.distance=function(){if(2===arguments.length){var a=new Nb(arguments[0],arguments[1]);return a.distance()}if(3===arguments.length){var b=arguments[2];a=new Nb(arguments[0],arguments[1]);a.setDensifyFraction(b);
return a.distance()}};Nb.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()};Nb.prototype.setDensifyFraction=function(a){if(1<a||0>=a)throw new F("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=a};Nb.prototype.compute=function(a,b){this.computeOrientedDistance(a,b,this._ptDist);this.computeOrientedDistance(b,a,this._ptDist)};Nb.prototype.distance=function(){this.compute(this._g0,this._g1);return this._ptDist.getDistance()};Nb.prototype.computeOrientedDistance=function(a,
b,c){var d=new te(b);a.apply(d);c.setMaximum(d.getMaxPointDistance());0<this._densifyFrac&&(b=new xd(b,this._densifyFrac),a.apply(b),c.setMaximum(b.getMaxPointDistance()))};Nb.prototype.orientedDistance=function(){this.computeOrientedDistance(this._g0,this._g1,this._ptDist);return this._ptDist.getDistance()};Nb.prototype.getClass=function(){return Nb};$jscomp.global.Object.defineProperties(Nb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var te=function(){te.constructor_.apply(this,
arguments)};te.prototype.filter=function(a){this._minPtDist.initialize();vc.computeDistance(this._geom,a,this._minPtDist);this._maxPtDist.setMaximum(this._minPtDist)};te.prototype.getMaxPointDistance=function(){return this._maxPtDist};te.prototype.getClass=function(){return te};$jscomp.global.Object.defineProperties(te.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Tc]}}});te.constructor_=function(a){this._maxPtDist=new db;this._minPtDist=new db;this._euclideanDist=new vc;
this._geom=a};var xd=function(){xd.constructor_.apply(this,arguments)};xd.prototype.filter=function(a,b){if(0===b)return null;var c=a.getCoordinate(b-1);b=a.getCoordinate(b);a=(b.x-c.x)/this._numSubSegs;b=(b.y-c.y)/this._numSubSegs;for(var d=0;d<this._numSubSegs;d++){var e=new h(c.x+d*a,c.y+d*b);this._minPtDist.initialize();vc.computeDistance(this._geom,e,this._minPtDist);this._maxPtDist.setMaximum(this._minPtDist)}};xd.prototype.isDone=function(){return!1};xd.prototype.isGeometryChanged=function(){return!1};
xd.prototype.getMaxPointDistance=function(){return this._maxPtDist};xd.prototype.getClass=function(){return xd};$jscomp.global.Object.defineProperties(xd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[uc]}}});xd.constructor_=function(a,b){this._maxPtDist=new db;this._minPtDist=new db;this._numSubSegs=0;this._geom=a;this._numSubSegs=Math.trunc(Math.round(1/b))};Nb.MaxPointDistanceFilter=te;Nb.MaxDensifiedByFractionDistanceFilter=xd;Nb.constructor_=function(a,b){this._g1=
this._g0=null;this._ptDist=new db;this._densifyFrac=0;this._g0=a;this._g1=b};var Og=Object.freeze({DiscreteHausdorffDistance:Nb,DistanceToPoint:vc,PointPairDistance:db}),yd=function(){yd.constructor_.apply(this,arguments)};yd.prototype.visitItem=function(a){};yd.prototype.getClass=function(){return yd};$jscomp.global.Object.defineProperties(yd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});yd.constructor_=function(){};var ue=function(){ue.constructor_.apply(this,
arguments)};ue.prototype.locate=function(a){};ue.prototype.getClass=function(){return ue};$jscomp.global.Object.defineProperties(ue.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ue.constructor_=function(){};var wc=function(){wc.constructor_.apply(this,arguments)};wc.prototype.getMin=function(){return this._min};wc.prototype.intersects=function(a,b){return this._min>b||this._max<a?!1:!0};wc.prototype.getMax=function(){return this._max};wc.prototype.toString=function(){return Bb.toLineString(new h(this._min,
0),new h(this._max,0))};wc.prototype.getClass=function(){return wc};$jscomp.global.Object.defineProperties(wc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var Hf=function(){Hf.constructor_.apply(this,arguments)};Hf.prototype.compare=function(a,b){a=(a._min+a._max)/2;b=(b._min+b._max)/2;return a<b?-1:a>b?1:0};Hf.prototype.getClass=function(){return Hf};$jscomp.global.Object.defineProperties(Hf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[af]}}});
Hf.constructor_=function(){};wc.NodeComparator=Hf;wc.constructor_=function(){this._min=y.POSITIVE_INFINITY;this._max=y.NEGATIVE_INFINITY};var mf=function(){var a=wc.call(this)||this;mf.constructor_.apply(a,arguments);return a};$jscomp.inherits(mf,wc);mf.prototype.query=function(a,b,c){if(!this.intersects(a,b))return null;c.visitItem(this._item)};mf.prototype.getClass=function(){return mf};$jscomp.global.Object.defineProperties(mf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
mf.constructor_=function(a,b,c){this._min=a;this._max=b;this._item=c};var zd={reverseOrder:function(){return{compare:function(a,b){return b.compareTo(a)}}},min:function(a){zd.sort(a);return a.get(0)},sort:function(a,b){var c=a.toArray();b?Pd.sort(c,b):Pd.sort(c);a=a.iterator();b=0;for(var d=c.length;b<d;b++)a.next(),a.set(c[b])},singletonList:function(a){var b=new m;b.add(a);return b}},ve=function(){var a=wc.call(this)||this;ve.constructor_.apply(a,arguments);return a};$jscomp.inherits(ve,wc);ve.prototype.buildExtent=
function(a,b){this._min=Math.min(a._min,b._min);this._max=Math.max(a._max,b._max)};ve.prototype.query=function(a,b,c){if(!this.intersects(a,b))return null;null!==this._node1&&this._node1.query(a,b,c);null!==this._node2&&this._node2.query(a,b,c)};ve.prototype.getClass=function(){return ve};$jscomp.global.Object.defineProperties(ve.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ve.constructor_=function(a,b){this._node1=a;this._node2=b;this.buildExtent(this._node1,
this._node2)};var Vc=function(){Vc.constructor_.apply(this,arguments)};Vc.prototype.buildTree=function(){zd.sort(this._leaves,new wc.NodeComparator);for(var a=this._leaves,b,c=new m;;){this.buildLevel(a,c);if(1===c.size())return c.get(0);b=a;a=c;c=b}};Vc.prototype.insert=function(a,b,c){if(null!==this._root)throw new IllegalStateException("Index cannot be added to once it has been queried");this._leaves.add(new mf(a,b,c))};Vc.prototype.query=function(a,b,c){this.init();this._root.query(a,b,c)};Vc.prototype.buildRoot=
function(){if(null!==this._root)return null;this._root=this.buildTree()};Vc.prototype.printNode=function(a){wa.out.println(Bb.toLineString(new h(a._min,this._level),new h(a._max,this._level)))};Vc.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()};Vc.prototype.buildLevel=function(a,b){this._level++;b.clear();for(var c=0;c<a.size();c+=2){var d=a.get(c);null===(c+1<a.size()?a.get(c):null)?b.add(d):(d=new ve(a.get(c),a.get(c+1)),b.add(d))}};Vc.prototype.getClass=function(){return Vc};
$jscomp.global.Object.defineProperties(Vc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Vc.constructor_=function(){this._leaves=new m;this._root=null;this._level=0};var Ya=function(){Ya.constructor_.apply(this,arguments)};Ya.getGeometry=function(){if(1===arguments.length){var a=arguments[0];return a.getFactory().buildGeometry(Ya.getLines(a))}if(2===arguments.length){a=arguments[0];var b=arguments[1];return a.getFactory().buildGeometry(Ya.getLines(a,b))}};Ya.getLines=
function(){if(1===arguments.length)return Ya.getLines(arguments[0],!1);if(2===arguments.length){if(v(arguments[0],ra)&&v(arguments[1],ra)){for(var a=arguments[1],b=arguments[0].iterator();b.hasNext();){var c=b.next();Ya.getLines(c,a)}return a}if(arguments[0]instanceof l&&"boolean"===typeof arguments[1])return b=arguments[0],c=arguments[1],a=new m,b.apply(new Ya(a,c)),a;if(arguments[0]instanceof l&&v(arguments[1],ra))return b=arguments[0],c=arguments[1],b instanceof u?c.add(b):b.apply(new Ya(c)),c}else if(3===
arguments.length){if("boolean"===typeof arguments[2]&&v(arguments[0],ra)&&v(arguments[1],ra)){a=arguments[1];var d=arguments[2];for(b=arguments[0].iterator();b.hasNext();)c=b.next(),Ya.getLines(c,a,d);return a}if("boolean"===typeof arguments[2]&&arguments[0]instanceof l&&v(arguments[1],ra))return b=arguments[1],arguments[0].apply(new Ya(b,arguments[2])),b}};Ya.prototype.filter=function(a){if(this._isForcedToLineString&&a instanceof ba)return a=a.getFactory().createLineString(a.getCoordinateSequence()),
this._lines.add(a),null;a instanceof u&&this._lines.add(a)};Ya.prototype.setForceToLineString=function(a){this._isForcedToLineString=a};Ya.prototype.getClass=function(){return Ya};$jscomp.global.Object.defineProperties(Ya.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[jc]}}});Ya.constructor_=function(){this._lines=null;this._isForcedToLineString=!1;if(1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var a=arguments[1];this._lines=arguments[0];
this._isForcedToLineString=a}};var we=function(){we.constructor_.apply(this,arguments)};we.prototype.visitItem=function(a){this._items.add(a)};we.prototype.getItems=function(){return this._items};we.prototype.getClass=function(){return we};$jscomp.global.Object.defineProperties(we.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[yd]}}});we.constructor_=function(){this._items=new m};var Ic=function(){Ic.constructor_.apply(this,arguments)};Ic.locatePointInRing=function(a,
b){if(a instanceof h&&v(b,M)){a=new Ic(a);for(var c=new h,d=new h,e=1;e<b.size()&&(b.getCoordinate(e,c),b.getCoordinate(e-1,d),a.countSegment(c,d),!a.isOnSegment());e++);return a.getLocation()}if(a instanceof h&&b instanceof Array){a=new Ic(a);for(e=1;e<b.length&&(c=b[e],d=b[e-1],a.countSegment(c,d),!a.isOnSegment());e++);return a.getLocation()}};Ic.prototype.countSegment=function(a,b){if(a.x<this._p.x&&b.x<this._p.x)return null;if(this._p.x===b.x&&this._p.y===b.y)return this._isPointOnSegment=!0,
null;if(a.y===this._p.y&&b.y===this._p.y){var c=a.x,d=b.x;c>d&&(c=b.x,d=a.x);this._p.x>=c&&this._p.x<=d&&(this._isPointOnSegment=!0);return null}if(a.y>this._p.y&&b.y<=this._p.y||b.y>this._p.y&&a.y<=this._p.y){c=z.index(a,b,this._p);if(c===z.COLLINEAR)return this._isPointOnSegment=!0,null;b.y<a.y&&(c=-c);c===z.LEFT&&this._crossingCount++}};Ic.prototype.isPointInPolygon=function(){return this.getLocation()!==f.EXTERIOR};Ic.prototype.getLocation=function(){return this._isPointOnSegment?f.BOUNDARY:1===
this._crossingCount%2?f.INTERIOR:f.EXTERIOR};Ic.prototype.isOnSegment=function(){return this._isPointOnSegment};Ic.prototype.getClass=function(){return Ic};$jscomp.global.Object.defineProperties(Ic.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ic.constructor_=function(a){this._crossingCount=0;this._isPointOnSegment=!1;this._p=a};var Ad=function(){Ad.constructor_.apply(this,arguments)};Ad.prototype.locate=function(a){var b=new Ic(a),c=new nf(b);this._index.query(a.y,
a.y,c);return b.getLocation()};Ad.prototype.getClass=function(){return Ad};$jscomp.global.Object.defineProperties(Ad.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[ue]}}});var nf=function(){nf.constructor_.apply(this,arguments)};nf.prototype.visitItem=function(a){this._counter.countSegment(a.getCoordinate(0),a.getCoordinate(1))};nf.prototype.getClass=function(){return nf};$jscomp.global.Object.defineProperties(nf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[yd]}}});
nf.constructor_=function(a){this._counter=a};var Td=function(){Td.constructor_.apply(this,arguments)};Td.prototype.init=function(a){for(a=Ya.getLines(a).iterator();a.hasNext();){var b=a.next().getCoordinates();this.addLine(b)}};Td.prototype.addLine=function(a){for(var b=1;b<a.length;b++){var c=new q(a[b-1],a[b]);this._index.insert(Math.min(c.p0.y,c.p1.y),Math.max(c.p0.y,c.p1.y),c)}};Td.prototype.query=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new we;this._index.query(a,
b,c);return c.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])};Td.prototype.getClass=function(){return Td};$jscomp.global.Object.defineProperties(Td.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Td.constructor_=function(a){this._index=new Vc;this.init(a)};Ad.SegmentVisitor=nf;Ad.IntervalIndexedGeometry=Td;Ad.constructor_=function(a){this._index=null;if(!(v(a,Uc)||a instanceof ba))throw new F("Argument must be Polygonal or LinearRing");
this._index=new Td(a)};var jb=function(){jb.constructor_.apply(this,arguments)};jb.isOnLine=function(a,b){if(a instanceof h&&v(b,M)){for(var c=new ca,d=new h,e=new h,g=b.size(),f=1;f<g;f++)if(b.getCoordinate(f-1,d),b.getCoordinate(f,e),c.computeIntersection(a,d,e),c.hasIntersection())return!0;return!1}if(a instanceof h&&b instanceof Array){c=new ca;for(f=1;f<b.length;f++)if(d=b[f-1],e=b[f],c.computeIntersection(a,d,e),c.hasIntersection())return!0;return!1}};jb.locateInRing=function(a,b){return Ic.locatePointInRing(a,
b)};jb.isInRing=function(a,b){return jb.locateInRing(a,b)!==f.EXTERIOR};jb.prototype.getClass=function(){return jb};$jscomp.global.Object.defineProperties(jb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});jb.constructor_=function(){};var Wc=function(){Wc.constructor_.apply(this,arguments)};Wc.isAtomic=function(a){return!(a instanceof x)};Wc.prototype.next=function(){if(this._atStart)return this._atStart=!1,Wc.isAtomic(this._parent)&&this._index++,this._parent;if(null!==
this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Tf;var a=this._parent.getGeometryN(this._index++);return a instanceof x?(this._subcollectionIterator=new Wc(a),this._subcollectionIterator.next()):a};Wc.prototype.remove=function(){throw new UnsupportedOperationException(this.getClass().getName());};Wc.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;
this._subcollectionIterator=null}return this._index>=this._max?!1:!0};Wc.prototype.getClass=function(){return Wc};$jscomp.global.Object.defineProperties(Wc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[bg]}}});Wc.constructor_=function(a){this._subcollectionIterator=this._max=null;this._parent=a;this._atStart=!0;this._index=0;this._max=a.getNumGeometries()};var kb=function(){kb.constructor_.apply(this,arguments)};kb.locatePointInPolygon=function(a,b){if(b.isEmpty())return f.EXTERIOR;
var c=b.getExteriorRing();c=kb.locatePointInRing(a,c);if(c!==f.INTERIOR)return c;for(c=0;c<b.getNumInteriorRing();c++){var d=b.getInteriorRingN(c);d=kb.locatePointInRing(a,d);if(d===f.BOUNDARY)return f.BOUNDARY;if(d===f.INTERIOR)return f.EXTERIOR}return f.INTERIOR};kb.locatePointInRing=function(a,b){return b.getEnvelopeInternal().intersects(a)?jb.locateInRing(a,b.getCoordinates()):f.EXTERIOR};kb.containsPointInPolygon=function(a,b){return f.EXTERIOR!==kb.locatePointInPolygon(a,b)};kb.locateInGeometry=
function(a,b){if(b instanceof D)return kb.locatePointInPolygon(a,b);if(b instanceof x)for(var c=new Wc(b);c.hasNext();){var d=c.next();if(d!==b&&(d=kb.locateInGeometry(a,d),d!==f.EXTERIOR))return d}return f.EXTERIOR};kb.locate=function(a,b){return b.isEmpty()?f.EXTERIOR:kb.locateInGeometry(a,b)};kb.prototype.locate=function(a){return kb.locate(a,this._geom)};kb.prototype.getClass=function(){return kb};$jscomp.global.Object.defineProperties(kb.prototype,{interfaces_:{configurable:!0,enumerable:!0,
get:function(){return[ue]}}});kb.constructor_=function(a){this._geom=a};var Pg=Object.freeze({IndexedPointInAreaLocator:Ad,PointOnGeometryLocator:ue,SimplePointInAreaLocator:kb}),xe=function(){xe.constructor_.apply(this,arguments)};xe.prototype.measure=function(a,b){};xe.prototype.getClass=function(){return xe};$jscomp.global.Object.defineProperties(xe.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});xe.constructor_=function(){};var If=function(){If.constructor_.apply(this,
arguments)};If.prototype.measure=function(a,b){var c=a.intersection(b).getArea();a=a.union(b).getArea();return c/a};If.prototype.getClass=function(){return If};$jscomp.global.Object.defineProperties(If.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[xe]}}});If.constructor_=function(){};var Bd=function(){Bd.constructor_.apply(this,arguments)};Bd.diagonalSize=function(a){if(a.isNull())return 0;var b=a.getWidth();a=a.getHeight();return Math.sqrt(b*b+a*a)};Bd.prototype.measure=
function(a,b){var c=Nb.distance(a,b,Bd.DENSIFY_FRACTION);a=new r(a.getEnvelopeInternal());a.expandToInclude(b.getEnvelopeInternal());b=Bd.diagonalSize(a);return 1-c/b};Bd.prototype.getClass=function(){return Bd};$jscomp.global.Object.defineProperties(Bd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[xe]}}});Bd.constructor_=function(){};Bd.DENSIFY_FRACTION=.25;var Jf=function(){Jf.constructor_.apply(this,arguments)};Jf.combine=function(a,b){return Math.min(a,b)};Jf.prototype.getClass=
function(){return Jf};$jscomp.global.Object.defineProperties(Jf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Jf.constructor_=function(){};var Qg=Object.freeze({AreaSimilarityMeasure:If,HausdorffSimilarityMeasure:Bd,SimilarityMeasure:xe,SimilarityMeasureCombiner:Jf}),lb=function(){lb.constructor_.apply(this,arguments)};lb.area2=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(c.x-a.x)*(b.y-a.y)};lb.centroid3=function(a,b,c,d){d.x=a.x+b.x+c.x;d.y=a.y+b.y+c.y;return null};
lb.getCentroid=function(a){return(new lb(a)).getCentroid()};lb.prototype.setAreaBasePoint=function(a){this._areaBasePt=a};lb.prototype.addPoint=function(a){this._ptCount+=1;this._ptCentSum.x+=a.x;this._ptCentSum.y+=a.y};lb.prototype.addLineSegments=function(a){for(var b=0,c=0;c<a.length-1;c++){var d=a[c].distance(a[c+1]);0!==d&&(b+=d,this._lineCentSum.x+=(a[c].x+a[c+1].x)/2*d,this._lineCentSum.y+=(a[c].y+a[c+1].y)/2*d)}this._totalLength+=b;0===b&&0<a.length&&this.addPoint(a[0])};lb.prototype.addHole=
function(a){for(var b=z.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this._areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)};lb.prototype.getCentroid=function(){var a=new h;if(0<Math.abs(this._areasum2))a.x=this._cg3.x/3/this._areasum2,a.y=this._cg3.y/3/this._areasum2;else if(0<this._totalLength)a.x=this._lineCentSum.x/this._totalLength,a.y=this._lineCentSum.y/this._totalLength;else if(0<this._ptCount)a.x=this._ptCentSum.x/this._ptCount,a.y=this._ptCentSum.y/this._ptCount;else return null;return a};
lb.prototype.addShell=function(a){0<a.length&&this.setAreaBasePoint(a[0]);for(var b=!z.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this._areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)};lb.prototype.addTriangle=function(a,b,c,d){d=d?1:-1;lb.centroid3(a,b,c,this._triangleCent3);a=lb.area2(a,b,c);this._cg3.x+=d*a*this._triangleCent3.x;this._cg3.y+=d*a*this._triangleCent3.y;this._areasum2+=d*a};lb.prototype.add=function(a){if(a instanceof D){this.addShell(a.getExteriorRing().getCoordinates());for(var b=
0;b<a.getNumInteriorRing();b++)this.addHole(a.getInteriorRingN(b).getCoordinates())}else if(a instanceof l){if(a.isEmpty())return null;if(a instanceof N)this.addPoint(a.getCoordinate());else if(a instanceof u)this.addLineSegments(a.getCoordinates());else if(a instanceof D)this.add(a);else if(a instanceof x)for(b=0;b<a.getNumGeometries();b++)this.add(a.getGeometryN(b))}};lb.prototype.getClass=function(){return lb};$jscomp.global.Object.defineProperties(lb.prototype,{interfaces_:{configurable:!0,enumerable:!0,
get:function(){return[]}}});lb.constructor_=function(a){this._areaBasePt=null;this._triangleCent3=new h;this._areasum2=0;this._cg3=new h;this._lineCentSum=new h;this._ptCount=this._totalLength=0;this._ptCentSum=new h;this._areaBasePt=null;this.add(a)};eg.prototype=Error();eg.prototype.name="EmptyStackException";$b.prototype=new cb;$b.prototype.add=function(a){this.array_.push(a);return!0};$b.prototype.get=function(a){if(0>a||a>=this.size())throw new IndexOutOfBoundsException;return this.array_[a]};
$b.prototype.push=function(a){this.array_.push(a);return a};$b.prototype.pop=function(a){if(0===this.array_.length)throw new eg;return this.array_.pop()};$b.prototype.peek=function(){if(0===this.array_.length)throw new eg;return this.array_[this.array_.length-1]};$b.prototype.empty=function(){return 0===this.array_.length?!0:!1};$b.prototype.isEmpty=function(){return this.empty()};$b.prototype.search=function(a){return this.array_.indexOf(a)};$b.prototype.size=function(){return this.array_.length};
$b.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a};var Cd=function(){Cd.constructor_.apply(this,arguments)};Cd.filterCoordinates=function(a){for(var b=new Cd,c=0;c<a.length;c++)b.filter(a[c]);return b.getCoordinates()};Cd.prototype.filter=function(a){this.treeSet.contains(a)||(this.list.add(a),this.treeSet.add(a))};Cd.prototype.getCoordinates=function(){var a=Array(this.list.size()).fill(null);return this.list.toArray(a)};Cd.prototype.getClass=
function(){return Cd};$jscomp.global.Object.defineProperties(Cd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Tc]}}});Cd.constructor_=function(){this.treeSet=new Zb;this.list=new m};var Ra=function(){Ra.constructor_.apply(this,arguments)};Ra.extractCoordinates=function(a){var b=new Cd;a.apply(b);return b.getCoordinates()};Ra.prototype.preSort=function(a){for(var b,c=1;c<a.length;c++)if(a[c].y<a[0].y||a[c].y===a[0].y&&a[c].x<a[0].x)b=a[0],a[0]=a[c],a[c]=b;Pd.sort(a,1,
a.length,new Ud(a[0]));return a};Ra.prototype.computeOctRing=function(a){a=this.computeOctPts(a);var b=new ea;b.add(a,!1);if(3>b.size())return null;b.closeRing();return b.toCoordinateArray()};Ra.prototype.lineOrPolygon=function(a){a=this.cleanRing(a);if(3===a.length)return this._geomFactory.createLineString([a[0],a[1]]);a=this._geomFactory.createLinearRing(a);return this._geomFactory.createPolygon(a)};Ra.prototype.cleanRing=function(a){w.equals(a[0],a[a.length-1]);for(var b=new m,c=null,d=0;d<=a.length-
2;d++){var e=a[d],g=a[d+1];e.equals(g)||null!==c&&this.isBetween(c,e,g)||(b.add(e),c=e)}b.add(a[a.length-1]);a=Array(b.size()).fill(null);return b.toArray(a)};Ra.prototype.isBetween=function(a,b,c){return 0!==z.index(a,b,c)?!1:a.x!==c.x&&(a.x<=b.x&&b.x<=c.x||c.x<=b.x&&b.x<=a.x)||a.y!==c.y&&(a.y<=b.y&&b.y<=c.y||c.y<=b.y&&b.y<=a.y)?!0:!1};Ra.prototype.reduce=function(a){var b=this.computeOctRing(a);if(null===b)return a;for(var c=new Zb,d=0;d<b.length;d++)c.add(b[d]);for(d=0;d<a.length;d++)jb.isInRing(a[d],
b)||c.add(a[d]);a=C.toCoordinateArray(c);return 3>a.length?this.padArray3(a):a};Ra.prototype.getConvexHull=function(){if(0===this._inputPts.length)return this._geomFactory.createGeometryCollection();if(1===this._inputPts.length)return this._geomFactory.createPoint(this._inputPts[0]);if(2===this._inputPts.length)return this._geomFactory.createLineString(this._inputPts);var a=this._inputPts;50<this._inputPts.length&&(a=this.reduce(this._inputPts));a=this.preSort(a);a=this.grahamScan(a);a=this.toCoordinateArray(a);
return this.lineOrPolygon(a)};Ra.prototype.padArray3=function(a){for(var b=Array(3).fill(null),c=0;c<b.length;c++)b[c]=c<a.length?a[c]:a[0];return b};Ra.prototype.computeOctPts=function(a){for(var b=Array(8).fill(null),c=0;c<b.length;c++)b[c]=a[0];for(c=1;c<a.length;c++)a[c].x<b[0].x&&(b[0]=a[c]),a[c].x-a[c].y<b[1].x-b[1].y&&(b[1]=a[c]),a[c].y>b[2].y&&(b[2]=a[c]),a[c].x+a[c].y>b[3].x+b[3].y&&(b[3]=a[c]),a[c].x>b[4].x&&(b[4]=a[c]),a[c].x-a[c].y>b[5].x-b[5].y&&(b[5]=a[c]),a[c].y<b[6].y&&(b[6]=a[c]),
a[c].x+a[c].y<b[7].x+b[7].y&&(b[7]=a[c]);return b};Ra.prototype.toCoordinateArray=function(a){for(var b=Array(a.size()).fill(null),c=0;c<a.size();c++){var d=a.get(c);b[c]=d}return b};Ra.prototype.grahamScan=function(a){var b,c=new $b;c.push(a[0]);c.push(a[1]);c.push(a[2]);for(var d=3;d<a.length;d++){for(b=c.pop();!c.empty()&&0<z.index(c.peek(),b,a[d]);)b=c.pop();c.push(b);c.push(a[d])}c.push(a[0]);return c};Ra.prototype.getClass=function(){return Ra};$jscomp.global.Object.defineProperties(Ra.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var Ud=function(){Ud.constructor_.apply(this,arguments)};Ud.polarCompare=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,g=c.x-a.x,f=c.y-a.y;a=z.index(a,b,c);if(a===z.COUNTERCLOCKWISE)return 1;if(a===z.CLOCKWISE)return-1;d=d*d+e*e;g=g*g+f*f;return d<g?-1:d>g?1:0};Ud.prototype.compare=function(a,b){return Ud.polarCompare(this._origin,a,b)};Ud.prototype.getClass=function(){return Ud};$jscomp.global.Object.defineProperties(Ud.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[af]}}});Ud.constructor_=function(a){this._origin=a};Ra.RadialComparator=Ud;Ra.constructor_=function(){this._inputPts=this._geomFactory=null;if(1===arguments.length){var a=arguments[0];Ra.constructor_.call(this,Ra.extractCoordinates(a),a.getFactory())}else 2===arguments.length&&(a=arguments[1],this._inputPts=Cd.filterCoordinates(arguments[0]),this._geomFactory=a)};var ub=function(){ub.constructor_.apply(this,arguments)};ub.centre=function(a){return new h(ub.avg(a.getMinX(),
a.getMaxX()),ub.avg(a.getMinY(),a.getMaxY()))};ub.avg=function(a,b){return(a+b)/2};ub.prototype.addPolygon=function(a){if(a.isEmpty())return null;var b=this.horizontalBisector(a);0===b.getLength()?(a=0,b=b.getCoordinate()):(a=b.intersection(a),b=this.widestGeometry(a),a=b.getEnvelopeInternal().getWidth(),b=ub.centre(b.getEnvelopeInternal()));if(null===this._interiorPoint||a>this._maxWidth)this._interiorPoint=b,this._maxWidth=a};ub.prototype.getInteriorPoint=function(){return this._interiorPoint};
ub.prototype.widestGeometry=function(a){if(a instanceof x){if(a.isEmpty())return a;for(var b=a.getGeometryN(0),c=1;c<a.getNumGeometries();c++)a.getGeometryN(c).getEnvelopeInternal().getWidth()>b.getEnvelopeInternal().getWidth()&&(b=a.getGeometryN(c));return b}if(a instanceof l)return a instanceof x?this.widestGeometry(a):a};ub.prototype.horizontalBisector=function(a){var b=a.getEnvelopeInternal();a=jd.getBisectorY(a);return this._factory.createLineString([new h(b.getMinX(),a),new h(b.getMaxX(),a)])};
ub.prototype.add=function(a){if(a instanceof D)this.addPolygon(a);else if(a instanceof x)for(var b=0;b<a.getNumGeometries();b++)this.add(a.getGeometryN(b))};ub.prototype.getClass=function(){return ub};$jscomp.global.Object.defineProperties(ub.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var jd=function(){jd.constructor_.apply(this,arguments)};jd.getBisectorY=function(a){return(new jd(a)).getBisectorY()};jd.prototype.updateInterval=function(a){a<=this._centreY?
a>this._loY&&(this._loY=a):a>this._centreY&&a<this._hiY&&(this._hiY=a)};jd.prototype.getBisectorY=function(){this.process(this._poly.getExteriorRing());for(var a=0;a<this._poly.getNumInteriorRing();a++)this.process(this._poly.getInteriorRingN(a));return ub.avg(this._hiY,this._loY)};jd.prototype.process=function(a){a=a.getCoordinateSequence();for(var b=0;b<a.size();b++){var c=a.getY(b);this.updateInterval(c)}};jd.prototype.getClass=function(){return jd};$jscomp.global.Object.defineProperties(jd.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});jd.constructor_=function(a){this._centreY=this._poly=null;this._hiY=y.MAX_VALUE;this._loY=-y.MAX_VALUE;this._poly=a;this._hiY=a.getEnvelopeInternal().getMaxY();this._loY=a.getEnvelopeInternal().getMinY();this._centreY=ub.avg(this._loY,this._hiY)};ub.SafeBisectorFinder=jd;ub.constructor_=function(a){this._interiorPoint=this._factory=null;this._maxWidth=0;this._factory=a.getFactory();this.add(a)};var Dd=function(){Dd.constructor_.apply(this,
arguments)};Dd.prototype.addEndpoints=function(a){if(a instanceof l)if(a instanceof u)this.addEndpoints(a.getCoordinates());else{if(a instanceof x)for(var b=0;b<a.getNumGeometries();b++)this.addEndpoints(a.getGeometryN(b))}else a instanceof Array&&(this.add(a[0]),this.add(a[a.length-1]))};Dd.prototype.getInteriorPoint=function(){return this._interiorPoint};Dd.prototype.addInterior=function(a){if(a instanceof l)if(a instanceof u)this.addInterior(a.getCoordinates());else{if(a instanceof x)for(var b=
0;b<a.getNumGeometries();b++)this.addInterior(a.getGeometryN(b))}else if(a instanceof Array)for(b=1;b<a.length-1;b++)this.add(a[b])};Dd.prototype.add=function(a){var b=a.distance(this._centroid);b<this._minDistance&&(this._interiorPoint=new h(a),this._minDistance=b)};Dd.prototype.getClass=function(){return Dd};$jscomp.global.Object.defineProperties(Dd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Dd.constructor_=function(a){this._centroid=null;this._minDistance=
y.MAX_VALUE;this._interiorPoint=null;this._centroid=a.getCentroid().getCoordinate();this.addInterior(a);null===this._interiorPoint&&this.addEndpoints(a)};var ye=function(){ye.constructor_.apply(this,arguments)};ye.prototype.getInteriorPoint=function(){return this._interiorPoint};ye.prototype.add=function(a){if(a instanceof l)if(a instanceof N)this.add(a.getCoordinate());else{if(a instanceof x)for(var b=0;b<a.getNumGeometries();b++)this.add(a.getGeometryN(b))}else a instanceof h&&(b=a.distance(this._centroid),
b<this._minDistance&&(this._interiorPoint=new h(a),this._minDistance=b))};ye.prototype.getClass=function(){return ye};$jscomp.global.Object.defineProperties(ye.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ye.constructor_=function(a){this._centroid=null;this._minDistance=y.MAX_VALUE;this._interiorPoint=null;this._centroid=a.getCentroid().getCoordinate();this.add(a)};var mb=function(){mb.constructor_.apply(this,arguments)};mb.pointWitMinAngleWithX=function(a,b){for(var c=
y.MAX_VALUE,d=null,e=0;e<a.length;e++){var g=a[e];if(g!==b){var f=g.x-b.x,h=g.y-b.y;0>h&&(h=-h);f=h/Math.sqrt(f*f+h*h);f<c&&(c=f,d=g)}}return d};mb.lowestPoint=function(a){for(var b=a[0],c=1;c<a.length;c++)a[c].y<b.y&&(b=a[c]);return b};mb.pointWithMinAngleWithSegment=function(a,b,c){for(var d=y.MAX_VALUE,e=null,g=0;g<a.length;g++){var f=a[g];if(f!==b&&f!==c){var h=H.angleBetween(b,f,c);h<d&&(d=h,e=f)}}return e};mb.prototype.getRadius=function(){this.compute();return this._radius};mb.prototype.getDiameter=
function(){this.compute();switch(this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var a=this._extremalPts[0],b=this._extremalPts[1];return this._input.getFactory().createLineString([a,b])};mb.prototype.getExtremalPoints=function(){this.compute();return this._extremalPts};mb.prototype.computeCirclePoints=function(){if(this._input.isEmpty())return this._extremalPts=[].fill(null),null;if(1===this._input.getNumPoints()){var a=
this._input.getCoordinates();this._extremalPts=[new h(a[0])];return null}var b=this._input.convexHull().getCoordinates();a=b;b[0].equals2D(b[b.length-1])&&(a=Array(b.length-1).fill(null),C.copyDeep(b,0,a,0,b.length-1));if(2>=a.length)return this._extremalPts=C.copyDeep(a),null;b=mb.lowestPoint(a);for(var c=mb.pointWitMinAngleWithX(a,b),d=0;d<a.length;d++){var e=mb.pointWithMinAngleWithSegment(a,b,c);if(H.isObtuse(b,e,c))return this._extremalPts=[new h(b),new h(c)],null;if(H.isObtuse(e,b,c))b=e;else if(H.isObtuse(e,
c,b))c=e;else return this._extremalPts=[new h(b),new h(c),new h(e)],null}w.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")};mb.prototype.compute=function(){if(null!==this._extremalPts)return null;this.computeCirclePoints();this.computeCentre();null!==this._centre&&(this._radius=this._centre.distance(this._extremalPts[0]))};mb.prototype.getFarthestPoints=function(){this.compute();switch(this._extremalPts.length){case 0:return this._input.getFactory().createLineString();
case 1:return this._input.getFactory().createPoint(this._centre)}var a=this._extremalPts[0],b=this._extremalPts[this._extremalPts.length-1];return this._input.getFactory().createLineString([a,b])};mb.prototype.getCircle=function(){this.compute();if(null===this._centre)return this._input.getFactory().createPolygon();var a=this._input.getFactory().createPoint(this._centre);return 0===this._radius?a:a.buffer(this._radius)};mb.prototype.getCentre=function(){this.compute();return this._centre};mb.prototype.computeCentre=
function(){switch(this._extremalPts.length){case 0:this._centre=null;break;case 1:this._centre=this._extremalPts[0];break;case 2:this._centre=new h((this._extremalPts[0].x+this._extremalPts[1].x)/2,(this._extremalPts[0].y+this._extremalPts[1].y)/2);break;case 3:this._centre=S.circumcentre(this._extremalPts[0],this._extremalPts[1],this._extremalPts[2])}};mb.prototype.getClass=function(){return mb};$jscomp.global.Object.defineProperties(mb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
mb.constructor_=function(a){this._centre=this._extremalPts=null;this._radius=0;this._input=a};var xa=function(){xa.constructor_.apply(this,arguments)};xa.nextIndex=function(a,b){b++;b>=a.length&&(b=0);return b};xa.computeC=function(a,b,c){return a*c.y-b*c.x};xa.getMinimumDiameter=function(a){return(new xa(a)).getDiameter()};xa.getMinimumRectangle=function(a){return(new xa(a)).getMinimumRectangle()};xa.computeSegmentForLine=function(a,b,c){if(Math.abs(b)>Math.abs(a)){var d=new h(0,c/b);a=new h(1,c/
b-a/b)}else d=new h(c/a,0),a=new h(c/a-b/a,1);return new q(d,a)};xa.prototype.getWidthCoordinate=function(){this.computeMinimumDiameter();return this._minWidthPt};xa.prototype.getSupportingSegment=function(){this.computeMinimumDiameter();return this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0,this._minBaseSeg.p1])};xa.prototype.getDiameter=function(){this.computeMinimumDiameter();if(null===this._minWidthPt)return this._inputGeom.getFactory().createLineString();var a=this._minBaseSeg.project(this._minWidthPt);
return this._inputGeom.getFactory().createLineString([a,this._minWidthPt])};xa.prototype.computeWidthConvex=function(a){this._convexHullPts=a instanceof D?a.getExteriorRing().getCoordinates():a.getCoordinates();0===this._convexHullPts.length?(this._minWidth=0,this._minBaseSeg=this._minWidthPt=null):1===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[0]):2===this._convexHullPts.length||
3===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[1]):this.computeConvexRingMinDiameter(this._convexHullPts)};xa.prototype.computeConvexRingMinDiameter=function(a){this._minWidth=y.MAX_VALUE;for(var b=1,c=new q,d=0;d<a.length-1;d++)c.p0=a[d],c.p1=a[d+1],b=this.findMaxPerpDistance(a,c,b)};xa.prototype.computeMinimumDiameter=function(){if(null!==this._minWidthPt)return null;if(this._isConvex)this.computeWidthConvex(this._inputGeom);
else{var a=(new Ra(this._inputGeom)).getConvexHull();this.computeWidthConvex(a)}};xa.prototype.getLength=function(){this.computeMinimumDiameter();return this._minWidth};xa.prototype.findMaxPerpDistance=function(a,b,c){for(var d=b.distancePerpendicular(a[c]),e=d,g=c;e>=d;)d=e,c=g,g=xa.nextIndex(a,c),e=b.distancePerpendicular(a[g]);d<this._minWidth&&(this._minPtIndex=c,this._minWidth=d,this._minWidthPt=a[this._minPtIndex],this._minBaseSeg=new q(b));return c};xa.prototype.getMinimumRectangle=function(){this.computeMinimumDiameter();
if(0===this._minWidth)return this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)?this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0):this._minBaseSeg.toGeometry(this._inputGeom.getFactory());for(var a=this._minBaseSeg.p1.x-this._minBaseSeg.p0.x,b=this._minBaseSeg.p1.y-this._minBaseSeg.p0.y,c=y.MAX_VALUE,d=-y.MAX_VALUE,e=y.MAX_VALUE,g=-y.MAX_VALUE,f=0;f<this._convexHullPts.length;f++){var h=xa.computeC(a,b,this._convexHullPts[f]);h>d&&(d=h);h<c&&(c=h);h=xa.computeC(-b,a,this._convexHullPts[f]);
h>g&&(g=h);h<e&&(e=h)}g=xa.computeSegmentForLine(-a,-b,g);e=xa.computeSegmentForLine(-a,-b,e);d=xa.computeSegmentForLine(-b,a,d);c=xa.computeSegmentForLine(-b,a,c);a=d.lineIntersection(g);b=c.lineIntersection(g);c=c.lineIntersection(e);d=d.lineIntersection(e);a=this._inputGeom.getFactory().createLinearRing([a,b,c,d,a]);return this._inputGeom.getFactory().createPolygon(a)};xa.prototype.getClass=function(){return xa};$jscomp.global.Object.defineProperties(xa.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});xa.constructor_=function(){this._convexHullPts=this._isConvex=this._inputGeom=null;this._minBaseSeg=new q;this._minPtIndex=this._minWidthPt=null;this._minWidth=0;if(1===arguments.length)xa.constructor_.call(this,arguments[0],!1);else if(2===arguments.length){var a=arguments[1];this._inputGeom=arguments[0];this._isConvex=a}};var Rg=Object.freeze({distance:Og,locate:Pg,match:Qg,Angle:H,Area:vd,Centroid:lb,ConvexHull:Ra,Distance:Aa,InteriorPointArea:ub,InteriorPointLine:Dd,
InteriorPointPoint:ye,Length:lf,Orientation:z,PointLocation:jb,RobustLineIntersector:ca,MinimumBoundingCircle:mb,MinimumDiameter:xa}),pa=function(){pa.constructor_.apply(this,arguments)};pa.prototype.transformPoint=function(a,b){return this._factory.createPoint(this.transformCoordinates(a.getCoordinateSequence(),a))};pa.prototype.transformPolygon=function(a,b){var c=!0;b=this.transformLinearRing(a.getExteriorRing(),a);null!==b&&b instanceof ba&&!b.isEmpty()||(c=!1);for(var d=new m,e=0;e<a.getNumInteriorRing();e++){var g=
this.transformLinearRing(a.getInteriorRingN(e),a);null===g||g.isEmpty()||(g instanceof ba||(c=!1),d.add(g))}if(c)return this._factory.createPolygon(b,d.toArray([]));a=new m;null!==b&&a.add(b);a.addAll(d);return this._factory.buildGeometry(a)};pa.prototype.createCoordinateSequence=function(a){return this._factory.getCoordinateSequenceFactory().create(a)};pa.prototype.getInputGeometry=function(){return this._inputGeom};pa.prototype.transformMultiLineString=function(a,b){b=new m;for(var c=0;c<a.getNumGeometries();c++){var d=
this.transformLineString(a.getGeometryN(c),a);null!==d&&(d.isEmpty()||b.add(d))}return this._factory.buildGeometry(b)};pa.prototype.transformCoordinates=function(a,b){return this.copy(a)};pa.prototype.transformLineString=function(a,b){return this._factory.createLineString(this.transformCoordinates(a.getCoordinateSequence(),a))};pa.prototype.transformMultiPoint=function(a,b){b=new m;for(var c=0;c<a.getNumGeometries();c++){var d=this.transformPoint(a.getGeometryN(c),a);null!==d&&(d.isEmpty()||b.add(d))}return this._factory.buildGeometry(b)};
pa.prototype.transformMultiPolygon=function(a,b){b=new m;for(var c=0;c<a.getNumGeometries();c++){var d=this.transformPolygon(a.getGeometryN(c),a);null!==d&&(d.isEmpty()||b.add(d))}return this._factory.buildGeometry(b)};pa.prototype.copy=function(a){return a.copy()};pa.prototype.transformGeometryCollection=function(a,b){b=new m;for(var c=0;c<a.getNumGeometries();c++){var d=this.transform(a.getGeometryN(c));null!==d&&(this._pruneEmptyGeometry&&d.isEmpty()||b.add(d))}return this._preserveGeometryCollectionType?
this._factory.createGeometryCollection(B.toGeometryArray(b)):this._factory.buildGeometry(b)};pa.prototype.transform=function(a){this._inputGeom=a;this._factory=a.getFactory();if(a instanceof N)return this.transformPoint(a,null);if(a instanceof Ga)return this.transformMultiPoint(a,null);if(a instanceof ba)return this.transformLinearRing(a,null);if(a instanceof u)return this.transformLineString(a,null);if(a instanceof Ba)return this.transformMultiLineString(a,null);if(a instanceof D)return this.transformPolygon(a,
null);if(a instanceof ta)return this.transformMultiPolygon(a,null);if(a instanceof x)return this.transformGeometryCollection(a,null);throw new F("Unknown Geometry subtype: "+a.getClass().getName());};pa.prototype.transformLinearRing=function(a,b){a=this.transformCoordinates(a.getCoordinateSequence(),a);if(null===a)return this._factory.createLinearRing(null);b=a.size();return 0<b&&4>b&&!this._preserveType?this._factory.createLineString(a):this._factory.createLinearRing(a)};pa.prototype.getClass=function(){return pa};
$jscomp.global.Object.defineProperties(pa.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});pa.constructor_=function(){this._factory=this._inputGeom=null;this._preserveGeometryCollectionType=this._pruneEmptyGeometry=!0;this._preserveType=this._preserveCollections=!1};var Xc=function(){Xc.constructor_.apply(this,arguments)};Xc.densifyPoints=function(a,b,c){for(var d=new q,e=new ea,g=0;g<a.length-1;g++){d.p0=a[g];d.p1=a[g+1];e.add(d.p0,!1);var f=d.getLength(),h=Math.trunc(f/
b)+1;if(1<h)for(var k=f/h,l=1;l<h;l++){var m=d.pointAlong(l*k/f);c.makePrecise(m);e.add(m,!1)}}e.add(a[a.length-1],!1);return e.toCoordinateArray()};Xc.densify=function(a,b){a=new Xc(a);a.setDistanceTolerance(b);return a.getResultGeometry()};Xc.prototype.getResultGeometry=function(){return(new kd(this._distanceTolerance)).transform(this._inputGeom)};Xc.prototype.setDistanceTolerance=function(a){if(0>=a)throw new F("Tolerance must be positive");this._distanceTolerance=a};Xc.prototype.getClass=function(){return Xc};
$jscomp.global.Object.defineProperties(Xc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var kd=function(){var a=pa.call(this)||this;kd.constructor_.apply(a,arguments);return a};$jscomp.inherits(kd,pa);kd.prototype.transformMultiPolygon=function(a,b){a=pa.prototype.transformMultiPolygon.call(this,a,b);return this.createValidArea(a)};kd.prototype.transformPolygon=function(a,b){a=pa.prototype.transformPolygon.call(this,a,b);return b instanceof ta?a:this.createValidArea(a)};
kd.prototype.transformCoordinates=function(a,b){a=a.toCoordinateArray();a=Xc.densifyPoints(a,this.distanceTolerance,b.getPrecisionModel());b instanceof u&&1===a.length&&(a=[].fill(null));return this._factory.getCoordinateSequenceFactory().create(a)};kd.prototype.createValidArea=function(a){return a.buffer(0)};kd.prototype.getClass=function(){return kd};$jscomp.global.Object.defineProperties(kd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});kd.constructor_=function(a){this.distanceTolerance=
a};Xc.DensifyTransformer=kd;Xc.constructor_=function(a){this._distanceTolerance=null;this._inputGeom=a};var Sg=Object.freeze({Densifier:Xc}),X=function(){X.constructor_.apply(this,arguments)};X.isNorthern=function(a){return a===X.NE||a===X.NW};X.isOpposite=function(a,b){return a===b?!1:2===(a-b+4)%4?!0:!1};X.commonHalfPlane=function(a,b){if(a===b)return a;if(2===(a-b+4)%4)return-1;var c=a<b?a:b;return 0===c&&3===(a>b?a:b)?3:c};X.isInHalfPlane=function(a,b){return b===X.SE?a===X.SE||a===X.SW:a===b||
a===b+1};X.quadrant=function(a,b){if("number"===typeof a&&"number"===typeof b){if(0===a&&0===b)throw new F("Cannot compute the quadrant for point ( "+a+", "+b+" )");return 0<=a?0<=b?X.NE:X.SE:0<=b?X.NW:X.SW}if(a instanceof h&&b instanceof h){if(b.x===a.x&&b.y===a.y)throw new F("Cannot compute the quadrant for two identical points "+a);return b.x>=a.x?b.y>=a.y?X.NE:X.SE:b.y>=a.y?X.NW:X.SW}};X.prototype.getClass=function(){return X};$jscomp.global.Object.defineProperties(X.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});X.constructor_=function(){};X.NE=0;X.NW=1;X.SW=2;X.SE=3;var ja=function(){ja.constructor_.apply(this,arguments)};ja.init=function(a,b){if(null!==a._sym||null!==b._sym||null!==a._next||null!==b._next)throw new IllegalStateException("Edges are already initialized");a.init(b);return a};ja.create=function(a,b){a=new ja(a);b=new ja(b);a.init(b);return a};ja.prototype.find=function(a){var b=this;do{if(null===b)break;if(b.dest().equals2D(a))return b;b=b.oNext()}while(b!==
this);return null};ja.prototype.dest=function(){return this._sym._orig};ja.prototype.oNext=function(){return this._sym._next};ja.prototype.insert=function(a){if(this.oNext()===this)return this.insertAfter(a),null;var b=this.compareTo(a),c=this;do{var d=c.oNext();if(d.compareTo(a)!==b||d===this)return c.insertAfter(a),null;c=d}while(c!==this);w.shouldNeverReachHere()};ja.prototype.insertAfter=function(a){w.equals(this._orig,a.orig());var b=this.oNext();this._sym.setNext(a);a.sym().setNext(b)};ja.prototype.degree=
function(){var a=0,b=this;do a++,b=b.oNext();while(b!==this);return a};ja.prototype.equals=function(){if(2===arguments.length&&arguments[1]instanceof h&&arguments[0]instanceof h){var a=arguments[1];return this._orig.equals2D(arguments[0])&&this._sym._orig.equals(a)}};ja.prototype.deltaY=function(){return this._sym._orig.y-this._orig.y};ja.prototype.sym=function(){return this._sym};ja.prototype.prev=function(){return this._sym.next()._sym};ja.prototype.compareAngularDirection=function(a){var b=this.deltaX(),
c=this.deltaY(),d=a.deltaX(),e=a.deltaY();if(b===d&&c===e)return 0;b=X.quadrant(b,c);d=X.quadrant(d,e);return b>d?1:b<d?-1:z.index(a._orig,a.dest(),this.dest())};ja.prototype.prevNode=function(){for(var a=this;2===a.degree();)if(a=a.prev(),a===this)return null;return a};ja.prototype.compareTo=function(a){return this.compareAngularDirection(a)};ja.prototype.next=function(){return this._next};ja.prototype.setSym=function(a){this._sym=a};ja.prototype.orig=function(){return this._orig};ja.prototype.toString=
function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"};ja.prototype.setNext=function(a){this._next=a};ja.prototype.init=function(a){this.setSym(a);a.setSym(this);this.setNext(a);a.setNext(this)};ja.prototype.deltaX=function(){return this._sym._orig.x-this._orig.x};ja.prototype.getClass=function(){return ja};$jscomp.global.Object.defineProperties(ja.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ja.constructor_=function(a){this._next=
this._sym=null;this._orig=a};var eb=function(){var a=ja.call(this)||this;eb.constructor_.apply(a,arguments);return a};$jscomp.inherits(eb,ja);eb.setMarkBoth=function(a,b){a.setMark(b);a.sym().setMark(b)};eb.isMarked=function(a){return a.isMarked()};eb.setMark=function(a,b){a.setMark(b)};eb.markBoth=function(a){a.mark();a.sym().mark()};eb.mark=function(a){a.mark()};eb.prototype.mark=function(){this._isMarked=!0};eb.prototype.setMark=function(a){this._isMarked=a};eb.prototype.isMarked=function(){return this._isMarked};
eb.prototype.getClass=function(){return eb};$jscomp.global.Object.defineProperties(eb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});eb.constructor_=function(a){this._isMarked=!1;ja.constructor_.call(this,a)};var xc=function(){xc.constructor_.apply(this,arguments)};xc.isValidEdge=function(a,b){return 0!==b.compareTo(a)};xc.prototype.insert=function(a,b,c){var d=this.create(a,b);null!==c?c.insert(d):this._vertexMap.put(a,d);a=this._vertexMap.get(b);null!==a?a.insert(d.sym()):
this._vertexMap.put(b,d.sym());return d};xc.prototype.create=function(a,b){a=this.createEdge(a);b=this.createEdge(b);ja.init(a,b);return a};xc.prototype.createEdge=function(a){return new ja(a)};xc.prototype.addEdge=function(a,b){if(!xc.isValidEdge(a,b))return null;var c=this._vertexMap.get(a),d=null;null!==c&&(d=c.find(b));return null!==d?d:this.insert(a,b,c)};xc.prototype.getVertexEdges=function(){return this._vertexMap.values()};xc.prototype.findEdge=function(a,b){a=this._vertexMap.get(a);return null===
a?null:a.find(b)};xc.prototype.getClass=function(){return xc};$jscomp.global.Object.defineProperties(xc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});xc.constructor_=function(){this._vertexMap=new Qd};var ze=function(){var a=eb.call(this)||this;ze.constructor_.apply(a,arguments);return a};$jscomp.inherits(ze,eb);ze.prototype.setStart=function(){this._isStart=!0};ze.prototype.isStart=function(){return this._isStart};ze.prototype.getClass=function(){return ze};$jscomp.global.Object.defineProperties(ze.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ze.constructor_=function(a){this._isStart=!1;eb.constructor_.call(this,a)};var of=function(){var a=xc.call(this)||this;of.constructor_.apply(a,arguments);return a};$jscomp.inherits(of,xc);of.prototype.createEdge=function(a){return new ze(a)};of.prototype.getClass=function(){return of};$jscomp.global.Object.defineProperties(of.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});of.constructor_=function(){};
var Ob=function(){Ob.constructor_.apply(this,arguments)};Ob.dissolve=function(a){var b=new Ob;b.add(a);return b.getResult()};Ob.prototype.addLine=function(a){this._lines.add(this._factory.createLineString(a.toCoordinateArray()))};Ob.prototype.updateRingStartEdge=function(a){if(!a.isStart()&&(a=a.sym(),!a.isStart()))return null;if(null===this._ringStartEdge)return this._ringStartEdge=a,null;0>a.orig().compareTo(this._ringStartEdge.orig())&&(this._ringStartEdge=a)};Ob.prototype.getResult=function(){null===
this._result&&this.computeResult();return this._result};Ob.prototype.process=function(a){var b=a.prevNode();null===b&&(b=a);this.stackEdges(b);this.buildLines()};Ob.prototype.buildRing=function(a){var b=new ea,c=a;for(b.add(c.orig().copy(),!1);2===c.sym().degree();){var d=c.next();if(d===a)break;b.add(d.orig().copy(),!1);c=d}b.add(c.dest().copy(),!1);this.addLine(b)};Ob.prototype.buildLine=function(a){var b=new ea,c=a;this._ringStartEdge=null;eb.markBoth(c);for(b.add(c.orig().copy(),!1);2===c.sym().degree();){this.updateRingStartEdge(c);
c=c.next();if(c===a)return this.buildRing(this._ringStartEdge),null;b.add(c.orig().copy(),!1);eb.markBoth(c)}b.add(c.dest().clone(),!1);this.stackEdges(c.sym());this.addLine(b)};Ob.prototype.stackEdges=function(a){var b=a;do eb.isMarked(b)||this._nodeEdgeStack.add(b),b=b.oNext();while(b!==a)};Ob.prototype.computeResult=function(){for(var a=this._graph.getVertexEdges().iterator();a.hasNext();){var b=a.next();eb.isMarked(b)||this.process(b)}this._result=this._factory.buildGeometry(this._lines)};Ob.prototype.buildLines=
function(){for(;!this._nodeEdgeStack.empty();){var a=this._nodeEdgeStack.pop();eb.isMarked(a)||this.buildLine(a)}};Ob.prototype.add=function(a){if(a instanceof l){var b=function(){};b.prototype.filter=function(a){a instanceof u&&this.add(a)};$jscomp.global.Object.defineProperties(b.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[jc]}}});a.apply(new b)}else if(v(a,ra))for(a=a.iterator();a.hasNext();)b=a.next(),this.add(b);else if(a instanceof u){null===this._factory&&(this._factory=
a.getFactory());b=a.getCoordinateSequence();var c=!1;for(a=1;a<b.size();a++){var d=this._graph.addEdge(b.getCoordinate(a-1),b.getCoordinate(a));null===d||c||(d.setStart(),c=!0)}}};Ob.prototype.getClass=function(){return Ob};$jscomp.global.Object.defineProperties(Ob.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ob.constructor_=function(){this._graph=this._factory=this._result=null;this._lines=new m;this._nodeEdgeStack=new $b;this._ringStartEdge=null;this._graph=
new of};var Tg=Object.freeze({LineDissolver:Ob}),Pb=function(){Pb.constructor_.apply(this,arguments)};Pb.prototype.locateInPolygonRing=function(a,b){return b.getEnvelopeInternal().intersects(a)?jb.locateInRing(a,b.getCoordinates()):f.EXTERIOR};Pb.prototype.intersects=function(a,b){return this.locate(a,b)!==f.EXTERIOR};Pb.prototype.updateLocationInfo=function(a){a===f.INTERIOR&&(this._isIn=!0);a===f.BOUNDARY&&this._numBoundaries++};Pb.prototype.computeLocation=function(a,b){b instanceof N&&this.updateLocationInfo(this.locateOnPoint(a,
b));if(b instanceof u)this.updateLocationInfo(this.locateOnLineString(a,b));else if(b instanceof D)this.updateLocationInfo(this.locateInPolygon(a,b));else if(b instanceof Ba)for(var c=0;c<b.getNumGeometries();c++){var d=b.getGeometryN(c);this.updateLocationInfo(this.locateOnLineString(a,d))}else if(b instanceof ta)for(c=0;c<b.getNumGeometries();c++)d=b.getGeometryN(c),this.updateLocationInfo(this.locateInPolygon(a,d));else if(b instanceof x)for(c=new Wc(b);c.hasNext();)d=c.next(),d!==b&&this.computeLocation(a,
d)};Pb.prototype.locateOnPoint=function(a,b){return b.getCoordinate().equals2D(a)?f.INTERIOR:f.EXTERIOR};Pb.prototype.locateOnLineString=function(a,b){if(!b.getEnvelopeInternal().intersects(a))return f.EXTERIOR;var c=b.getCoordinateSequence();return b.isClosed()||!a.equals(c.getCoordinate(0))&&!a.equals(c.getCoordinate(c.size()-1))?jb.isOnLine(a,c)?f.INTERIOR:f.EXTERIOR:f.BOUNDARY};Pb.prototype.locateInPolygon=function(a,b){if(b.isEmpty())return f.EXTERIOR;var c=b.getExteriorRing();c=this.locateInPolygonRing(a,
c);if(c===f.EXTERIOR)return f.EXTERIOR;if(c===f.BOUNDARY)return f.BOUNDARY;for(c=0;c<b.getNumInteriorRing();c++){var d=b.getInteriorRingN(c);d=this.locateInPolygonRing(a,d);if(d===f.INTERIOR)return f.EXTERIOR;if(d===f.BOUNDARY)return f.BOUNDARY}return f.INTERIOR};Pb.prototype.locate=function(a,b){if(b.isEmpty())return f.EXTERIOR;if(b instanceof u)return this.locateOnLineString(a,b);if(b instanceof D)return this.locateInPolygon(a,b);this._isIn=!1;this._numBoundaries=0;this.computeLocation(a,b);return this._boundaryRule.isInBoundary(this._numBoundaries)?
f.BOUNDARY:0<this._numBoundaries||this._isIn?f.INTERIOR:f.EXTERIOR};Pb.prototype.getClass=function(){return Pb};$jscomp.global.Object.defineProperties(Pb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Pb.constructor_=function(){this._boundaryRule=Qa.OGC_SFS_BOUNDARY_RULE;this._numBoundaries=this._isIn=null;if(0!==arguments.length&&1===arguments.length){var a=arguments[0];if(null===a)throw new F("Rule must be non-null");this._boundaryRule=a}};var p=function(){p.constructor_.apply(this,
arguments)};p.opposite=function(a){return a===p.LEFT?p.RIGHT:a===p.RIGHT?p.LEFT:a};p.prototype.getClass=function(){return p};$jscomp.global.Object.defineProperties(p.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});p.constructor_=function(){};p.ON=0;p.LEFT=1;p.RIGHT=2;var Kf=function(){Kf.constructor_.apply(this,arguments)};Kf.prototype.computeIntersections=function(a,b){this.mce.computeIntersectsForChain(this.chainIndex,a.mce,a.chainIndex,b)};Kf.prototype.getClass=
function(){return Kf};$jscomp.global.Object.defineProperties(Kf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Kf.constructor_=function(a,b){this.mce=a;this.chainIndex=b};var nb=function(){nb.constructor_.apply(this,arguments)};nb.prototype.isDelete=function(){return this._eventType===nb.DELETE};nb.prototype.setDeleteEventIndex=function(a){this._deleteEventIndex=a};nb.prototype.getObject=function(){return this._obj};nb.prototype.compareTo=function(a){return this._xValue<
a._xValue?-1:this._xValue>a._xValue?1:this._eventType<a._eventType?-1:this._eventType>a._eventType?1:0};nb.prototype.getInsertEvent=function(){return this._insertEvent};nb.prototype.isInsert=function(){return this._eventType===nb.INSERT};nb.prototype.isSameLabel=function(a){return null===this._label?!1:this._label===a._label};nb.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex};nb.prototype.getClass=function(){return nb};$jscomp.global.Object.defineProperties(nb.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[hc]}}});nb.constructor_=function(){this._obj=this._deleteEventIndex=this._insertEvent=this._eventType=this._xValue=this._label=null;if(2===arguments.length){var a=arguments[0],b=arguments[1];this._eventType=nb.DELETE;this._xValue=a;this._insertEvent=b}else if(3===arguments.length){a=arguments[0];b=arguments[1];var c=arguments[2];this._eventType=nb.INSERT;this._label=a;this._xValue=b;this._obj=c}};nb.INSERT=1;nb.DELETE=2;var Lf=function(){Lf.constructor_.apply(this,
arguments)};Lf.prototype.getClass=function(){return Lf};$jscomp.global.Object.defineProperties(Lf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Lf.constructor_=function(){};var fb=function(){fb.constructor_.apply(this,arguments)};fb.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)};fb.prototype.isTrivialIntersection=function(a,b,c,d){return a===c&&1===this._li.getIntersectionNum()&&(fb.isAdjacentSegments(b,d)||a.isClosed()&&(a=a.getNumPoints()-1,0===b&&
d===a||0===d&&b===a))?!0:!1};fb.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};fb.prototype.setIsDoneIfProperInt=function(a){this._isDoneWhenProperInt=a};fb.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};fb.prototype.isBoundaryPointInternal=function(a,b){for(b=b.iterator();b.hasNext();){var c=b.next().getCoordinate();if(a.isIntersection(c))return!0}return!1};fb.prototype.hasProperIntersection=function(){return this._hasProper};
fb.prototype.hasIntersection=function(){return this._hasIntersection};fb.prototype.isDone=function(){return this._isDone};fb.prototype.isBoundaryPoint=function(a,b){return null===b?!1:this.isBoundaryPointInternal(a,b[0])||this.isBoundaryPointInternal(a,b[1])?!0:!1};fb.prototype.setBoundaryNodes=function(a,b){this._bdyNodes=Array(2).fill(null);this._bdyNodes[0]=a;this._bdyNodes[1]=b};fb.prototype.addIntersections=function(a,b,c,d){if(a===c&&b===d)return null;this.numTests++;var e=a.getCoordinates()[b],
g=a.getCoordinates()[b+1],f=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this._li.computeIntersection(e,g,f,h);if(this._li.hasIntersection()&&(this._recordIsolated&&(a.setIsolated(!1),c.setIsolated(!1)),this._numIntersections++,!this.isTrivialIntersection(a,b,c,d))){this._hasIntersection=!0;if(this._includeProper||!this._li.isProper())a.addIntersections(this._li,b,0),c.addIntersections(this._li,d,1);this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=
!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))}};fb.prototype.getClass=function(){return fb};$jscomp.global.Object.defineProperties(fb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});fb.constructor_=function(a,b,c){this._hasProperInterior=this._hasProper=this._hasIntersection=!1;this._isSelfIntersection=this._properIntersectionPoint=null;this.numTests=this._numIntersections=0;this._bdyNodes=
null;this._isDoneWhenProperInt=this._isDone=!1;this._li=a;this._includeProper=b;this._recordIsolated=c};var ld=function(){var a=Lf.call(this)||this;ld.constructor_.apply(a,arguments);return a};$jscomp.inherits(ld,Lf);ld.prototype.prepareEvents=function(){zd.sort(this.events);for(var a=0;a<this.events.size();a++){var b=this.events.get(a);b.isDelete()&&b.getInsertEvent().setDeleteEventIndex(a)}};ld.prototype.computeIntersections=function(){if(1===arguments.length){var a=arguments[0];this.nOverlaps=
0;this.prepareEvents();for(var b=0;b<this.events.size();b++){var c=this.events.get(b);c.isInsert()&&this.processOverlaps(b,c.getDeleteEventIndex(),c,a);if(a.isDone())break}}else 3===arguments.length&&(arguments[2]instanceof fb&&v(arguments[0],cb)&&v(arguments[1],cb)?(a=arguments[0],b=arguments[1],c=arguments[2],this.addEdges(a,a),this.addEdges(b,b),this.computeIntersections(c)):"boolean"===typeof arguments[2]&&v(arguments[0],cb)&&arguments[1]instanceof fb&&(a=arguments[0],b=arguments[1],arguments[2]?
this.addEdges(a,null):this.addEdges(a),this.computeIntersections(b)))};ld.prototype.addEdge=function(a,b){a=a.getMonotoneChainEdge();for(var c=a.getStartIndexes(),d=0;d<c.length-1;d++){var e=new Kf(a,d);e=new nb(b,a.getMinX(d),e);this.events.add(e);this.events.add(new nb(a.getMaxX(d),e))}};ld.prototype.processOverlaps=function(a,b,c,d){for(var e=c.getObject();a<b;a++){var g=this.events.get(a);if(g.isInsert()){var f=g.getObject();c.isSameLabel(g)||(e.computeIntersections(f,d),this.nOverlaps++)}}};
ld.prototype.addEdges=function(){if(1===arguments.length)for(var a=arguments[0].iterator();a.hasNext();){var b=a.next();this.addEdge(b,b)}else if(2===arguments.length){var c=arguments[1];for(a=arguments[0].iterator();a.hasNext();)b=a.next(),this.addEdge(b,c)}};ld.prototype.getClass=function(){return ld};$jscomp.global.Object.defineProperties(ld.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ld.constructor_=function(){this.events=new m;this.nOverlaps=null};var ka=
function(){ka.constructor_.apply(this,arguments)};ka.prototype.setAllLocations=function(a){for(var b=0;b<this.location.length;b++)this.location[b]=a};ka.prototype.isNull=function(){for(var a=0;a<this.location.length;a++)if(this.location[a]!==f.NONE)return!1;return!0};ka.prototype.setAllLocationsIfNull=function(a){for(var b=0;b<this.location.length;b++)this.location[b]===f.NONE&&(this.location[b]=a)};ka.prototype.isLine=function(){return 1===this.location.length};ka.prototype.merge=function(a){if(a.location.length>
this.location.length){var b=Array(3).fill(null);b[p.ON]=this.location[p.ON];b[p.LEFT]=f.NONE;b[p.RIGHT]=f.NONE;this.location=b}for(b=0;b<this.location.length;b++)this.location[b]===f.NONE&&b<a.location.length&&(this.location[b]=a.location[b])};ka.prototype.getLocations=function(){return this.location};ka.prototype.flip=function(){if(1>=this.location.length)return null;var a=this.location[p.LEFT];this.location[p.LEFT]=this.location[p.RIGHT];this.location[p.RIGHT]=a};ka.prototype.toString=function(){var a=
new bf;1<this.location.length&&a.append(f.toLocationSymbol(this.location[p.LEFT]));a.append(f.toLocationSymbol(this.location[p.ON]));1<this.location.length&&a.append(f.toLocationSymbol(this.location[p.RIGHT]));return a.toString()};ka.prototype.setLocations=function(a,b,c){this.location[p.ON]=a;this.location[p.LEFT]=b;this.location[p.RIGHT]=c};ka.prototype.get=function(a){return a<this.location.length?this.location[a]:f.NONE};ka.prototype.isArea=function(){return 1<this.location.length};ka.prototype.isAnyNull=
function(){for(var a=0;a<this.location.length;a++)if(this.location[a]===f.NONE)return!0;return!1};ka.prototype.setLocation=function(){1===arguments.length?this.setLocation(p.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])};ka.prototype.init=function(a){this.location=Array(a).fill(null);this.setAllLocations(f.NONE)};ka.prototype.isEqualOnSide=function(a,b){return this.location[b]===a.location[b]};ka.prototype.allPositionsEqual=function(a){for(var b=0;b<this.location.length;b++)if(this.location[b]!==
a)return!1;return!0};ka.prototype.getClass=function(){return ka};$jscomp.global.Object.defineProperties(ka.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ka.constructor_=function(){this.location=null;if(1===arguments.length)if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var a=arguments[0];this.init(1);this.location[p.ON]=a}else{if(arguments[0]instanceof ka&&(a=arguments[0],this.init(a.location.length),null!==
a))for(var b=0;b<this.location.length;b++)this.location[b]=a.location[b]}else if(3===arguments.length){a=arguments[0];b=arguments[1];var c=arguments[2];this.init(3);this.location[p.ON]=a;this.location[p.LEFT]=b;this.location[p.RIGHT]=c}};var T=function(){T.constructor_.apply(this,arguments)};T.toLineLabel=function(a){for(var b=new T(f.NONE),c=0;2>c;c++)b.setLocation(c,a.getLocation(c));return b};T.prototype.getGeometryCount=function(){var a=0;this.elt[0].isNull()||a++;this.elt[1].isNull()||a++;return a};
T.prototype.setAllLocations=function(a,b){this.elt[a].setAllLocations(b)};T.prototype.isNull=function(a){return this.elt[a].isNull()};T.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var a=arguments[0];this.setAllLocationsIfNull(0,a);this.setAllLocationsIfNull(1,a)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])};T.prototype.isLine=function(a){return this.elt[a].isLine()};T.prototype.merge=function(a){for(var b=0;2>b;b++)null===this.elt[b]&&
null!==a.elt[b]?this.elt[b]=new ka(a.elt[b]):this.elt[b].merge(a.elt[b])};T.prototype.flip=function(){this.elt[0].flip();this.elt[1].flip()};T.prototype.getLocation=function(){if(1===arguments.length)return this.elt[arguments[0]].get(p.ON);if(2===arguments.length)return this.elt[arguments[0]].get(arguments[1])};T.prototype.toString=function(){var a=new bf;null!==this.elt[0]&&(a.append("A:"),a.append(this.elt[0].toString()));null!==this.elt[1]&&(a.append(" B:"),a.append(this.elt[1].toString()));return a.toString()};
T.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length)return this.elt[arguments[0]].isArea()};T.prototype.isAnyNull=function(a){return this.elt[a].isAnyNull()};T.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(p.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])};T.prototype.isEqualOnSide=function(a,b){return this.elt[0].isEqualOnSide(a.elt[0],
b)&&this.elt[1].isEqualOnSide(a.elt[1],b)};T.prototype.allPositionsEqual=function(a,b){return this.elt[a].allPositionsEqual(b)};T.prototype.toLine=function(a){this.elt[a].isArea()&&(this.elt[a]=new ka(this.elt[a].location[0]))};T.prototype.getClass=function(){return T};$jscomp.global.Object.defineProperties(T.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});T.constructor_=function(){this.elt=Array(2).fill(null);if(1===arguments.length)if(Number.isInteger(arguments[0])){var a=
arguments[0];this.elt[0]=new ka(a);this.elt[1]=new ka(a)}else arguments[0]instanceof T&&(a=arguments[0],this.elt[0]=new ka(a.elt[0]),this.elt[1]=new ka(a.elt[1]));else if(2===arguments.length){a=arguments[0];var b=arguments[1];this.elt[0]=new ka(f.NONE);this.elt[1]=new ka(f.NONE);this.elt[a].setLocation(b)}else if(3===arguments.length){a=arguments[0];b=arguments[1];var c=arguments[2];this.elt[0]=new ka(a,b,c);this.elt[1]=new ka(a,b,c)}else if(4===arguments.length){a=arguments[0];b=arguments[1];c=
arguments[2];var d=arguments[3];this.elt[0]=new ka(f.NONE,f.NONE,f.NONE);this.elt[1]=new ka(f.NONE,f.NONE,f.NONE);this.elt[a].setLocations(b,c,d)}};var Jc=function(){Jc.constructor_.apply(this,arguments)};Jc.prototype.getSegmentIndex=function(){return this.segmentIndex};Jc.prototype.getCoordinate=function(){return this.coord};Jc.prototype.print=function(a){a.print(this.coord);a.print(" seg # = "+this.segmentIndex);a.println(" dist = "+this.dist)};Jc.prototype.compareTo=function(a){return this.compare(a.segmentIndex,
a.dist)};Jc.prototype.isEndPoint=function(a){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===a?!0:!1};Jc.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist};Jc.prototype.getDistance=function(){return this.dist};Jc.prototype.compare=function(a,b){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<b?-1:this.dist>b?1:0};Jc.prototype.getClass=function(){return Jc};$jscomp.global.Object.defineProperties(Jc.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[hc]}}});Jc.constructor_=function(a,b,c){this.dist=this.segmentIndex=this.coord=null;this.coord=new h(a);this.segmentIndex=b;this.dist=c};var Yc=function(){Yc.constructor_.apply(this,arguments)};Yc.prototype.print=function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();)b.next().print(a)};Yc.prototype.iterator=function(){return this._nodeMap.values().iterator()};Yc.prototype.addSplitEdges=function(a){this.addEndpoints();for(var b=this.iterator(),
c=b.next();b.hasNext();){var d=b.next();c=this.createSplitEdge(c,d);a.add(c);c=d}};Yc.prototype.addEndpoints=function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0);this.add(this.edge.pts[a],a,0)};Yc.prototype.createSplitEdge=function(a,b){var c=b.segmentIndex-a.segmentIndex+2,d=this.edge.pts[b.segmentIndex];(d=0<b.dist||!b.coord.equals2D(d))||c--;c=Array(c).fill(null);var e=0;c[e++]=new h(a.coord);for(a=a.segmentIndex+1;a<=b.segmentIndex;a++)c[e++]=this.edge.pts[a];d&&(c[e]=b.coord);
return new Y(c,new T(this.edge._label))};Yc.prototype.add=function(a,b,c){a=new Jc(a,b,c);b=this._nodeMap.get(a);if(null!==b)return b;this._nodeMap.put(a,a);return a};Yc.prototype.isIntersection=function(a){for(var b=this.iterator();b.hasNext();)if(b.next().coord.equals(a))return!0;return!1};Yc.prototype.getClass=function(){return Yc};$jscomp.global.Object.defineProperties(Yc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Yc.constructor_=function(a){this._nodeMap=
new Wa;this.edge=a};var Vd=function(){Vd.constructor_.apply(this,arguments)};Vd.toIntArray=function(a){for(var b=Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b};Vd.prototype.getChainStartIndices=function(a){var b=0,c=new m;c.add(new hd(b));do b=this.findChainEnd(a,b),c.add(new hd(b));while(b<a.length-1);return Vd.toIntArray(c)};Vd.prototype.findChainEnd=function(a,b){var c=X.quadrant(a[b],a[b+1]);for(b+=1;b<a.length&&X.quadrant(a[b-1],a[b])===c;)b++;return b-1};Vd.prototype.getClass=
function(){return Vd};$jscomp.global.Object.defineProperties(Vd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Vd.constructor_=function(){};var Zc=function(){Zc.constructor_.apply(this,arguments)};Zc.prototype.getCoordinates=function(){return this.pts};Zc.prototype.getMaxX=function(a){var b=this.pts[this.startIndex[a]].x;a=this.pts[this.startIndex[a+1]].x;return b>a?b:a};Zc.prototype.getMinX=function(a){var b=this.pts[this.startIndex[a]].x;a=this.pts[this.startIndex[a+
1]].x;return b<a?b:a};Zc.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],b,b.startIndex[c],b.startIndex[c+1],arguments[3])}else if(6===arguments.length){a=arguments[0];b=arguments[1];c=arguments[2];var d=arguments[3],e=arguments[4],g=arguments[5];if(1===b-a&&1===e-d)return g.addIntersections(this.e,a,c.e,d),null;if(!this.overlaps(a,b,c,d,e))return null;var f=
Math.trunc((a+b)/2),h=Math.trunc((d+e)/2);a<f&&(d<h&&this.computeIntersectsForChain(a,f,c,d,h,g),h<e&&this.computeIntersectsForChain(a,f,c,h,e,g));f<b&&(d<h&&this.computeIntersectsForChain(f,b,c,d,h,g),h<e&&this.computeIntersectsForChain(f,b,c,h,e,g))}};Zc.prototype.overlaps=function(a,b,c,d,e){return r.intersects(this.pts[a],this.pts[b],c.pts[d],c.pts[e])};Zc.prototype.getStartIndexes=function(){return this.startIndex};Zc.prototype.computeIntersects=function(a,b){for(var c=0;c<this.startIndex.length-
1;c++)for(var d=0;d<a.startIndex.length-1;d++)this.computeIntersectsForChain(c,a,d,b)};Zc.prototype.getClass=function(){return Zc};$jscomp.global.Object.defineProperties(Zc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Zc.constructor_=function(a){this.startIndex=this.pts=this.e=null;this.e=a;this.pts=a.getCoordinates();this.startIndex=(new Vd).getChainStartIndices(this.pts)};var Za=function(){Za.constructor_.apply(this,arguments)};Za.depthAtLocation=function(a){return a===
f.EXTERIOR?0:a===f.INTERIOR?1:Za.NULL_VALUE};Za.prototype.getDepth=function(a,b){return this._depth[a][b]};Za.prototype.setDepth=function(a,b,c){this._depth[a][b]=c};Za.prototype.isNull=function(){if(0===arguments.length){for(var a=0;2>a;a++)for(var b=0;3>b;b++)if(this._depth[a][b]!==Za.NULL_VALUE)return!1;return!0}if(1===arguments.length)return this._depth[arguments[0]][1]===Za.NULL_VALUE;if(2===arguments.length)return this._depth[arguments[0]][arguments[1]]===Za.NULL_VALUE};Za.prototype.normalize=
function(){for(var a=0;2>a;a++)if(!this.isNull(a)){var b=this._depth[a][1];this._depth[a][2]<b&&(b=this._depth[a][2]);0>b&&(b=0);for(var c=1;3>c;c++){var d=0;this._depth[a][c]>b&&(d=1);this._depth[a][c]=d}}};Za.prototype.getDelta=function(a){return this._depth[a][p.RIGHT]-this._depth[a][p.LEFT]};Za.prototype.getLocation=function(a,b){return 0>=this._depth[a][b]?f.EXTERIOR:f.INTERIOR};Za.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+
this._depth[1][2]};Za.prototype.add=function(){if(1===arguments.length)for(var a=arguments[0],b=0;2>b;b++)for(var c=1;3>c;c++){var d=a.getLocation(b,c);if(d===f.EXTERIOR||d===f.INTERIOR)this.isNull(b,c)?this._depth[b][c]=Za.depthAtLocation(d):this._depth[b][c]+=Za.depthAtLocation(d)}else 3===arguments.length&&(a=arguments[0],b=arguments[1],arguments[2]===f.INTERIOR&&this._depth[a][b]++)};Za.prototype.getClass=function(){return Za};$jscomp.global.Object.defineProperties(Za.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});Za.constructor_=function(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var a=0;2>a;a++)for(var b=0;3>b;b++)this._depth[a][b]=Za.NULL_VALUE};Za.NULL_VALUE=-1;var ob=function(){ob.constructor_.apply(this,arguments)};ob.prototype.setVisited=function(a){this._isVisited=a};ob.prototype.setInResult=function(a){this._isInResult=a};ob.prototype.isCovered=function(){return this._isCovered};ob.prototype.isCoveredSet=function(){return this._isCoveredSet};
ob.prototype.setLabel=function(a){this._label=a};ob.prototype.getLabel=function(){return this._label};ob.prototype.setCovered=function(a){this._isCovered=a;this._isCoveredSet=!0};ob.prototype.updateIM=function(a){w.isTrue(2<=this._label.getGeometryCount(),"found partial label");this.computeIM(a)};ob.prototype.isInResult=function(){return this._isInResult};ob.prototype.isVisited=function(){return this._isVisited};ob.prototype.getClass=function(){return ob};$jscomp.global.Object.defineProperties(ob.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ob.constructor_=function(){this._label=null;this._isVisited=this._isCoveredSet=this._isCovered=this._isInResult=!1;0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};var Y=function(){var a=ob.call(this)||this;Y.constructor_.apply(a,arguments);return a};$jscomp.inherits(Y,ob);Y.updateIM=function(){if(2===arguments.length&&arguments[1]instanceof G&&arguments[0]instanceof T){var a=arguments[0],b=arguments[1];
b.setAtLeastIfValid(a.getLocation(0,p.ON),a.getLocation(1,p.ON),1);a.isArea()&&(b.setAtLeastIfValid(a.getLocation(0,p.LEFT),a.getLocation(1,p.LEFT),2),b.setAtLeastIfValid(a.getLocation(0,p.RIGHT),a.getLocation(1,p.RIGHT),2))}else return ob.updateIM.apply(this,arguments)};Y.prototype.getDepth=function(){return this._depth};Y.prototype.getCollapsedEdge=function(){var a=Array(2).fill(null);a[0]=this.pts[0];a[1]=this.pts[1];return new Y(a,T.toLineLabel(this._label))};Y.prototype.isIsolated=function(){return this._isIsolated};
Y.prototype.getCoordinates=function(){return this.pts};Y.prototype.setIsolated=function(a){this._isIsolated=a};Y.prototype.setName=function(a){this._name=a};Y.prototype.equals=function(a){if(!(a instanceof Y)||this.pts.length!==a.pts.length)return!1;for(var b=!0,c=!0,d=this.pts.length,e=0;e<this.pts.length;e++)if(this.pts[e].equals2D(a.pts[e])||(b=!1),this.pts[e].equals2D(a.pts[--d])||(c=!1),!b&&!c)return!1;return!0};Y.prototype.getCoordinate=function(){if(0===arguments.length)return 0<this.pts.length?
this.pts[0]:null;if(1===arguments.length)return this.pts[arguments[0]]};Y.prototype.print=function(a){a.print("edge "+this._name+": ");a.print("LINESTRING (");for(var b=0;b<this.pts.length;b++)0<b&&a.print(","),a.print(this.pts[b].x+" "+this.pts[b].y);a.print(")  "+this._label+" "+this._depthDelta)};Y.prototype.computeIM=function(a){Y.updateIM(this._label,a)};Y.prototype.isCollapsed=function(){return this._label.isArea()&&3===this.pts.length?this.pts[0].equals(this.pts[2])?!0:!1:!1};Y.prototype.isClosed=
function(){return this.pts[0].equals(this.pts[this.pts.length-1])};Y.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1};Y.prototype.getDepthDelta=function(){return this._depthDelta};Y.prototype.getNumPoints=function(){return this.pts.length};Y.prototype.printReverse=function(a){a.print("edge "+this._name+": ");for(var b=this.pts.length-1;0<=b;b--)a.print(this.pts[b]+" ");a.println("")};Y.prototype.getMonotoneChainEdge=function(){null===this._mce&&(this._mce=new Zc(this));return this._mce};
Y.prototype.getEnvelope=function(){if(null===this._env){this._env=new r;for(var a=0;a<this.pts.length;a++)this._env.expandToInclude(this.pts[a])}return this._env};Y.prototype.addIntersection=function(a,b,c,d){var e=new h(a.getIntersection(d));a=a.getEdgeDistance(c,d);c=b+1;c<this.pts.length&&e.equals2D(this.pts[c])&&(b=c,a=0);this.eiList.add(e,b,a)};Y.prototype.toString=function(){var a=new cf;a.append("edge "+this._name+": ");a.append("LINESTRING (");for(var b=0;b<this.pts.length;b++)0<b&&a.append(","),
a.append(this.pts[b].x+" "+this.pts[b].y);a.append(")  "+this._label+" "+this._depthDelta);return a.toString()};Y.prototype.isPointwiseEqual=function(a){if(this.pts.length!==a.pts.length)return!1;for(var b=0;b<this.pts.length;b++)if(!this.pts[b].equals2D(a.pts[b]))return!1;return!0};Y.prototype.setDepthDelta=function(a){this._depthDelta=a};Y.prototype.getEdgeIntersectionList=function(){return this.eiList};Y.prototype.addIntersections=function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,
b,c,d)};Y.prototype.getClass=function(){return Y};$jscomp.global.Object.defineProperties(Y.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Y.constructor_=function(){this._env=this.pts=null;this.eiList=new Yc(this);this._mce=this._name=null;this._isIsolated=!0;this._depth=new Za;this._depthDelta=0;if(1===arguments.length)Y.constructor_.call(this,arguments[0],null);else if(2===arguments.length){var a=arguments[1];this.pts=arguments[0];this._label=a}};var La=function(){var a=
ob.call(this)||this;La.constructor_.apply(a,arguments);return a};$jscomp.inherits(La,ob);La.prototype.isIncidentEdgeInResult=function(){for(var a=this.getEdges().getEdges().iterator();a.hasNext();)if(a.next().getEdge().isInResult())return!0;return!1};La.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()};La.prototype.getCoordinate=function(){return this._coord};La.prototype.print=function(a){a.println("node "+this._coord+" lbl: "+this._label)};La.prototype.computeIM=function(a){};
La.prototype.computeMergedLocation=function(a,b){var c=this._label.getLocation(b);a.isNull(b)||(a=a.getLocation(b),c!==f.BOUNDARY&&(c=a));return c};La.prototype.setLabel=function(){if(2===arguments.length&&Number.isInteger(arguments[1])&&Number.isInteger(arguments[0])){var a=arguments[0],b=arguments[1];null===this._label?this._label=new T(a,b):this._label.setLocation(a,b)}else return ob.prototype.setLabel.apply(this,arguments)};La.prototype.getEdges=function(){return this._edges};La.prototype.mergeLabel=
function(a){if(a instanceof La)this.mergeLabel(a._label);else if(a instanceof T)for(var b=0;2>b;b++){var c=this.computeMergedLocation(a,b);this._label.getLocation(b)===f.NONE&&this._label.setLocation(b,c)}};La.prototype.add=function(a){this._edges.insert(a);a.setNode(this)};La.prototype.setLabelBoundary=function(a){if(null===this._label)return null;var b=f.NONE;null!==this._label&&(b=this._label.getLocation(a));switch(b){case f.BOUNDARY:b=f.INTERIOR;break;case f.INTERIOR:b=f.BOUNDARY;break;default:b=
f.BOUNDARY}this._label.setLocation(a,b)};La.prototype.getClass=function(){return La};$jscomp.global.Object.defineProperties(La.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});La.constructor_=function(a,b){this._coord=a;this._edges=b;this._label=new T(0,f.NONE)};var lc=function(){lc.constructor_.apply(this,arguments)};lc.prototype.find=function(a){return this.nodeMap.get(a)};lc.prototype.addNode=function(a){if(a instanceof h){var b=this.nodeMap.get(a);null===b&&(b=
this.nodeFact.createNode(a),this.nodeMap.put(a,b));return b}if(a instanceof La){b=this.nodeMap.get(a.getCoordinate());if(null===b)return this.nodeMap.put(a.getCoordinate(),a),a;b.mergeLabel(a);return b}};lc.prototype.print=function(a){for(var b=this.iterator();b.hasNext();)b.next().print(a)};lc.prototype.iterator=function(){return this.nodeMap.values().iterator()};lc.prototype.values=function(){return this.nodeMap.values()};lc.prototype.getBoundaryNodes=function(a){for(var b=new m,c=this.iterator();c.hasNext();){var d=
c.next();d.getLabel().getLocation(a)===f.BOUNDARY&&b.add(d)}return b};lc.prototype.add=function(a){var b=a.getCoordinate();this.addNode(b).add(a)};lc.prototype.getClass=function(){return lc};$jscomp.global.Object.defineProperties(lc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});lc.constructor_=function(a){this.nodeMap=new Wa;this.nodeFact=a};var ua=function(){ua.constructor_.apply(this,arguments)};ua.prototype.compareDirection=function(a){return this._dx===a._dx&&
this._dy===a._dy?0:this._quadrant>a._quadrant?1:this._quadrant<a._quadrant?-1:z.index(a._p0,a._p1,this._p1)};ua.prototype.getDy=function(){return this._dy};ua.prototype.getCoordinate=function(){return this._p0};ua.prototype.setNode=function(a){this._node=a};ua.prototype.print=function(a){var b=Math.atan2(this._dy,this._dx),c=this.getClass().getName(),d=c.lastIndexOf(".");c=c.substring(d+1);a.print("  "+c+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+b+"   "+this._label)};ua.prototype.compareTo=
function(a){return this.compareDirection(a)};ua.prototype.getDirectedCoordinate=function(){return this._p1};ua.prototype.getDx=function(){return this._dx};ua.prototype.getLabel=function(){return this._label};ua.prototype.getEdge=function(){return this._edge};ua.prototype.getQuadrant=function(){return this._quadrant};ua.prototype.getNode=function(){return this._node};ua.prototype.toString=function(){var a=Math.atan2(this._dy,this._dx),b=this.getClass().getName(),c=b.lastIndexOf(".");return"  "+b.substring(c+
1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label};ua.prototype.computeLabel=function(a){};ua.prototype.init=function(a,b){this._p0=a;this._p1=b;this._dx=b.x-a.x;this._dy=b.y-a.y;this._quadrant=X.quadrant(this._dx,this._dy);w.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")};ua.prototype.getClass=function(){return ua};$jscomp.global.Object.defineProperties(ua.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc]}}});
ua.constructor_=function(){this._quadrant=this._dy=this._dx=this._p1=this._p0=this._node=this._label=this._edge=null;if(1===arguments.length)this._edge=arguments[0];else if(3===arguments.length)ua.constructor_.call(this,arguments[0],arguments[1],arguments[2],null);else if(4===arguments.length){var a=arguments[1],b=arguments[2],c=arguments[3];ua.constructor_.call(this,arguments[0]);this.init(a,b);this._label=c}};var cc=function(){if(1===arguments.length){var a=arguments[0];var b=Va.call(this,a)||this;
Va.call(b,a)}else 2===arguments.length&&(a=arguments[1],b=Va.call(this,cc.msgWithCoord(arguments[0],a))||this,b.name="TopologyException",b.pt=new h(a));return b};$jscomp.inherits(cc,Va);cc.prototype.getCoordinate=function(){return this.pt};cc.prototype.getClass=function(){return cc};cc.msgWithCoord=function(a,b){return null!==b?a+" [ "+b+" ]":a};$jscomp.global.Object.defineProperties(cc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var da=function(){var a=ua.call(this)||
this;da.constructor_.apply(a,arguments);return a};$jscomp.inherits(da,ua);da.depthFactor=function(a,b){return a===f.EXTERIOR&&b===f.INTERIOR?1:a===f.INTERIOR&&b===f.EXTERIOR?-1:0};da.prototype.getNextMin=function(){return this._nextMin};da.prototype.getDepth=function(a){return this._depth[a]};da.prototype.setVisited=function(a){this._isVisited=a};da.prototype.computeDirectedLabel=function(){this._label=new T(this._edge.getLabel());this._isForward||this._label.flip()};da.prototype.getNext=function(){return this._next};
da.prototype.setDepth=function(a,b){if(-999!==this._depth[a]&&this._depth[a]!==b)throw new cc("assigned depths do not match",this.getCoordinate());this._depth[a]=b};da.prototype.isInteriorAreaEdge=function(){for(var a=!0,b=0;2>b;b++)this._label.isArea(b)&&this._label.getLocation(b,p.LEFT)===f.INTERIOR&&this._label.getLocation(b,p.RIGHT)===f.INTERIOR||(a=!1);return a};da.prototype.setNextMin=function(a){this._nextMin=a};da.prototype.print=function(a){ua.prototype.print.call(this,a);a.print(" "+this._depth[p.LEFT]+
"/"+this._depth[p.RIGHT]);a.print(" ("+this.getDepthDelta()+")");this._isInResult&&a.print(" inResult")};da.prototype.setMinEdgeRing=function(a){this._minEdgeRing=a};da.prototype.isLineEdge=function(){var a=this._label.isLine(0)||this._label.isLine(1),b=!this._label.isArea(0)||this._label.allPositionsEqual(0,f.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,f.EXTERIOR);return a&&b&&c};da.prototype.setEdgeRing=function(a){this._edgeRing=a};da.prototype.getMinEdgeRing=function(){return this._minEdgeRing};
da.prototype.getDepthDelta=function(){var a=this._edge.getDepthDelta();this._isForward||(a=-a);return a};da.prototype.setInResult=function(a){this._isInResult=a};da.prototype.getSym=function(){return this._sym};da.prototype.isForward=function(){return this._isForward};da.prototype.getEdge=function(){return this._edge};da.prototype.printEdge=function(a){this.print(a);a.print(" ");this._isForward?this._edge.print(a):this._edge.printReverse(a)};da.prototype.setSym=function(a){this._sym=a};da.prototype.setVisitedEdge=
function(a){this.setVisited(a);this._sym.setVisited(a)};da.prototype.setEdgeDepths=function(a,b){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var d=1;a===p.LEFT&&(d=-1);var e=p.opposite(a);c=b+c*d;this.setDepth(a,b);this.setDepth(e,c)};da.prototype.getEdgeRing=function(){return this._edgeRing};da.prototype.isInResult=function(){return this._isInResult};da.prototype.setNext=function(a){this._next=a};da.prototype.isVisited=function(){return this._isVisited};da.prototype.getClass=function(){return da};
$jscomp.global.Object.defineProperties(da.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});da.constructor_=function(a,b){this._isForward=null;this._isVisited=this._isInResult=!1;this._minEdgeRing=this._edgeRing=this._nextMin=this._next=this._sym=null;this._depth=[0,-999,-999];ua.constructor_.call(this,a);(this._isForward=b)?this.init(a.getCoordinate(0),a.getCoordinate(1)):(b=a.getNumPoints()-1,this.init(a.getCoordinate(b),a.getCoordinate(b-1)));this.computeDirectedLabel()};
var Ed=function(){Ed.constructor_.apply(this,arguments)};Ed.prototype.createNode=function(a){return new La(a,null)};Ed.prototype.getClass=function(){return Ed};$jscomp.global.Object.defineProperties(Ed.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ed.constructor_=function(){};var na=function(){na.constructor_.apply(this,arguments)};na.linkResultDirectedEdges=function(a){for(a=a.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()};na.prototype.printEdges=
function(a){a.println("Edges:");for(var b=0;b<this._edges.size();b++){a.println("edge "+b+":");var c=this._edges.get(b);c.print(a);c.eiList.print(a)}};na.prototype.find=function(a){return this._nodes.find(a)};na.prototype.addNode=function(a){if(a instanceof La||a instanceof h)return this._nodes.addNode(a)};na.prototype.getNodeIterator=function(){return this._nodes.iterator()};na.prototype.linkResultDirectedEdges=function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()};
na.prototype.debugPrintln=function(a){wa.out.println(a)};na.prototype.isBoundaryNode=function(a,b){b=this._nodes.find(b);if(null===b)return!1;b=b.getLabel();return null!==b&&b.getLocation(a)===f.BOUNDARY?!0:!1};na.prototype.linkAllDirectedEdges=function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkAllDirectedEdges()};na.prototype.matchInSameDirection=function(a,b,c,d){return a.equals(c)?z.index(a,b,d)===z.COLLINEAR&&X.quadrant(a,b)===X.quadrant(c,d)?!0:!1:!1};na.prototype.getEdgeEnds=
function(){return this._edgeEndList};na.prototype.debugPrint=function(a){wa.out.print(a)};na.prototype.getEdgeIterator=function(){return this._edges.iterator()};na.prototype.findEdgeInSameDirection=function(a,b){for(var c=0;c<this._edges.size();c++){var d=this._edges.get(c),e=d.getCoordinates();if(this.matchInSameDirection(a,b,e[0],e[1])||this.matchInSameDirection(a,b,e[e.length-1],e[e.length-2]))return d}return null};na.prototype.insertEdge=function(a){this._edges.add(a)};na.prototype.findEdgeEnd=
function(a){for(var b=this.getEdgeEnds().iterator();b.hasNext();){var c=b.next();if(c.getEdge()===a)return c}return null};na.prototype.addEdges=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();this._edges.add(b);var c=new da(b,!0);b=new da(b,!1);c.setSym(b);b.setSym(c);this.add(c);this.add(b)}};na.prototype.add=function(a){this._nodes.add(a);this._edgeEndList.add(a)};na.prototype.getNodes=function(){return this._nodes.values()};na.prototype.findEdge=function(a,b){for(var c=0;c<this._edges.size();c++){var d=
this._edges.get(c),e=d.getCoordinates();if(a.equals(e[0])&&b.equals(e[1]))return d}return null};na.prototype.getClass=function(){return na};$jscomp.global.Object.defineProperties(na.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});na.constructor_=function(){this._edges=new m;this._nodes=null;this._edgeEndList=new m;0===arguments.length?this._nodes=new lc(new Ed):1===arguments.length&&(this._nodes=new lc(arguments[0]))};var W=function(){var a=na.call(this)||this;W.constructor_.apply(a,
arguments);return a};$jscomp.inherits(W,na);W.determineBoundary=function(a,b){return a.isInBoundary(b)?f.BOUNDARY:f.INTERIOR};W.prototype.insertBoundaryPoint=function(a,b){b=this._nodes.addNode(b).getLabel();var c=1;b.getLocation(a,p.ON)===f.BOUNDARY&&c++;c=W.determineBoundary(this._boundaryNodeRule,c);b.setLocation(a,c)};W.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var a=arguments[1],b=arguments[2],
c=new fb(arguments[0],!0,!1);c.setIsDoneIfProperInt(b);b=this.createEdgeSetIntersector();var d=this._parentGeom instanceof ba||this._parentGeom instanceof D||this._parentGeom instanceof ta;b.computeIntersections(this._edges,c,a||!d);this.addSelfIntersectionNodes(this._argIndex);return c}};W.prototype.computeSplitEdges=function(a){for(var b=this._edges.iterator();b.hasNext();)b.next().eiList.addSplitEdges(a)};W.prototype.computeEdgeIntersections=function(a,b,c){b=new fb(b,c,!0);b.setBoundaryNodes(this.getBoundaryNodes(),
a.getBoundaryNodes());this.createEdgeSetIntersector().computeIntersections(this._edges,a._edges,b);return b};W.prototype.getGeometry=function(){return this._parentGeom};W.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule};W.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints};W.prototype.addPoint=function(a){a instanceof N?(a=a.getCoordinate(),this.insertPoint(this._argIndex,a,f.INTERIOR)):a instanceof h&&this.insertPoint(this._argIndex,a,f.INTERIOR)};W.prototype.addPolygon=
function(a){this.addPolygonRing(a.getExteriorRing(),f.EXTERIOR,f.INTERIOR);for(var b=0;b<a.getNumInteriorRing();b++){var c=a.getInteriorRingN(b);this.addPolygonRing(c,f.INTERIOR,f.EXTERIOR)}};W.prototype.addEdge=function(a){this.insertEdge(a);a=a.getCoordinates();this.insertPoint(this._argIndex,a[0],f.BOUNDARY);this.insertPoint(this._argIndex,a[a.length-1],f.BOUNDARY)};W.prototype.addLineString=function(a){var b=C.removeRepeatedPoints(a.getCoordinates());if(2>b.length)return this._hasTooFewPoints=
!0,this._invalidPoint=b[0],null;var c=new Y(b,new T(this._argIndex,f.INTERIOR));this._lineEdgeMap.put(a,c);this.insertEdge(c);w.isTrue(2<=b.length,"found LineString with single point");this.insertBoundaryPoint(this._argIndex,b[0]);this.insertBoundaryPoint(this._argIndex,b[b.length-1])};W.prototype.getInvalidPoint=function(){return this._invalidPoint};W.prototype.getBoundaryPoints=function(){var a=this.getBoundaryNodes(),b=Array(a.size()).fill(null),c=0;for(a=a.iterator();a.hasNext();){var d=a.next();
b[c++]=d.getCoordinate().copy()}return b};W.prototype.getBoundaryNodes=function(){null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex));return this._boundaryNodes};W.prototype.addSelfIntersectionNode=function(a,b,c){if(this.isBoundaryNode(a,b))return null;c===f.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(a,b):this.insertPoint(a,b,c)};W.prototype.addPolygonRing=function(a,b,c){if(a.isEmpty())return null;var d=C.removeRepeatedPoints(a.getCoordinates());
if(4>d.length)return this._hasTooFewPoints=!0,this._invalidPoint=d[0],null;var e=b,g=c;z.isCCW(d)&&(e=c,g=b);b=new Y(d,new T(this._argIndex,f.BOUNDARY,e,g));this._lineEdgeMap.put(a,b);this.insertEdge(b);this.insertPoint(this._argIndex,d[0],f.BOUNDARY)};W.prototype.insertPoint=function(a,b,c){b=this._nodes.addNode(b);var d=b.getLabel();null===d?b._label=new T(a,c):d.setLocation(a,c)};W.prototype.createEdgeSetIntersector=function(){return new ld};W.prototype.addSelfIntersectionNodes=function(a){for(var b=
this._edges.iterator();b.hasNext();){var c=b.next(),d=c.getLabel().getLocation(a);for(c=c.eiList.iterator();c.hasNext();){var e=c.next();this.addSelfIntersectionNode(a,e.coord,d)}}};W.prototype.add=function(){if(1===arguments.length&&arguments[0]instanceof l){var a=arguments[0];if(a.isEmpty())return null;a instanceof ta&&(this._useBoundaryDeterminationRule=!1);if(a instanceof D)this.addPolygon(a);else if(a instanceof u)this.addLineString(a);else if(a instanceof N)this.addPoint(a);else if(a instanceof
Ga)this.addCollection(a);else if(a instanceof Ba)this.addCollection(a);else if(a instanceof ta)this.addCollection(a);else if(a instanceof x)this.addCollection(a);else throw new UnsupportedOperationException(a.getClass().getName());}else return na.prototype.add.apply(this,arguments)};W.prototype.addCollection=function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);this.add(c)}};W.prototype.locate=function(a){return v(this._parentGeom,Uc)&&50<this._parentGeom.getNumGeometries()?
(null===this._areaPtLocator&&(this._areaPtLocator=new Ad(this._parentGeom)),this._areaPtLocator.locate(a)):this._ptLocator.locate(a,this._parentGeom)};W.prototype.findEdge=function(){return 1===arguments.length&&arguments[0]instanceof u?this._lineEdgeMap.get(arguments[0]):na.prototype.findEdge.apply(this,arguments)};W.prototype.getClass=function(){return W};$jscomp.global.Object.defineProperties(W.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});W.constructor_=function(){this._parentGeom=
null;this._lineEdgeMap=new Qd;this._boundaryNodeRule=null;this._useBoundaryDeterminationRule=!0;this._boundaryNodes=this._argIndex=null;this._hasTooFewPoints=!1;this._areaPtLocator=this._invalidPoint=null;this._ptLocator=new Pb;if(2===arguments.length)W.constructor_.call(this,arguments[0],arguments[1],Qa.OGC_SFS_BOUNDARY_RULE);else if(3===arguments.length){var a=arguments[1],b=arguments[2];this._argIndex=arguments[0];this._parentGeom=a;this._boundaryNodeRule=b;null!==a&&this.add(a)}};var Ug=Object.freeze({GeometryGraph:W}),
Ae=function(){Ae.constructor_.apply(this,arguments)};Ae.prototype.visit=function(a){};Ae.prototype.getClass=function(){return Ae};$jscomp.global.Object.defineProperties(Ae.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ae.constructor_=function(){};var Qb=function(){Qb.constructor_.apply(this,arguments)};Qb.prototype.isRepeated=function(){return 1<this._count};Qb.prototype.getRight=function(){return this._right};Qb.prototype.getCoordinate=function(){return this._p};
Qb.prototype.setLeft=function(a){this._left=a};Qb.prototype.getX=function(){return this._p.x};Qb.prototype.getData=function(){return this._data};Qb.prototype.getCount=function(){return this._count};Qb.prototype.getLeft=function(){return this._left};Qb.prototype.getY=function(){return this._p.y};Qb.prototype.increment=function(){this._count+=1};Qb.prototype.setRight=function(a){this._right=a};Qb.prototype.getClass=function(){return Qb};$jscomp.global.Object.defineProperties(Qb.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});Qb.constructor_=function(){this._count=this._right=this._left=this._data=this._p=null;if(2===arguments.length){var a=arguments[1];this._p=new h(arguments[0]);this._right=this._left=null;this._count=1;this._data=a}else 3===arguments.length&&(a=arguments[2],this._p=new h(arguments[0],arguments[1]),this._right=this._left=null,this._count=1,this._data=a)};var dc=function(){dc.constructor_.apply(this,arguments)};dc.toCoordinates=function(){if(1===arguments.length)return dc.toCoordinates(arguments[0],
!1);if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new ea;for(a=a.iterator();a.hasNext();)for(var d=a.next(),e=b?d.getCount():1,g=0;g<e;g++)c.add(d.getCoordinate(),!0);return c.toCoordinateArray()}};dc.prototype.insert=function(){if(1===arguments.length)return this.insert(arguments[0],null);if(2===arguments.length){var a=arguments[0],b=arguments[1];if(null===this._root)return this._root=new Qb(a,b);if(0<this._tolerance){var c=this.findBestMatchNode(a);if(null!==c)return c.increment(),
c}return this.insertExact(a,b)}};dc.prototype.query=function(){if(1===arguments.length){var a=arguments[0],b=new m;this.query(a,b);return b}if(2===arguments.length)if(arguments[0]instanceof r&&v(arguments[1],cb)){a=arguments[0];var c=arguments[1];b=function(){};b.prototype.visit=function(a){c.add(a)};$jscomp.global.Object.defineProperties(b.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Ae]}}});this.queryNode(this._root,a,!0,new b)}else arguments[0]instanceof r&&v(arguments[1],
Ae)&&this.queryNode(this._root,arguments[0],!0,arguments[1])};dc.prototype.queryNode=function(a,b,c,d){if(null===a)return null;if(c){var e=b.getMinX();var g=b.getMaxX();var f=a.getX()}else e=b.getMinY(),g=b.getMaxY(),f=a.getY();g=f<=g;e<f&&this.queryNode(a.getLeft(),b,!c,d);b.contains(a.getCoordinate())&&d.visit(a);g&&this.queryNode(a.getRight(),b,!c,d)};dc.prototype.findBestMatchNode=function(a){a=new Wd(a,this._tolerance);this.query(a.queryEnvelope(),a);return a.getNode()};dc.prototype.isEmpty=
function(){return null===this._root?!0:!1};dc.prototype.insertExact=function(a,b){for(var c=this._root,d=this._root,e=!0,g=!0;null!==c;){if(null!==c&&a.distance(c.getCoordinate())<=this._tolerance)return c.increment(),c;g=e?a.x<c.getX():a.y<c.getY();d=c;c=g?c.getLeft():c.getRight();e=!e}this._numberOfNodes+=1;a=new Qb(a,b);g?d.setLeft(a):d.setRight(a);return a};dc.prototype.getClass=function(){return dc};$jscomp.global.Object.defineProperties(dc.prototype,{interfaces_:{configurable:!0,enumerable:!0,
get:function(){return[]}}});var Wd=function(){Wd.constructor_.apply(this,arguments)};Wd.prototype.visit=function(a){var b=this._p.distance(a.getCoordinate());if(!(b<=this._tolerance))return null;var c=!1;if(null===this._matchNode||b<this._matchDist||null!==this._matchNode&&b===this._matchDist&&1>a.getCoordinate().compareTo(this._matchNode.getCoordinate()))c=!0;c&&(this._matchNode=a,this._matchDist=b)};Wd.prototype.queryEnvelope=function(){var a=new r(this._p);a.expandBy(this._tolerance);return a};
Wd.prototype.getNode=function(){return this._matchNode};Wd.prototype.getClass=function(){return Wd};$jscomp.global.Object.defineProperties(Wd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Ae]}}});Wd.constructor_=function(a,b){this._matchNode=null;this._matchDist=0;this._p=a;this._tolerance=b};dc.BestMatchVisitor=Wd;dc.constructor_=function(){this._tolerance=this._numberOfNodes=this._root=null;0===arguments.length?dc.constructor_.call(this,0):1===arguments.length&&(this._tolerance=
arguments[0])};var Vg=Object.freeze({KdTree:dc}),Da=function(){Da.constructor_.apply(this,arguments)};Da.getSubnodeIndex=function(a,b,c){var d=-1;a.getMinX()>=b&&(a.getMinY()>=c&&(d=3),a.getMaxY()<=c&&(d=1));a.getMaxX()<=b&&(a.getMinY()>=c&&(d=2),a.getMaxY()<=c&&(d=0));return d};Da.prototype.hasChildren=function(){for(var a=0;4>a;a++)if(null!==this._subnode[a])return!0;return!1};Da.prototype.isPrunable=function(){return!(this.hasChildren()||this.hasItems())};Da.prototype.addAllItems=function(a){a.addAll(this._items);
for(var b=0;4>b;b++)null!==this._subnode[b]&&this._subnode[b].addAllItems(a);return a};Da.prototype.getNodeCount=function(){for(var a=0,b=0;4>b;b++)null!==this._subnode[b]&&(a+=this._subnode[b].size());return a+1};Da.prototype.size=function(){for(var a=0,b=0;4>b;b++)null!==this._subnode[b]&&(a+=this._subnode[b].size());return a+this._items.size()};Da.prototype.addAllItemsFromOverlapping=function(a,b){if(!this.isSearchMatch(a))return null;b.addAll(this._items);for(var c=0;4>c;c++)null!==this._subnode[c]&&
this._subnode[c].addAllItemsFromOverlapping(a,b)};Da.prototype.visitItems=function(a,b){for(a=this._items.iterator();a.hasNext();)b.visitItem(a.next())};Da.prototype.hasItems=function(){return!this._items.isEmpty()};Da.prototype.remove=function(a,b){if(!this.isSearchMatch(a))return!1;for(var c=!1,d=0;4>d;d++)if(null!==this._subnode[d]&&(c=this._subnode[d].remove(a,b))){this._subnode[d].isPrunable()&&(this._subnode[d]=null);break}return c?c:c=this._items.remove(b)};Da.prototype.visit=function(a,b){if(!this.isSearchMatch(a))return null;
this.visitItems(a,b);for(var c=0;4>c;c++)null!==this._subnode[c]&&this._subnode[c].visit(a,b)};Da.prototype.getItems=function(){return this._items};Da.prototype.depth=function(){for(var a=0,b=0;4>b;b++)if(null!==this._subnode[b]){var c=this._subnode[b].depth();c>a&&(a=c)}return a+1};Da.prototype.isEmpty=function(){var a=!0;if(this._items.isEmpty())for(var b=0;4>b;b++){if(null!==this._subnode[b]&&!this._subnode[b].isEmpty()){a=!1;break}}else a=!1;return a};Da.prototype.add=function(a){this._items.add(a)};
Da.prototype.getClass=function(){return Da};$jscomp.global.Object.defineProperties(Da.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[ic]}}});Da.constructor_=function(){this._items=new m;this._subnode=Array(4).fill(null)};Xf.exponent=function(a){var b={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},c={32:8,64:11}[64];if(!e){var d=0>a||0>1/a;if(!isFinite(a)){var e=b[64];d&&(e.d+=32768);var g=Math.pow(2,c)-1}}if(!e){g={32:127,64:1023}[64];for(a=Math.abs(a);2<=a;)g++,
a/=2;for(;1>a&&0<g;)g--,a*=2}return g-1023};Xf.powerOf2=function(a){return Math.pow(2,a)};var $c=function(){$c.constructor_.apply(this,arguments)};$c.computeQuadLevel=function(a){var b=a.getWidth();a=a.getHeight();return Xf.exponent(b>a?b:a)+1};$c.prototype.getLevel=function(){return this._level};$c.prototype.computeKey=function(){if(1===arguments.length){var a=arguments[0];this._level=$c.computeQuadLevel(a);this._env=new r;for(this.computeKey(this._level,a);!this._env.contains(a);)this._level+=1,
this.computeKey(this._level,a)}else if(2===arguments.length){a=arguments[1];var b=Xf.powerOf2(arguments[0]);this._pt.x=Math.floor(a.getMinX()/b)*b;this._pt.y=Math.floor(a.getMinY()/b)*b;this._env.init(this._pt.x,this._pt.x+b,this._pt.y,this._pt.y+b)}};$c.prototype.getEnvelope=function(){return this._env};$c.prototype.getCentre=function(){return new h((this._env.getMinX()+this._env.getMaxX())/2,(this._env.getMinY()+this._env.getMaxY())/2)};$c.prototype.getPoint=function(){return this._pt};$c.prototype.getClass=
function(){return $c};$jscomp.global.Object.defineProperties($c.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});$c.constructor_=function(a){this._pt=new h;this._level=0;this._env=null;this.computeKey(a)};var Cb=function(){var a=Da.call(this)||this;Cb.constructor_.apply(a,arguments);return a};$jscomp.inherits(Cb,Da);Cb.createNode=function(a){a=new $c(a);return new Cb(a.getEnvelope(),a.getLevel())};Cb.createExpanded=function(a,b){b=new r(b);null!==a&&b.expandToInclude(a._env);
b=Cb.createNode(b);null!==a&&b.insertNode(a);return b};Cb.prototype.find=function(a){var b=Da.getSubnodeIndex(a,this._centrex,this._centrey);return-1===b?this:null!==this._subnode[b]?this._subnode[b].find(a):this};Cb.prototype.isSearchMatch=function(a){return null===a?!1:this._env.intersects(a)};Cb.prototype.getSubnode=function(a){null===this._subnode[a]&&(this._subnode[a]=this.createSubnode(a));return this._subnode[a]};Cb.prototype.getEnvelope=function(){return this._env};Cb.prototype.getNode=function(a){var b=
Da.getSubnodeIndex(a,this._centrex,this._centrey);return-1!==b?this.getSubnode(b).getNode(a):this};Cb.prototype.createSubnode=function(a){var b=0,c=0,d=0,e=0;switch(a){case 0:b=this._env.getMinX();c=this._centrex;d=this._env.getMinY();e=this._centrey;break;case 1:b=this._centrex;c=this._env.getMaxX();d=this._env.getMinY();e=this._centrey;break;case 2:b=this._env.getMinX();c=this._centrex;d=this._centrey;e=this._env.getMaxY();break;case 3:b=this._centrex,c=this._env.getMaxX(),d=this._centrey,e=this._env.getMaxY()}a=
new r(b,c,d,e);return new Cb(a,this._level-1)};Cb.prototype.insertNode=function(a){w.isTrue(null===this._env||this._env.contains(a._env));var b=Da.getSubnodeIndex(a._env,this._centrex,this._centrey);if(a._level===this._level-1)this._subnode[b]=a;else{var c=this.createSubnode(b);c.insertNode(a);this._subnode[b]=c}};Cb.prototype.getClass=function(){return Cb};$jscomp.global.Object.defineProperties(Cb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Cb.constructor_=function(a,
b){this._centrey=this._centrex=null;this._env=a;this._level=b;this._centrex=(a.getMinX()+a.getMaxX())/2;this._centrey=(a.getMinY()+a.getMaxY())/2};var Xd=function(){Xd.constructor_.apply(this,arguments)};Xd.isZeroWidth=function(a,b){var c=b-a;return 0===c?!0:Xf.exponent(c/Math.max(Math.abs(a),Math.abs(b)))<=Xd.MIN_BINARY_EXPONENT};Xd.prototype.getClass=function(){return Xd};$jscomp.global.Object.defineProperties(Xd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
Xd.constructor_=function(){};Xd.MIN_BINARY_EXPONENT=-50;var ad=function(){var a=Da.call(this)||this;ad.constructor_.apply(a,arguments);return a};$jscomp.inherits(ad,Da);ad.prototype.insert=function(a,b){var c=Da.getSubnodeIndex(a,ad.origin.x,ad.origin.y);if(-1===c)return this.add(b),null;var d=this._subnode[c];null!==d&&d.getEnvelope().contains(a)||(d=Cb.createExpanded(d,a),this._subnode[c]=d);this.insertContained(this._subnode[c],a,b)};ad.prototype.isSearchMatch=function(a){return!0};ad.prototype.insertContained=
function(a,b,c){w.isTrue(a.getEnvelope().contains(b));var d=Xd.isZeroWidth(b.getMinX(),b.getMaxX()),e=Xd.isZeroWidth(b.getMinY(),b.getMaxY());(d||e?a.find(b):a.getNode(b)).add(c)};ad.prototype.getClass=function(){return ad};$jscomp.global.Object.defineProperties(ad.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ad.constructor_=function(){};ad.origin=new h(0,0);var Yd=function(){Yd.constructor_.apply(this,arguments)};Yd.prototype.insert=function(a,b){};Yd.prototype.remove=
function(a,b){};Yd.prototype.query=function(){};Yd.prototype.getClass=function(){return Yd};$jscomp.global.Object.defineProperties(Yd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Yd.constructor_=function(){};var Db=function(){Db.constructor_.apply(this,arguments)};Db.ensureExtent=function(a,b){var c=a.getMinX(),d=a.getMaxX(),e=a.getMinY(),g=a.getMaxY();if(c!==d&&e!==g)return a;c===d&&(c-=b/2,d=c+b/2);e===g&&(e-=b/2,g=e+b/2);return new r(c,d,e,g)};Db.prototype.size=
function(){return null!==this._root?this._root.size():0};Db.prototype.insert=function(a,b){this.collectStats(a);a=Db.ensureExtent(a,this._minExtent);this._root.insert(a,b)};Db.prototype.query=function(){if(1===arguments.length){var a=arguments[0],b=new we;this.query(a,b);return b.getItems()}2===arguments.length&&this._root.visit(arguments[0],arguments[1])};Db.prototype.queryAll=function(){var a=new m;this._root.addAllItems(a);return a};Db.prototype.remove=function(a,b){a=Db.ensureExtent(a,this._minExtent);
return this._root.remove(a,b)};Db.prototype.collectStats=function(a){var b=a.getWidth();b<this._minExtent&&0<b&&(this._minExtent=b);a=a.getHeight();a<this._minExtent&&0<a&&(this._minExtent=a)};Db.prototype.depth=function(){return null!==this._root?this._root.depth():0};Db.prototype.isEmpty=function(){return null===this._root?!0:this._root.isEmpty()};Db.prototype.getClass=function(){return Db};$jscomp.global.Object.defineProperties(Db.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Yd,
ic]}}});Db.constructor_=function(){this._root=null;this._minExtent=1;this._root=new ad};Db.serialVersionUID=-0x678b60c967a25400;var Wg=Object.freeze({Quadtree:Db}),pf=function(){pf.constructor_.apply(this,arguments)};pf.prototype.getBounds=function(){};pf.prototype.getClass=function(){return pf};$jscomp.global.Object.defineProperties(pf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});pf.constructor_=function(){};var mc=function(){mc.constructor_.apply(this,arguments)};
mc.prototype.getItem=function(){return this._item};mc.prototype.getBounds=function(){return this._bounds};mc.prototype.getClass=function(){return mc};$jscomp.global.Object.defineProperties(mc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[pf,ic]}}});mc.constructor_=function(a,b){this._bounds=a;this._item=b};var yc=function(){yc.constructor_.apply(this,arguments)};yc.prototype.poll=function(){if(this.isEmpty())return null;var a=this._items.get(1);this._items.set(1,this._items.get(this._size));
--this._size;this.reorder(1);return a};yc.prototype.size=function(){return this._size};yc.prototype.reorder=function(a){for(var b,c=this._items.get(a);2*a<=this._size;a=b)if(b=2*a,b!==this._size&&0>this._items.get(b+1).compareTo(this._items.get(b))&&b++,0>this._items.get(b).compareTo(c))this._items.set(a,this._items.get(b));else break;this._items.set(a,c)};yc.prototype.clear=function(){this._size=0;this._items.clear()};yc.prototype.peek=function(){return this.isEmpty()?null:this._items.get(1)};yc.prototype.isEmpty=
function(){return 0===this._size};yc.prototype.add=function(a){this._items.add(null);var b=this._size+=1;for(this._items.set(0,a);0>a.compareTo(this._items.get(Math.trunc(b/2)));b/=2)this._items.set(b,this._items.get(Math.trunc(b/2)));this._items.set(b,a)};yc.prototype.getClass=function(){return yc};$jscomp.global.Object.defineProperties(yc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});yc.constructor_=function(){this._items=null;this._size=0;this._items=new m;this._items.add(null)};
var Ma=function(){Ma.constructor_.apply(this,arguments)};Ma.prototype.getLevel=function(){return this._level};Ma.prototype.size=function(){return this._childBoundables.size()};Ma.prototype.getChildBoundables=function(){return this._childBoundables};Ma.prototype.addChildBoundable=function(a){w.isTrue(null===this._bounds);this._childBoundables.add(a)};Ma.prototype.isEmpty=function(){return this._childBoundables.isEmpty()};Ma.prototype.getBounds=function(){null===this._bounds&&(this._bounds=this.computeBounds());
return this._bounds};Ma.prototype.getClass=function(){return Ma};$jscomp.global.Object.defineProperties(Ma.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[pf,ic]}}});Ma.constructor_=function(){this._childBoundables=new m;this._level=this._bounds=null;0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])};Ma.serialVersionUID=0x5a1e55ec41369800;var Ca=function(){Ca.constructor_.apply(this,arguments)};Ca.area=function(a){return a.getBounds().getArea()};Ca.isComposite=
function(a){return a instanceof Ma};Ca.prototype.expandToQueue=function(a,b){var c=Ca.isComposite(this._boundable1),d=Ca.isComposite(this._boundable2);if(c&&d)return Ca.area(this._boundable1)>Ca.area(this._boundable2)?this.expand(this._boundable1,this._boundable2,a,b):this.expand(this._boundable2,this._boundable1,a,b),null;if(c)return this.expand(this._boundable1,this._boundable2,a,b),null;if(d)return this.expand(this._boundable2,this._boundable1,a,b),null;throw new F("neither boundable is composite");
};Ca.prototype.isLeaves=function(){return!(Ca.isComposite(this._boundable1)||Ca.isComposite(this._boundable2))};Ca.prototype.compareTo=function(a){return this._distance<a._distance?-1:this._distance>a._distance?1:0};Ca.prototype.expand=function(a,b,c,d){for(a=a.getChildBoundables().iterator();a.hasNext();){var e=a.next();e=new Ca(e,b,this._itemDistance);e.getDistance()<d&&c.add(e)}};Ca.prototype.getBoundable=function(a){return 0===a?this._boundable1:this._boundable2};Ca.prototype.getDistance=function(){return this._distance};
Ca.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())};Ca.prototype.getClass=function(){return Ca};$jscomp.global.Object.defineProperties(Ca.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc]}}});Ca.constructor_=function(a,b,c){this._distance=null;this._boundable1=a;this._boundable2=b;this._itemDistance=c;this._distance=this.distance()};
var U=function(){U.constructor_.apply(this,arguments)};U.compareDoubles=function(a,b){return a>b?1:a<b?-1:0};U.prototype.queryInternal=function(a,b,c){if(v(c,yd)&&a instanceof Object&&b instanceof Ma){b=b.getChildBoundables();for(var d=0;d<b.size();d++){var e=b.get(d);this.getIntersectsOp().intersects(e.getBounds(),a)&&(e instanceof Ma?this.queryInternal(a,e,c):e instanceof mc?c.visitItem(e.getItem()):w.shouldNeverReachHere())}}else if(v(c,cb)&&a instanceof Object&&b instanceof Ma)for(b=b.getChildBoundables(),
d=0;d<b.size();d++)e=b.get(d),this.getIntersectsOp().intersects(e.getBounds(),a)&&(e instanceof Ma?this.queryInternal(a,e,c):e instanceof mc?c.add(e.getItem()):w.shouldNeverReachHere())};U.prototype.getNodeCapacity=function(){return this._nodeCapacity};U.prototype.lastNode=function(a){return a.get(a.size()-1)};U.prototype.size=function(){if(0===arguments.length){if(this.isEmpty())return 0;this.build();return this.size(this._root)}if(1===arguments.length){for(var a=0,b=arguments[0].getChildBoundables().iterator();b.hasNext();){var c=
b.next();c instanceof Ma?a+=this.size(c):c instanceof mc&&(a+=1)}return a}};U.prototype.removeItem=function(a,b){for(var c=null,d=a.getChildBoundables().iterator();d.hasNext();){var e=d.next();e instanceof mc&&e.getItem()===b&&(c=e)}return null!==c?(a.getChildBoundables().remove(c),!0):!1};U.prototype.itemsTree=function(){if(0===arguments.length){this.build();var a=this.itemsTree(this._root);return null===a?new m:a}if(1===arguments.length){var b=arguments[0];a=new m;for(b=b.getChildBoundables().iterator();b.hasNext();){var c=
b.next();c instanceof Ma?(c=this.itemsTree(c),null!==c&&a.add(c)):c instanceof mc?a.add(c.getItem()):w.shouldNeverReachHere()}return 0>=a.size()?null:a}};U.prototype.insert=function(a,b){w.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built.");this._itemBoundables.add(new mc(a,b))};U.prototype.boundablesAtLevel=function(){if(1===arguments.length){var a=arguments[0],b=new m;this.boundablesAtLevel(a,this._root,b);return b}if(3===arguments.length){a=arguments[0];
var c=arguments[1];b=arguments[2];w.isTrue(-2<a);if(c.getLevel()===a)return b.add(c),null;for(c=c.getChildBoundables().iterator();c.hasNext();){var d=c.next();d instanceof Ma?this.boundablesAtLevel(a,d,b):(w.isTrue(d instanceof mc),-1===a&&b.add(d))}return null}};U.prototype.query=function(){if(1===arguments.length){var a=arguments[0];this.build();var b=new m;if(this.isEmpty())return b;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.queryInternal(a,this._root,b);return b}if(2===
arguments.length){a=arguments[0];b=arguments[1];this.build();if(this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.queryInternal(a,this._root,b)}};U.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1);this._itemBoundables=null;this._built=!0};U.prototype.getRoot=function(){this.build();return this._root};U.prototype.remove=function(){if(2===arguments.length){var a=
arguments[0],b=arguments[1];this.build();return this.getIntersectsOp().intersects(this._root.getBounds(),a)?this.remove(a,this._root,b):!1}if(3===arguments.length){a=arguments[0];b=arguments[1];var c=arguments[2],d=this.removeItem(b,c);if(d)return!0;for(var e=null,g=b.getChildBoundables().iterator();g.hasNext();){var f=g.next();if(this.getIntersectsOp().intersects(f.getBounds(),a)&&f instanceof Ma&&(d=this.remove(a,f,c))){e=f;break}}null!==e&&e.getChildBoundables().isEmpty()&&b.getChildBoundables().remove(e);
return d}};U.prototype.createHigherLevels=function(a,b){w.isTrue(!a.isEmpty());a=this.createParentBoundables(a,b+1);return 1===a.size()?a.get(0):this.createHigherLevels(a,b+1)};U.prototype.depth=function(){if(0===arguments.length){if(this.isEmpty())return 0;this.build();return this.depth(this._root)}if(1===arguments.length){for(var a=0,b=arguments[0].getChildBoundables().iterator();b.hasNext();){var c=b.next();c instanceof Ma&&(c=this.depth(c),c>a&&(a=c))}return a+1}};U.prototype.createParentBoundables=
function(a,b){w.isTrue(!a.isEmpty());var c=new m;c.add(this.createNode(b));a=new m(a);zd.sort(a,this.getComparator());for(a=a.iterator();a.hasNext();){var d=a.next();this.lastNode(c).getChildBoundables().size()===this.getNodeCapacity()&&c.add(this.createNode(b));this.lastNode(c).addChildBoundable(d)}return c};U.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()};U.prototype.getClass=function(){return U};$jscomp.global.Object.defineProperties(U.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[ic]}}});U.IntersectsOp=function(){};U.constructor_=function(){this._root=null;this._built=!1;this._itemBoundables=new m;this._nodeCapacity=null;if(0===arguments.length)U.constructor_.call(this,U.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var a=arguments[0];w.isTrue(1<a,"Node capacity must be greater than 1");this._nodeCapacity=a}};U.serialVersionUID=-0x35ef64c82d4c5400;U.DEFAULT_NODE_CAPACITY=10;var Be=function(){Be.constructor_.apply(this,
arguments)};Be.prototype.distance=function(a,b){};Be.prototype.getClass=function(){return Be};$jscomp.global.Object.defineProperties(Be.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Be.constructor_=function(){};var O=function(){var a=U.call(this)||this;O.constructor_.apply(a,arguments);return a};$jscomp.inherits(O,U);O.centreX=function(a){return O.avg(a.getMinX(),a.getMaxX())};O.avg=function(a,b){return(a+b)/2};O.getItems=function(a){for(var b=Array(a.size()).fill(null),
c=0;!a.isEmpty();){var d=a.poll();b[c]=d.getBoundable(0).getItem();c++}return b};O.centreY=function(a){return O.avg(a.getMinY(),a.getMaxY())};O.prototype.createParentBoundablesFromVerticalSlices=function(a,b){w.isTrue(0<a.length);for(var c=new m,d=0;d<a.length;d++)c.addAll(this.createParentBoundablesFromVerticalSlice(a[d],b));return c};O.prototype.createNode=function(a){return new Ce(a)};O.prototype.size=function(){return 0===arguments.length?U.prototype.size.call(this):U.prototype.size.apply(this,
arguments)};O.prototype.insert=function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof r){var a=arguments[0],b=arguments[1];if(a.isNull())return null;U.prototype.insert.call(this,a,b)}else return U.prototype.insert.apply(this,arguments)};O.prototype.getIntersectsOp=function(){return O.intersectsOp};O.prototype.verticalSlices=function(a,b){var c=Math.trunc(Math.ceil(a.size()/b)),d=Array(b).fill(null);a=a.iterator();for(var e=0;e<b;e++){d[e]=new m;for(var g=0;a.hasNext()&&
g<c;){var f=a.next();d[e].add(f);g++}}return d};O.prototype.query=function(){if(1===arguments.length)return U.prototype.query.call(this,arguments[0]);2===arguments.length&&U.prototype.query.call(this,arguments[0],arguments[1])};O.prototype.getComparator=function(){return O.yComparator};O.prototype.createParentBoundablesFromVerticalSlice=function(a,b){return U.prototype.createParentBoundables.call(this,a,b)};O.prototype.remove=function(){return 2===arguments.length&&arguments[1]instanceof Object&&
arguments[0]instanceof r?U.prototype.remove.call(this,arguments[0],arguments[1]):U.prototype.remove.apply(this,arguments)};O.prototype.depth=function(){return 0===arguments.length?U.prototype.depth.call(this):U.prototype.depth.apply(this,arguments)};O.prototype.createParentBoundables=function(a,b){w.isTrue(!a.isEmpty());var c=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity()));a=new m(a);zd.sort(a,O.xComparator);c=this.verticalSlices(a,Math.trunc(Math.ceil(Math.sqrt(c))));return this.createParentBoundablesFromVerticalSlices(c,
b)};O.prototype.nearestNeighbour=function(){if(1===arguments.length){if(v(arguments[0],Be)){var a=arguments[0];a=new Ca(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(a)}if(arguments[0]instanceof Ca)return this.nearestNeighbour(arguments[0],y.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof O&&v(arguments[1],Be)){a=arguments[0];var b=arguments[1];a=new Ca(this.getRoot(),a.getRoot(),b);return this.nearestNeighbour(a)}if(arguments[0]instanceof Ca&&"number"===
typeof arguments[1]){var c=arguments[0];a=arguments[1];var d=null;b=new yc;for(b.add(c);!b.isEmpty()&&0<a;){c=b.poll();var e=c.getDistance();if(e>=a)break;c.isLeaves()?(a=e,d=c):c.expandToQueue(b,a)}return[d.getBoundable(0).getItem(),d.getBoundable(1).getItem()]}if(arguments[0]instanceof Ca&&Number.isInteger(arguments[1]))return this.nearestNeighbour(arguments[0],y.POSITIVE_INFINITY,arguments[1])}else if(3===arguments.length){if(v(arguments[2],Be)&&arguments[0]instanceof r&&arguments[1]instanceof
Object)return b=arguments[2],a=new mc(arguments[0],arguments[1]),a=new Ca(this.getRoot(),a,b),this.nearestNeighbour(a)[0];if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ca&&"number"===typeof arguments[1]){c=arguments[0];d=arguments[2];a=arguments[1];b=new yc;b.add(c);for(var g=new yc;!b.isEmpty()&&0<=a;){c=b.poll();e=c.getDistance();if(e>=a)break;c.isLeaves()?g.size()<d?g.add(c):(g.peek().getDistance()>e&&(g.poll(),g.add(c)),a=g.peek().getDistance()):c.expandToQueue(b,a)}return O.getItems(g)}}else if(4===
arguments.length)return c=arguments[2],b=arguments[3],a=new mc(arguments[0],arguments[1]),a=new Ca(this.getRoot(),a,c),this.nearestNeighbour(a,b)};O.prototype.getClass=function(){return O};$jscomp.global.Object.defineProperties(O.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Yd,ic]}}});var Ce=function(){var a=Ma.call(this)||this;Ce.constructor_.apply(a,arguments);return a};$jscomp.inherits(Ce,Ma);Ce.prototype.computeBounds=function(){for(var a=null,b=this.getChildBoundables().iterator();b.hasNext();){var c=
b.next();null===a?a=new r(c.getBounds()):a.expandToInclude(c.getBounds())}return a};Ce.prototype.getClass=function(){return Ce};$jscomp.global.Object.defineProperties(Ce.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ce.constructor_=function(a){Ma.constructor_.call(this,a)};O.STRtreeNode=Ce;O.constructor_=function(){0===arguments.length?O.constructor_.call(this,O.DEFAULT_NODE_CAPACITY):1===arguments.length&&U.constructor_.call(this,arguments[0])};O.serialVersionUID=
0x39920f7d5f261e0;var ng=function(){};ng.prototype.compare=function(a,b){return U.compareDoubles(O.centreX(a.getBounds()),O.centreX(b.getBounds()))};$jscomp.global.Object.defineProperties(ng.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[af]}}});O.xComparator=new ng;var og=function(){};og.prototype.compare=function(a,b){return U.compareDoubles(O.centreY(a.getBounds()),O.centreY(b.getBounds()))};$jscomp.global.Object.defineProperties(og.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[af]}}});O.yComparator=new og;var pg=function(){};pg.prototype.intersects=function(a,b){return a.intersects(b)};$jscomp.global.Object.defineProperties(pg.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[IntersectsOp]}}});O.intersectsOp=new pg;O.DEFAULT_NODE_CAPACITY=10;var Xg=Object.freeze({STRtree:O}),Yg=Object.freeze({kdtree:Vg,quadtree:Wg,strtree:Xg}),Zg="Point MultiPoint LineString MultiLineString Polygon MultiPolygon".split(" "),jg=
function(a){this.geometryFactory=a||new B};jg.prototype.read=function(a){a="string"===typeof a?JSON.parse(a):a;var b=a.type;if(!md[b])throw Error("Unknown GeoJSON type: "+a.type);return-1!==Zg.indexOf(b)?md[b].call(this,a.coordinates):"GeometryCollection"===b?md[b].call(this,a.geometries):md[b].call(this,a)};jg.prototype.write=function(a){var b=a.getGeometryType();if(!Zd[b])throw Error("Geometry is not supported");return Zd[b].call(this,a)};var md={Feature:function(a){var b={},c;for(c in a)b[c]=a[c];
if(a.geometry){if(!md[a.geometry.type])throw Error("Unknown GeoJSON type: "+a.type);b.geometry=this.read(a.geometry)}a.bbox&&(b.bbox=md.bbox.call(this,a.bbox));return b},FeatureCollection:function(a){var b={};if(a.features){b.features=[];for(var c=0;c<a.features.length;++c)b.features.push(this.read(a.features[c]))}a.bbox&&(b.bbox=this.parse.bbox.call(this,a.bbox));return b},coordinates:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(new h(d[0],d[1]))}return b},bbox:function(a){return this.geometryFactory.createLinearRing([new h(a[0],
a[1]),new h(a[2],a[1]),new h(a[2],a[3]),new h(a[0],a[3]),new h(a[0],a[1])])},Point:function(a){a=new h(a[0],a[1]);return this.geometryFactory.createPoint(a)},MultiPoint:function(a){for(var b=[],c=0;c<a.length;++c)b.push(md.Point.call(this,a[c]));return this.geometryFactory.createMultiPoint(b)},LineString:function(a){a=md.coordinates.call(this,a);return this.geometryFactory.createLineString(a)},MultiLineString:function(a){for(var b=[],c=0;c<a.length;++c)b.push(md.LineString.call(this,a[c]));return this.geometryFactory.createMultiLineString(b)},
Polygon:function(a){var b=md.coordinates.call(this,a[0]);b=this.geometryFactory.createLinearRing(b);for(var c=[],d=1;d<a.length;++d){var e=md.coordinates.call(this,a[d]);e=this.geometryFactory.createLinearRing(e);c.push(e)}return this.geometryFactory.createPolygon(b,c)},MultiPolygon:function(a){for(var b=[],c=0;c<a.length;++c)b.push(md.Polygon.call(this,a[c]));return this.geometryFactory.createMultiPolygon(b)},GeometryCollection:function(a){for(var b=[],c=0;c<a.length;++c)b.push(this.read(a[c]));
return this.geometryFactory.createGeometryCollection(b)}},Zd={coordinate:function(a){return[a.x,a.y]},Point:function(a){return{type:"Point",coordinates:Zd.coordinate.call(this,a.getCoordinate())}},MultiPoint:function(a){for(var b=[],c=0;c<a._geometries.length;++c){var d=Zd.Point.call(this,a._geometries[c]);b.push(d.coordinates)}return{type:"MultiPoint",coordinates:b}},LineString:function(a){var b=[];a=a.getCoordinates();for(var c=0;c<a.length;++c)b.push(Zd.coordinate.call(this,a[c]));return{type:"LineString",
coordinates:b}},MultiLineString:function(a){for(var b=[],c=0;c<a._geometries.length;++c){var d=Zd.LineString.call(this,a._geometries[c]);b.push(d.coordinates)}return{type:"MultiLineString",coordinates:b}},Polygon:function(a){var b=[],c=Zd.LineString.call(this,a._shell);b.push(c.coordinates);for(c=0;c<a._holes.length;++c){var d=Zd.LineString.call(this,a._holes[c]);b.push(d.coordinates)}return{type:"Polygon",coordinates:b}},MultiPolygon:function(a){for(var b=[],c=0;c<a._geometries.length;++c){var d=
Zd.Polygon.call(this,a._geometries[c]);b.push(d.coordinates)}return{type:"MultiPolygon",coordinates:b}},GeometryCollection:function(a){for(var b=[],c=0;c<a._geometries.length;++c){var d=a._geometries[c],e=d.getGeometryType();b.push(Zd[e].call(this,d))}return{type:"GeometryCollection",geometries:b}}},wg=function(a){this.parser=new jg(a||new B)};wg.prototype.read=function(a){return this.parser.read(a)};var xg=function(){this.parser=new jg(this.geometryFactory)};xg.prototype.write=function(a){return this.parser.write(a)};
var yg=function(a){this.parser=new $f(a||new B)};yg.prototype.read=function(a){return this.parser.read(a)};var vb=function(a,b){this.geometryFactory=a||new B;this.ol=b||"undefined"!==typeof ol&&ol};vb.prototype.inject=function(a,b,c,d,e,g,f,h){this.ol={geom:{Point:a,LineString:b,LinearRing:c,Polygon:d,MultiPoint:e,MultiLineString:g,MultiPolygon:f,GeometryCollection:h}}};vb.prototype.read=function(a){var b=this.ol;if(a instanceof b.geom.Point)return this.convertFromPoint(a);if(a instanceof b.geom.LineString)return this.convertFromLineString(a);
if(a instanceof b.geom.LinearRing)return this.convertFromLinearRing(a);if(a instanceof b.geom.Polygon)return this.convertFromPolygon(a);if(a instanceof b.geom.MultiPoint)return this.convertFromMultiPoint(a);if(a instanceof b.geom.MultiLineString)return this.convertFromMultiLineString(a);if(a instanceof b.geom.MultiPolygon)return this.convertFromMultiPolygon(a);if(a instanceof b.geom.GeometryCollection)return this.convertFromCollection(a)};vb.prototype.convertFromPoint=function(a){a=a.getCoordinates();
return this.geometryFactory.createPoint(new h(a[0],a[1]))};vb.prototype.convertFromLineString=function(a){return this.geometryFactory.createLineString(a.getCoordinates().map(function(a){return new h(a[0],a[1])}))};vb.prototype.convertFromLinearRing=function(a){return this.geometryFactory.createLinearRing(a.getCoordinates().map(function(a){return new h(a[0],a[1])}))};vb.prototype.convertFromPolygon=function(a){a=a.getLinearRings();for(var b=null,c=[],d=0;d<a.length;d++){var e=this.convertFromLinearRing(a[d]);
0===d?b=e:c.push(e)}return this.geometryFactory.createPolygon(b,c)};vb.prototype.convertFromMultiPoint=function(a){a=a.getPoints().map(function(a){return this.convertFromPoint(a)},this);return this.geometryFactory.createMultiPoint(a)};vb.prototype.convertFromMultiLineString=function(a){a=a.getLineStrings().map(function(a){return this.convertFromLineString(a)},this);return this.geometryFactory.createMultiLineString(a)};vb.prototype.convertFromMultiPolygon=function(a){a=a.getPolygons().map(function(a){return this.convertFromPolygon(a)},
this);return this.geometryFactory.createMultiPolygon(a)};vb.prototype.convertFromCollection=function(a){a=a.getGeometries().map(function(a){return this.read(a)},this);return this.geometryFactory.createGeometryCollection(a)};vb.prototype.write=function(a){if("Point"===a.getGeometryType())return this.convertToPoint(a.getCoordinate());if("LineString"===a.getGeometryType())return this.convertToLineString(a);if("LinearRing"===a.getGeometryType())return this.convertToLinearRing(a);if("Polygon"===a.getGeometryType())return this.convertToPolygon(a);
if("MultiPoint"===a.getGeometryType())return this.convertToMultiPoint(a);if("MultiLineString"===a.getGeometryType())return this.convertToMultiLineString(a);if("MultiPolygon"===a.getGeometryType())return this.convertToMultiPolygon(a);if("GeometryCollection"===a.getGeometryType())return this.convertToCollection(a)};vb.prototype.convertToPoint=function(a){return new this.ol.geom.Point([a.x,a.y])};vb.prototype.convertToLineString=function(a){a=a._points._coordinates.map(Yf);return new this.ol.geom.LineString(a)};
vb.prototype.convertToLinearRing=function(a){a=a._points._coordinates.map(Yf);return new this.ol.geom.LinearRing(a)};vb.prototype.convertToPolygon=function(a){for(var b=[a._shell._points._coordinates.map(Yf)],c=0;c<a._holes.length;c++)b.push(a._holes[c]._points._coordinates.map(Yf));return new this.ol.geom.Polygon(b)};vb.prototype.convertToMultiPoint=function(a){return new this.ol.geom.MultiPoint(a.getCoordinates().map(Yf))};vb.prototype.convertToMultiLineString=function(a){for(var b=[],c=0;c<a._geometries.length;c++)b.push(this.convertToLineString(a._geometries[c]).getCoordinates());
return new this.ol.geom.MultiLineString(b)};vb.prototype.convertToMultiPolygon=function(a){for(var b=[],c=0;c<a._geometries.length;c++)b.push(this.convertToPolygon(a._geometries[c]).getCoordinates());return new this.ol.geom.MultiPolygon(b)};vb.prototype.convertToCollection=function(a){for(var b=[],c=0;c<a._geometries.length;c++)b.push(this.write(a._geometries[c]));return new this.ol.geom.GeometryCollection(b)};var $g=Object.freeze({GeoJSONReader:wg,GeoJSONWriter:xg,OL3Parser:vb,WKTReader:yg,WKTWriter:Bb}),
Eb=function(){Eb.constructor_.apply(this,arguments)};Eb.relativeSign=function(a,b){return a<b?-1:a>b?1:0};Eb.compare=function(a,b,c){if(b.equals2D(c))return 0;var d=Eb.relativeSign(b.x,c.x);b=Eb.relativeSign(b.y,c.y);switch(a){case 0:return Eb.compareValue(d,b);case 1:return Eb.compareValue(b,d);case 2:return Eb.compareValue(b,-d);case 3:return Eb.compareValue(-d,b);case 4:return Eb.compareValue(-d,-b);case 5:return Eb.compareValue(-b,-d);case 6:return Eb.compareValue(-b,d);case 7:return Eb.compareValue(d,
-b)}w.shouldNeverReachHere("invalid octant value");return 0};Eb.compareValue=function(a,b){return 0>a?-1:0<a?1:0>b?-1:0<b?1:0};Eb.prototype.getClass=function(){return Eb};$jscomp.global.Object.defineProperties(Eb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Eb.constructor_=function(){};var Fd=function(){Fd.constructor_.apply(this,arguments)};Fd.prototype.getCoordinate=function(){return this.coord};Fd.prototype.print=function(a){a.print(this.coord);a.print(" seg # = "+
this.segmentIndex)};Fd.prototype.compareTo=function(a){return this.segmentIndex<a.segmentIndex?-1:this.segmentIndex>a.segmentIndex?1:this.coord.equals2D(a.coord)?0:Eb.compare(this._segmentOctant,this.coord,a.coord)};Fd.prototype.isEndPoint=function(a){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===a?!0:!1};Fd.prototype.isInterior=function(){return this._isInterior};Fd.prototype.getClass=function(){return Fd};$jscomp.global.Object.defineProperties(Fd.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[hc]}}});Fd.constructor_=function(a,b,c,d){this._isInterior=this._segmentOctant=this.segmentIndex=this.coord=null;this._segString=a;this.coord=new h(b);this.segmentIndex=c;this._segmentOctant=d;this._isInterior=!b.equals2D(a.getCoordinate(c))};var wb=function(){wb.constructor_.apply(this,arguments)};wb.prototype.getSplitCoordinates=function(){var a=new ea;this.addEndpoints();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next();this.addEdgeCoordinates(c,
d,a);c=d}return a.toCoordinateArray()};wb.prototype.addCollapsedNodes=function(){var a=new m;this.findCollapsesFromInsertedNodes(a);this.findCollapsesFromExistingVertices(a);for(a=a.iterator();a.hasNext();){var b=a.next().intValue();this.add(this._edge.getCoordinate(b),b)}};wb.prototype.print=function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();)b.next().print(a)};wb.prototype.findCollapsesFromExistingVertices=function(a){for(var b=0;b<this._edge.size()-2;b++){var c=this._edge.getCoordinate(b);
this._edge.getCoordinate(b+1);var d=this._edge.getCoordinate(b+2);c.equals2D(d)&&a.add(new hd(b+1))}};wb.prototype.addEdgeCoordinates=function(a,b,c){var d=this._edge.getCoordinate(b.segmentIndex);d=b.isInterior()||!b.coord.equals2D(d);c.add(new h(a.coord),!1);for(a=a.segmentIndex+1;a<=b.segmentIndex;a++)c.add(this._edge.getCoordinate(a));d&&c.add(new h(b.coord))};wb.prototype.iterator=function(){return this._nodeMap.values().iterator()};wb.prototype.addSplitEdges=function(a){this.addEndpoints();
this.addCollapsedNodes();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next();c=this.createSplitEdge(c,d);a.add(c);c=d}};wb.prototype.findCollapseIndex=function(a,b,c){if(!a.coord.equals2D(b.coord))return!1;var d=b.segmentIndex-a.segmentIndex;b.isInterior()||d--;return 1===d?(c[0]=a.segmentIndex+1,!0):!1};wb.prototype.findCollapsesFromInsertedNodes=function(a){for(var b=Array(1).fill(null),c=this.iterator(),d=c.next();c.hasNext();){var e=c.next();this.findCollapseIndex(d,e,b)&&a.add(new hd(b[0]));
d=e}};wb.prototype.getEdge=function(){return this._edge};wb.prototype.addEndpoints=function(){var a=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0);this.add(this._edge.getCoordinate(a),a)};wb.prototype.createSplitEdge=function(a,b){var c=b.segmentIndex-a.segmentIndex+2,d=this._edge.getCoordinate(b.segmentIndex);(d=b.isInterior()||!b.coord.equals2D(d))||c--;c=Array(c).fill(null);var e=0;c[e++]=new h(a.coord);for(a=a.segmentIndex+1;a<=b.segmentIndex;a++)c[e++]=this._edge.getCoordinate(a);
d&&(c[e]=new h(b.coord));return new Ia(c,this._edge.getData())};wb.prototype.add=function(a,b){b=new Fd(this._edge,a,b,this._edge.getSegmentOctant(b));var c=this._nodeMap.get(b);if(null!==c)return w.isTrue(c.coord.equals2D(a),"Found equal nodes with different coordinates"),c;this._nodeMap.put(b,b);return b};wb.prototype.checkSplitEdgesCorrectness=function(a){var b=this._edge.getCoordinates(),c=a.get(0).getCoordinate(0);if(!c.equals2D(b[0]))throw new Va("bad split edge start point at "+c);a=a.get(a.size()-
1).getCoordinates();a=a[a.length-1];if(!a.equals2D(b[b.length-1]))throw new Va("bad split edge end point at "+a);};wb.prototype.getClass=function(){return wb};$jscomp.global.Object.defineProperties(wb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});wb.constructor_=function(a){this._nodeMap=new Wa;this._edge=a};var De=function(){De.constructor_.apply(this,arguments)};De.octant=function(a,b){if("number"===typeof a&&"number"===typeof b){if(0===a&&0===b)throw new F("Cannot compute the octant for point ( "+
a+", "+b+" )");var c=Math.abs(a),d=Math.abs(b);return 0<=a?0<=b?c>=d?0:1:c>=d?7:6:0<=b?c>=d?3:2:c>=d?4:5}if(a instanceof h&&b instanceof h){c=b.x-a.x;b=b.y-a.y;if(0===c&&0===b)throw new F("Cannot compute the octant for two identical points "+a);return De.octant(c,b)}};De.prototype.getClass=function(){return De};$jscomp.global.Object.defineProperties(De.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});De.constructor_=function(){};var Kc=function(){Kc.constructor_.apply(this,
arguments)};Kc.prototype.getCoordinates=function(){};Kc.prototype.size=function(){};Kc.prototype.getCoordinate=function(a){};Kc.prototype.isClosed=function(){};Kc.prototype.setData=function(a){};Kc.prototype.getData=function(){};Kc.prototype.getClass=function(){return Kc};$jscomp.global.Object.defineProperties(Kc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Kc.constructor_=function(){};var Mf=function(){Mf.constructor_.apply(this,arguments)};Mf.prototype.addIntersection=
function(a,b){};Mf.prototype.getClass=function(){return Mf};$jscomp.global.Object.defineProperties(Mf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Kc]}}});Mf.constructor_=function(){};var Ia=function(){Ia.constructor_.apply(this,arguments)};Ia.getNodedSubstrings=function(){if(1===arguments.length){var a=arguments[0],b=new m;Ia.getNodedSubstrings(a,b);return b}if(2===arguments.length)for(a=arguments[1],b=arguments[0].iterator();b.hasNext();)b.next().getNodeList().addSplitEdges(a)};
Ia.prototype.getCoordinates=function(){return this._pts};Ia.prototype.size=function(){return this._pts.length};Ia.prototype.getCoordinate=function(a){return this._pts[a]};Ia.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};Ia.prototype.getSegmentOctant=function(a){return a===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))};Ia.prototype.setData=function(a){this._data=a};Ia.prototype.safeOctant=function(a,b){return a.equals2D(b)?
0:De.octant(a,b)};Ia.prototype.getData=function(){return this._data};Ia.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var a=arguments[1],b=new h(arguments[0].getIntersection(arguments[3]));this.addIntersection(b,a)}};Ia.prototype.toString=function(){return Bb.toLineString(new Ha(this._pts))};Ia.prototype.getNodeList=function(){return this._nodeList};Ia.prototype.addIntersectionNode=function(a,b){var c=
b+1;c<this._pts.length&&a.equals2D(this._pts[c])&&(b=c);return this._nodeList.add(a,b)};Ia.prototype.addIntersections=function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,b,c,d)};Ia.prototype.getClass=function(){return Ia};$jscomp.global.Object.defineProperties(Ia.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Mf]}}});Ia.constructor_=function(a,b){this._nodeList=new wb(this);this._pts=a;this._data=b};var Ee=function(){Ee.constructor_.apply(this,
arguments)};Ee.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var a=arguments[2],b=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1);a.getLineSegment(b,this._overlapSeg2);this.overlap(this._overlapSeg1,this._overlapSeg2)}};Ee.prototype.getClass=function(){return Ee};$jscomp.global.Object.defineProperties(Ee.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ee.constructor_=function(){this._overlapSeg1=new q;this._overlapSeg2=
new q};var Fb=function(){Fb.constructor_.apply(this,arguments)};Fb.prototype.getLineSegment=function(a,b){b.p0=this._pts[a];b.p1=this._pts[a+1]};Fb.prototype.computeSelect=function(a,b,c,d){var e=this._pts[b],g=this._pts[c];if(1===c-b)return d.select(this,b),null;if(!a.intersects(e,g))return null;e=Math.trunc((b+c)/2);b<e&&this.computeSelect(a,b,e,d);e<c&&this.computeSelect(a,e,c,d)};Fb.prototype.getCoordinates=function(){for(var a=Array(this._end-this._start+1).fill(null),b=0,c=this._start;c<=this._end;c++)a[b++]=
this._pts[c];return a};Fb.prototype.computeOverlaps=function(){if(2===arguments.length){var a=arguments[0];this.computeOverlaps(this._start,this._end,a,a._start,a._end,arguments[1])}else if(6===arguments.length){a=arguments[0];var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],g=arguments[5];if(1===b-a&&1===e-d)return g.overlap(this,a,c,d),null;if(!this.overlaps(a,b,c,d,e))return null;var f=Math.trunc((a+b)/2),h=Math.trunc((d+e)/2);a<f&&(d<h&&this.computeOverlaps(a,f,c,d,h,g),h<e&&this.computeOverlaps(a,
f,c,h,e,g));f<b&&(d<h&&this.computeOverlaps(f,b,c,d,h,g),h<e&&this.computeOverlaps(f,b,c,h,e,g))}};Fb.prototype.setId=function(a){this._id=a};Fb.prototype.select=function(a,b){this.computeSelect(a,this._start,this._end,b)};Fb.prototype.getEnvelope=function(){null===this._env&&(this._env=new r(this._pts[this._start],this._pts[this._end]));return this._env};Fb.prototype.overlaps=function(a,b,c,d,e){return r.intersects(this._pts[a],this._pts[b],c._pts[d],c._pts[e])};Fb.prototype.getEndIndex=function(){return this._end};
Fb.prototype.getStartIndex=function(){return this._start};Fb.prototype.getContext=function(){return this._context};Fb.prototype.getId=function(){return this._id};Fb.prototype.getClass=function(){return Fb};$jscomp.global.Object.defineProperties(Fb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Fb.constructor_=function(a,b,c,d){this._id=this._env=null;this._pts=a;this._start=b;this._end=c;this._context=d};var Lc=function(){Lc.constructor_.apply(this,arguments)};Lc.getChainStartIndices=
function(a){var b=0,c=new m;c.add(new hd(b));do b=Lc.findChainEnd(a,b),c.add(new hd(b));while(b<a.length-1);return Lc.toIntArray(c)};Lc.findChainEnd=function(a,b){for(var c=b;c<a.length-1&&a[c].equals2D(a[c+1]);)c++;if(c>=a.length-1)return a.length-1;c=X.quadrant(a[c],a[c+1]);for(b+=1;b<a.length&&(a[b-1].equals2D(a[b])||X.quadrant(a[b-1],a[b])===c);)b++;return b-1};Lc.getChains=function(){if(1===arguments.length)return Lc.getChains(arguments[0],null);if(2===arguments.length){for(var a=arguments[0],
b=arguments[1],c=new m,d=Lc.getChainStartIndices(a),e=0;e<d.length-1;e++){var g=new Fb(a,d[e],d[e+1],b);c.add(g)}return c}};Lc.toIntArray=function(a){for(var b=Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b};Lc.prototype.getClass=function(){return Lc};$jscomp.global.Object.defineProperties(Lc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Lc.constructor_=function(){};var $d=function(){$d.constructor_.apply(this,arguments)};$d.prototype.computeNodes=
function(a){};$d.prototype.getNodedSubstrings=function(){};$d.prototype.getClass=function(){return $d};$jscomp.global.Object.defineProperties($d.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});$d.constructor_=function(){};var Fe=function(){Fe.constructor_.apply(this,arguments)};Fe.prototype.setSegmentIntersector=function(a){this._segInt=a};Fe.prototype.getClass=function(){return Fe};$jscomp.global.Object.defineProperties(Fe.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[$d]}}});Fe.constructor_=function(){this._segInt=null;0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};var ec=function(){var a=Fe.call(this)||this;ec.constructor_.apply(a,arguments);return a};$jscomp.inherits(ec,Fe);ec.prototype.getMonotoneChains=function(){return this._monoChains};ec.prototype.getNodedSubstrings=function(){return Ia.getNodedSubstrings(this._nodedSegStrings)};ec.prototype.getIndex=function(){return this._index};
ec.prototype.add=function(a){for(a=Lc.getChains(a.getCoordinates(),a).iterator();a.hasNext();){var b=a.next();b.setId(this._idCounter++);this._index.insert(b.getEnvelope(),b);this._monoChains.add(b)}};ec.prototype.computeNodes=function(a){this._nodedSegStrings=a;for(a=a.iterator();a.hasNext();)this.add(a.next());this.intersectChains()};ec.prototype.intersectChains=function(){for(var a=new Ge(this._segInt),b=this._monoChains.iterator();b.hasNext();)for(var c=b.next(),d=this._index.query(c.getEnvelope()).iterator();d.hasNext();){var e=
d.next();e.getId()>c.getId()&&(c.computeOverlaps(e,a),this._nOverlaps++);if(this._segInt.isDone())return null}};ec.prototype.getClass=function(){return ec};$jscomp.global.Object.defineProperties(ec.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var Ge=function(){var a=Ee.call(this)||this;Ge.constructor_.apply(a,arguments);return a};$jscomp.inherits(Ge,Ee);Ge.prototype.overlap=function(){if(4===arguments.length){var a=arguments[1],b=arguments[2],c=arguments[3],d=
arguments[0].getContext();b=b.getContext();this._si.processIntersections(d,a,b,c)}else return Ee.prototype.overlap.apply(this,arguments)};Ge.prototype.getClass=function(){return Ge};$jscomp.global.Object.defineProperties(Ge.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ge.constructor_=function(a){this._si=a};ec.SegmentOverlapAction=Ge;ec.constructor_=function(){this._monoChains=new m;this._index=new O;this._idCounter=0;this._nodedSegStrings=null;this._nOverlaps=
0;0!==arguments.length&&1===arguments.length&&Fe.constructor_.call(this,arguments[0])};var bd=function(){bd.constructor_.apply(this,arguments)};bd.prototype.rescale=function(a){if(v(a,ra))for(var b=a.iterator();b.hasNext();)a=b.next(),this.rescale(a.getCoordinates());else if(a instanceof Array){2===a.length&&(new h(a[0]),new h(a[1]));for(b=0;b<a.length;b++)a[b].x=a[b].x/this._scaleFactor+this._offsetX,a[b].y=a[b].y/this._scaleFactor+this._offsetY;2===a.length&&a[0].equals2D(a[1])&&wa.out.println(a)}};
bd.prototype.scale=function(a){if(v(a,ra)){for(var b=new m(a.size()),c=a.iterator();c.hasNext();)a=c.next(),b.add(new Ia(this.scale(a.getCoordinates()),a.getData()));return b}if(a instanceof Array){b=Array(a.length).fill(null);for(c=0;c<a.length;c++)b[c]=new h(Math.round((a[c].x-this._offsetX)*this._scaleFactor),Math.round((a[c].y-this._offsetY)*this._scaleFactor),a[c].z);return C.removeRepeatedPoints(b)}};bd.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor};bd.prototype.getNodedSubstrings=
function(){var a=this._noder.getNodedSubstrings();this._isScaled&&this.rescale(a);return a};bd.prototype.computeNodes=function(a){var b=a;this._isScaled&&(b=this.scale(a));this._noder.computeNodes(b)};bd.prototype.getClass=function(){return bd};$jscomp.global.Object.defineProperties(bd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[$d]}}});bd.constructor_=function(){this._offsetY=this._offsetX=this._scaleFactor=this._noder=null;this._isScaled=!1;if(2===arguments.length)bd.constructor_.call(this,
arguments[0],arguments[1],0,0);else if(4===arguments.length){var a=arguments[1];this._noder=arguments[0];this._scaleFactor=a;this._isScaled=!this.isIntegerPrecision()}};var ah=Object.freeze({MCIndexNoder:ec,ScaledNoder:bd,SegmentString:Kc}),pb=function(){pb.constructor_.apply(this,arguments)};pb.isSimple=function(){if(1===arguments.length){var a=new pb(arguments[0]);return a.isSimple()}if(2===arguments.length)return a=new pb(arguments[0],arguments[1]),a.isSimple()};pb.prototype.isSimpleMultiPoint=
function(a){if(a.isEmpty())return!0;for(var b=new Zb,c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c).getCoordinate();if(b.contains(d))return this._nonSimpleLocation=d,!1;b.add(d)}return!0};pb.prototype.isSimplePolygonal=function(a){for(a=Ya.getLines(a).iterator();a.hasNext();){var b=a.next();if(!this.isSimpleLinearGeometry(b))return!1}return!0};pb.prototype.hasClosedEndpointIntersection=function(a){var b=new Wa;for(a=a.getEdgeIterator();a.hasNext();){var c=a.next();c.getMaximumSegmentIndex();
var d=c.isClosed(),e=c.getCoordinate(0);this.addEndpoint(b,e,d);c=c.getCoordinate(c.getNumPoints()-1);this.addEndpoint(b,c,d)}for(a=b.values().iterator();a.hasNext();)if(b=a.next(),b.isClosed&&2!==b.degree)return this._nonSimpleLocation=b.getCoordinate(),!0;return!1};pb.prototype.getNonSimpleLocation=function(){return this._nonSimpleLocation};pb.prototype.isSimpleLinearGeometry=function(a){if(a.isEmpty())return!0;a=new W(0,a);var b=new ca;b=a.computeSelfNodes(b,!0);return b.hasIntersection()?b.hasProperIntersection()?
(this._nonSimpleLocation=b.getProperIntersectionPoint(),!1):this.hasNonEndpointIntersection(a)||this._isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(a)?!1:!0:!0};pb.prototype.hasNonEndpointIntersection=function(a){for(a=a.getEdgeIterator();a.hasNext();){var b=a.next(),c=b.getMaximumSegmentIndex();for(b=b.getEdgeIntersectionList().iterator();b.hasNext();){var d=b.next();if(!d.isEndPoint(c))return this._nonSimpleLocation=d.getCoordinate(),!0}}return!1};pb.prototype.addEndpoint=function(a,
b,c){var d=a.get(b);null===d&&(d=new He(b),a.put(b,d));d.addEndpoint(c)};pb.prototype.computeSimple=function(a){this._nonSimpleLocation=null;return a.isEmpty()?!0:a instanceof u||a instanceof Ba?this.isSimpleLinearGeometry(a):a instanceof Ga?this.isSimpleMultiPoint(a):v(a,Uc)?this.isSimplePolygonal(a):a instanceof x?this.isSimpleGeometryCollection(a):!0};pb.prototype.isSimple=function(){this._nonSimpleLocation=null;return this.computeSimple(this._inputGeom)};pb.prototype.isSimpleGeometryCollection=
function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);if(!this.computeSimple(c))return!1}return!0};pb.prototype.getClass=function(){return pb};$jscomp.global.Object.defineProperties(pb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var He=function(){He.constructor_.apply(this,arguments)};He.prototype.addEndpoint=function(a){this.degree++;this.isClosed|=a};He.prototype.getCoordinate=function(){return this.pt};He.prototype.getClass=function(){return He};
$jscomp.global.Object.defineProperties(He.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});He.constructor_=function(a){this.pt=a;this.isClosed=!1;this.degree=0};pb.EndpointInfo=He;pb.constructor_=function(){this._inputGeom=null;this._isClosedEndpointsInInterior=!0;this._nonSimpleLocation=null;if(1===arguments.length)this._inputGeom=arguments[0];else if(2===arguments.length){var a=arguments[1];this._inputGeom=arguments[0];this._isClosedEndpointsInInterior=!a.isInBoundary(2)}};
var K=function(){K.constructor_.apply(this,arguments)};K.bufferDistanceError=function(a){return 1-Math.cos(Math.PI/2/a/2)};K.prototype.getEndCapStyle=function(){return this._endCapStyle};K.prototype.isSingleSided=function(){return this._isSingleSided};K.prototype.setQuadrantSegments=function(a){this._quadrantSegments=a;0===this._quadrantSegments&&(this._joinStyle=K.JOIN_BEVEL);0>this._quadrantSegments&&(this._joinStyle=K.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments));0>=a&&(this._quadrantSegments=
1);this._joinStyle!==K.JOIN_ROUND&&(this._quadrantSegments=K.DEFAULT_QUADRANT_SEGMENTS)};K.prototype.getJoinStyle=function(){return this._joinStyle};K.prototype.setJoinStyle=function(a){this._joinStyle=a};K.prototype.setSimplifyFactor=function(a){this._simplifyFactor=0>a?0:a};K.prototype.getSimplifyFactor=function(){return this._simplifyFactor};K.prototype.getQuadrantSegments=function(){return this._quadrantSegments};K.prototype.setEndCapStyle=function(a){this._endCapStyle=a};K.prototype.getMitreLimit=
function(){return this._mitreLimit};K.prototype.setMitreLimit=function(a){this._mitreLimit=a};K.prototype.setSingleSided=function(a){this._isSingleSided=a};K.prototype.getClass=function(){return K};$jscomp.global.Object.defineProperties(K.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});K.constructor_=function(){this._quadrantSegments=K.DEFAULT_QUADRANT_SEGMENTS;this._endCapStyle=K.CAP_ROUND;this._joinStyle=K.JOIN_ROUND;this._mitreLimit=K.DEFAULT_MITRE_LIMIT;this._isSingleSided=
!1;this._simplifyFactor=K.DEFAULT_SIMPLIFY_FACTOR;if(0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var a=arguments[1];this.setQuadrantSegments(arguments[0]);this.setEndCapStyle(a)}else if(4===arguments.length){a=arguments[1];var b=arguments[2],c=arguments[3];this.setQuadrantSegments(arguments[0]);this.setEndCapStyle(a);this.setJoinStyle(b);this.setMitreLimit(c)}};K.CAP_ROUND=1;K.CAP_FLAT=2;K.CAP_SQUARE=3;K.JOIN_ROUND=1;K.JOIN_MITRE=
2;K.JOIN_BEVEL=3;K.DEFAULT_QUADRANT_SEGMENTS=8;K.DEFAULT_MITRE_LIMIT=5;K.DEFAULT_SIMPLIFY_FACTOR=.01;var Mc=function(){Mc.constructor_.apply(this,arguments)};Mc.prototype.getCoordinate=function(){return this._minCoord};Mc.prototype.getRightmostSide=function(a,b){var c=this.getRightmostSideOfSegment(a,b);0>c&&(c=this.getRightmostSideOfSegment(a,b-1));0>c&&(this._minCoord=null,this.checkForRightmostCoordinate(a));return c};Mc.prototype.findRightmostEdgeAtVertex=function(){var a=this._minDe.getEdge().getCoordinates();
w.isTrue(0<this._minIndex&&this._minIndex<a.length,"rightmost point expected to be interior vertex of edge");var b=a[this._minIndex-1];a=a[this._minIndex+1];var c=z.index(this._minCoord,a,b),d=!1;b.y<this._minCoord.y&&a.y<this._minCoord.y&&c===z.COUNTERCLOCKWISE?d=!0:b.y>this._minCoord.y&&a.y>this._minCoord.y&&c===z.CLOCKWISE&&(d=!0);d&&--this._minIndex};Mc.prototype.getRightmostSideOfSegment=function(a,b){a=a.getEdge().getCoordinates();if(0>b||b+1>=a.length||a[b].y===a[b+1].y)return-1;var c=p.LEFT;
a[b].y<a[b+1].y&&(c=p.RIGHT);return c};Mc.prototype.getEdge=function(){return this._orientedDe};Mc.prototype.checkForRightmostCoordinate=function(a){for(var b=a.getEdge().getCoordinates(),c=0;c<b.length-1;c++)if(null===this._minCoord||b[c].x>this._minCoord.x)this._minDe=a,this._minIndex=c,this._minCoord=b[c]};Mc.prototype.findRightmostEdgeAtNode=function(){this._minDe=this._minDe.getNode().getEdges().getRightmostEdge();this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-
1)};Mc.prototype.findEdge=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();b.isForward()&&this.checkForRightmostCoordinate(b)}w.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing");0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex();this._orientedDe=this._minDe;this.getRightmostSide(this._minDe,this._minIndex)===p.LEFT&&(this._orientedDe=this._minDe.getSym())};Mc.prototype.getClass=function(){return Mc};
$jscomp.global.Object.defineProperties(Mc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Mc.constructor_=function(){this._minIndex=-1;this._orientedDe=this._minDe=this._minCoord=null};fg.prototype.addLast=function(a){this.array_.push(a)};fg.prototype.removeFirst=function(){return this.array_.shift()};fg.prototype.isEmpty=function(){return 0===this.array_.length};var xb=function(){xb.constructor_.apply(this,arguments)};xb.prototype.clearVisitedEdges=function(){for(var a=
this._dirEdgeList.iterator();a.hasNext();)a.next().setVisited(!1)};xb.prototype.getRightmostCoordinate=function(){return this._rightMostCoord};xb.prototype.computeNodeDepth=function(a){for(var b=null,c=a.getEdges().iterator();c.hasNext();){var d=c.next();if(d.isVisited()||d.getSym().isVisited()){b=d;break}}if(null===b)throw new cc("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(b);for(c=a.getEdges().iterator();c.hasNext();)d=c.next(),d.setVisited(!0),this.copySymDepths(d)};
xb.prototype.computeDepth=function(a){this.clearVisitedEdges();var b=this._finder.getEdge();b.getNode();b.getLabel();b.setEdgeDepths(p.RIGHT,a);this.copySymDepths(b);this.computeDepths(b)};xb.prototype.create=function(a){this.addReachable(a);this._finder.findEdge(this._dirEdgeList);this._rightMostCoord=this._finder.getCoordinate()};xb.prototype.findResultEdges=function(){for(var a=this._dirEdgeList.iterator();a.hasNext();){var b=a.next();1<=b.getDepth(p.RIGHT)&&0>=b.getDepth(p.LEFT)&&!b.isInteriorAreaEdge()&&
b.setInResult(!0)}};xb.prototype.computeDepths=function(a){var b=new sb,c=new fg,d=a.getNode();c.addLast(d);b.add(d);for(a.setVisited(!0);!c.isEmpty();)for(a=c.removeFirst(),b.add(a),this.computeNodeDepth(a),a=a.getEdges().iterator();a.hasNext();)d=a.next().getSym(),d.isVisited()||(d=d.getNode(),b.contains(d)||(c.addLast(d),b.add(d)))};xb.prototype.compareTo=function(a){return this._rightMostCoord.x<a._rightMostCoord.x?-1:this._rightMostCoord.x>a._rightMostCoord.x?1:0};xb.prototype.getEnvelope=function(){if(null===
this._env){for(var a=new r,b=this._dirEdgeList.iterator();b.hasNext();)for(var c=b.next().getEdge().getCoordinates(),d=0;d<c.length-1;d++)a.expandToInclude(c[d]);this._env=a}return this._env};xb.prototype.addReachable=function(a){var b=new $b;for(b.add(a);!b.empty();)a=b.pop(),this.add(a,b)};xb.prototype.copySymDepths=function(a){var b=a.getSym();b.setDepth(p.LEFT,a.getDepth(p.RIGHT));b.setDepth(p.RIGHT,a.getDepth(p.LEFT))};xb.prototype.add=function(a,b){a.setVisited(!0);this._nodes.add(a);for(a=
a.getEdges().iterator();a.hasNext();){var c=a.next();this._dirEdgeList.add(c);c=c.getSym().getNode();c.isVisited()||b.push(c)}};xb.prototype.getNodes=function(){return this._nodes};xb.prototype.getDirectedEdges=function(){return this._dirEdgeList};xb.prototype.getClass=function(){return xb};$jscomp.global.Object.defineProperties(xb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc]}}});xb.constructor_=function(){this._finder=null;this._dirEdgeList=new m;this._nodes=new m;
this._env=this._rightMostCoord=null;this._finder=new Mc};var ya=function(){ya.constructor_.apply(this,arguments)};ya.prototype.computeRing=function(){if(null!==this._ring)return null;for(var a=Array(this._pts.size()).fill(null),b=0;b<this._pts.size();b++)a[b]=this._pts.get(b);this._ring=this._geometryFactory.createLinearRing(a);this._isHole=z.isCCW(this._ring.getCoordinates())};ya.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()};ya.prototype.computePoints=function(a){this._startDe=
a;var b=!0;do{if(null===a)throw new cc("Found null DirectedEdge");if(a.getEdgeRing()===this)throw new cc("Directed Edge visited twice during ring-building at "+a.getCoordinate());this._edges.add(a);var c=a.getLabel();w.isTrue(c.isArea());this.mergeLabel(c);this.addPoints(a.getEdge(),a.isForward(),b);b=!1;this.setEdgeRing(a,this);a=this.getNext(a)}while(a!==this._startDe)};ya.prototype.getLinearRing=function(){return this._ring};ya.prototype.getCoordinate=function(a){return this._pts.get(a)};ya.prototype.computeMaxNodeDegree=
function(){this._maxNodeDegree=0;var a=this._startDe;do{var b=a.getNode().getEdges().getOutgoingDegree(this);b>this._maxNodeDegree&&(this._maxNodeDegree=b);a=this.getNext(a)}while(a!==this._startDe);this._maxNodeDegree*=2};ya.prototype.addPoints=function(a,b,c){a=a.getCoordinates();if(b)for(b=1,c&&(b=0),c=b;c<a.length;c++)this._pts.add(a[c]);else for(b=a.length-2,c&&(b=a.length-1),c=b;0<=c;c--)this._pts.add(a[c])};ya.prototype.isHole=function(){return this._isHole};ya.prototype.setInResult=function(){var a=
this._startDe;do a.getEdge().setInResult(!0),a=a.getNext();while(a!==this._startDe)};ya.prototype.containsPoint=function(a){var b=this.getLinearRing();if(!b.getEnvelopeInternal().contains(a)||!jb.isInRing(a,b.getCoordinates()))return!1;for(b=this._holes.iterator();b.hasNext();)if(b.next().containsPoint(a))return!1;return!0};ya.prototype.addHole=function(a){this._holes.add(a)};ya.prototype.isShell=function(){return null===this._shell};ya.prototype.getLabel=function(){return this._label};ya.prototype.getEdges=
function(){return this._edges};ya.prototype.getMaxNodeDegree=function(){0>this._maxNodeDegree&&this.computeMaxNodeDegree();return this._maxNodeDegree};ya.prototype.getShell=function(){return this._shell};ya.prototype.mergeLabel=function(){if(1===arguments.length){var a=arguments[0];this.mergeLabel(a,0);this.mergeLabel(a,1)}else if(2===arguments.length){a=arguments[1];var b=arguments[0].getLocation(a,p.RIGHT);if(b===f.NONE)return null;if(this._label.getLocation(a)===f.NONE)return this._label.setLocation(a,
b),null}};ya.prototype.setShell=function(a){this._shell=a;null!==a&&a.addHole(this)};ya.prototype.toPolygon=function(a){for(var b=Array(this._holes.size()).fill(null),c=0;c<this._holes.size();c++)b[c]=this._holes.get(c).getLinearRing();return a.createPolygon(this.getLinearRing(),b)};ya.prototype.getClass=function(){return ya};$jscomp.global.Object.defineProperties(ya.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ya.constructor_=function(){this._startDe=null;this._maxNodeDegree=
-1;this._edges=new m;this._pts=new m;this._label=new T(f.NONE);this._shell=this._isHole=this._ring=null;this._holes=new m;this._geometryFactory=null;if(0!==arguments.length&&2===arguments.length){var a=arguments[0];this._geometryFactory=arguments[1];this.computePoints(a);this.computeRing()}};var Ie=function(){var a=ya.call(this)||this;Ie.constructor_.apply(a,arguments);return a};$jscomp.inherits(Ie,ya);Ie.prototype.setEdgeRing=function(a,b){a.setMinEdgeRing(b)};Ie.prototype.getNext=function(a){return a.getNextMin()};
Ie.prototype.getClass=function(){return Ie};$jscomp.global.Object.defineProperties(Ie.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ie.constructor_=function(a,b){ya.constructor_.call(this,a,b)};var nd=function(){var a=ya.call(this)||this;nd.constructor_.apply(a,arguments);return a};$jscomp.inherits(nd,ya);nd.prototype.buildMinimalRings=function(){var a=new m,b=this._startDe;do{if(null===b.getMinEdgeRing()){var c=new Ie(b,this._geometryFactory);a.add(c)}b=b.getNext()}while(b!==
this._startDe);return a};nd.prototype.setEdgeRing=function(a,b){a.setEdgeRing(b)};nd.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var a=this._startDe;do a.getNode().getEdges().linkMinimalDirectedEdges(this),a=a.getNext();while(a!==this._startDe)};nd.prototype.getNext=function(a){return a.getNext()};nd.prototype.getClass=function(){return nd};$jscomp.global.Object.defineProperties(nd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});nd.constructor_=function(a,
b){ya.constructor_.call(this,a,b)};var Rb=function(){Rb.constructor_.apply(this,arguments)};Rb.prototype.sortShellsAndHoles=function(a,b,c){for(a=a.iterator();a.hasNext();){var d=a.next();d.isHole()?c.add(d):b.add(d)}};Rb.prototype.computePolygons=function(a){var b=new m;for(a=a.iterator();a.hasNext();){var c=a.next().toPolygon(this._geometryFactory);b.add(c)}return b};Rb.prototype.placeFreeHoles=function(a,b){for(b=b.iterator();b.hasNext();){var c=b.next();if(null===c.getShell()){var d=this.findEdgeRingContaining(c,
a);if(null===d)throw new cc("unable to assign hole to a shell",c.getCoordinate(0));c.setShell(d)}}};Rb.prototype.buildMinimalEdgeRings=function(a,b,c){var d=new m;for(a=a.iterator();a.hasNext();){var e=a.next();if(2<e.getMaxNodeDegree()){e.linkDirectedEdgesForMinimalEdgeRings();e=e.buildMinimalRings();var g=this.findShell(e);null!==g?(this.placePolygonHoles(g,e),b.add(g)):c.addAll(e)}else d.add(e)}return d};Rb.prototype.containsPoint=function(a){for(var b=this._shellList.iterator();b.hasNext();)if(b.next().containsPoint(a))return!0;
return!1};Rb.prototype.buildMaximalEdgeRings=function(a){var b=new m;for(a=a.iterator();a.hasNext();){var c=a.next();c.isInResult()&&c.getLabel().isArea()&&null===c.getEdgeRing()&&(c=new nd(c,this._geometryFactory),b.add(c),c.setInResult())}return b};Rb.prototype.placePolygonHoles=function(a,b){for(b=b.iterator();b.hasNext();){var c=b.next();c.isHole()&&c.setShell(a)}};Rb.prototype.getPolygons=function(){return this.computePolygons(this._shellList)};Rb.prototype.findEdgeRingContaining=function(a,
b){var c=a.getLinearRing();a=c.getEnvelopeInternal();c=c.getCoordinateN(0);var d=null,e=null;for(b=b.iterator();b.hasNext();){var g=b.next(),f=g.getLinearRing(),h=f.getEnvelopeInternal();null!==d&&(e=d.getLinearRing().getEnvelopeInternal());var k=!1;h.contains(a)&&jb.isInRing(c,f.getCoordinates())&&(k=!0);k&&(null===d||e.contains(h))&&(d=g)}return d};Rb.prototype.findShell=function(a){var b=0,c=null;for(a=a.iterator();a.hasNext();){var d=a.next();d.isHole()||(c=d,b++)}w.isTrue(1>=b,"found two shells in MinimalEdgeRing list");
return c};Rb.prototype.add=function(){if(1===arguments.length){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(2===arguments.length){a=arguments[0];na.linkResultDirectedEdges(arguments[1]);var b=this.buildMaximalEdgeRings(a);a=new m;b=this.buildMinimalEdgeRings(b,this._shellList,a);this.sortShellsAndHoles(b,this._shellList,a);this.placeFreeHoles(this._shellList,a)}};Rb.prototype.getClass=function(){return Rb};$jscomp.global.Object.defineProperties(Rb.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});Rb.constructor_=function(a){this._geometryFactory=null;this._shellList=new m;this._geometryFactory=a};var va=function(){va.constructor_.apply(this,arguments)};va.simplify=function(a,b){return(new va(a)).simplify(b)};va.prototype.isDeletable=function(a,b,c,d){var e=this._inputLine[a];b=this._inputLine[b];var g=this._inputLine[c];return this.isConcave(e,b,g)&&this.isShallow(e,b,g,d)?this.isShallowSampled(e,b,a,c,d):!1};va.prototype.deleteShallowConcavities=
function(){for(var a=1,b=this.findNextNonDeletedIndex(a),c=this.findNextNonDeletedIndex(b),d=!1;c<this._inputLine.length;){var e=!1;this.isDeletable(a,b,c,this._distanceTol)&&(this._isDeleted[b]=va.DELETE,d=e=!0);a=e?c:b;b=this.findNextNonDeletedIndex(a);c=this.findNextNonDeletedIndex(b)}return d};va.prototype.isShallowConcavity=function(a,b,c,d){return z.index(a,b,c)!==this._angleOrientation?!1:Aa.pointToSegment(b,a,c)<d};va.prototype.isShallowSampled=function(a,b,c,d,e){var g=Math.trunc((d-c)/va.NUM_PTS_TO_CHECK);
for(0>=g&&(g=1);c<d;c+=g)if(!this.isShallow(a,b,this._inputLine[c],e))return!1;return!0};va.prototype.isConcave=function(a,b,c){return z.index(a,b,c)===this._angleOrientation};va.prototype.simplify=function(a){this._distanceTol=Math.abs(a);0>a&&(this._angleOrientation=z.CLOCKWISE);this._isDeleted=Array(this._inputLine.length).fill(null);do a=this.deleteShallowConcavities();while(a);return this.collapseLine()};va.prototype.findNextNonDeletedIndex=function(a){for(a+=1;a<this._inputLine.length&&this._isDeleted[a]===
va.DELETE;)a++;return a};va.prototype.isShallow=function(a,b,c,d){return Aa.pointToSegment(b,a,c)<d};va.prototype.collapseLine=function(){for(var a=new ea,b=0;b<this._inputLine.length;b++)this._isDeleted[b]!==va.DELETE&&a.add(this._inputLine[b]);return a.toCoordinateArray()};va.prototype.getClass=function(){return va};$jscomp.global.Object.defineProperties(va.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});va.constructor_=function(a){this._isDeleted=this._distanceTol=
null;this._angleOrientation=z.COUNTERCLOCKWISE;this._inputLine=a};va.INIT=0;va.DELETE=1;va.KEEP=1;va.NUM_PTS_TO_CHECK=10;var fc=function(){fc.constructor_.apply(this,arguments)};fc.prototype.getCoordinates=function(){return this._ptList.toArray(fc.COORDINATE_ARRAY_TYPE)};fc.prototype.setPrecisionModel=function(a){this._precisionModel=a};fc.prototype.addPt=function(a){a=new h(a);this._precisionModel.makePrecise(a);if(this.isRedundant(a))return null;this._ptList.add(a)};fc.prototype.reverse=function(){};
fc.prototype.addPts=function(a,b){if(b)for(b=0;b<a.length;b++)this.addPt(a[b]);else for(b=a.length-1;0<=b;b--)this.addPt(a[b])};fc.prototype.isRedundant=function(a){if(1>this._ptList.size())return!1;var b=this._ptList.get(this._ptList.size()-1);return a.distance(b)<this._minimimVertexDistance?!0:!1};fc.prototype.toString=function(){return(new B).createLineString(this.getCoordinates()).toString()};fc.prototype.closeRing=function(){if(1>this._ptList.size())return null;var a=new h(this._ptList.get(0)),
b=this._ptList.get(this._ptList.size()-1);2<=this._ptList.size()&&this._ptList.get(this._ptList.size()-2);if(a.equals(b))return null;this._ptList.add(a)};fc.prototype.setMinimumVertexDistance=function(a){this._minimimVertexDistance=a};fc.prototype.getClass=function(){return fc};$jscomp.global.Object.defineProperties(fc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});fc.constructor_=function(){this._precisionModel=this._ptList=null;this._minimimVertexDistance=0;this._ptList=
new m};fc.COORDINATE_ARRAY_TYPE=[].fill(null);var fa=function(){fa.constructor_.apply(this,arguments)};fa.prototype.addNextSegment=function(a,b){this._s0=this._s1;this._s1=this._s2;this._s2=a;this._seg0.setCoordinates(this._s0,this._s1);this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0);this._seg1.setCoordinates(this._s1,this._s2);this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1);if(this._s1.equals(this._s2))return null;a=z.index(this._s0,this._s1,
this._s2);var c=a===z.CLOCKWISE&&this._side===p.LEFT||a===z.COUNTERCLOCKWISE&&this._side===p.RIGHT;0===a?this.addCollinear(b):c?this.addOutsideTurn(a,b):this.addInsideTurn(a,b)};fa.prototype.addLineEndCap=function(a,b){var c=new q(a,b),d=new q;this.computeOffsetSegment(c,p.LEFT,this._distance,d);var e=new q;this.computeOffsetSegment(c,p.RIGHT,this._distance,e);a=Math.atan2(b.y-a.y,b.x-a.x);switch(this._bufParams.getEndCapStyle()){case K.CAP_ROUND:this._segList.addPt(d.p1);this.addDirectedFillet(b,
a+Math.PI/2,a-Math.PI/2,z.CLOCKWISE,this._distance);this._segList.addPt(e.p1);break;case K.CAP_FLAT:this._segList.addPt(d.p1);this._segList.addPt(e.p1);break;case K.CAP_SQUARE:b=new h,b.x=Math.abs(this._distance)*Math.cos(a),b.y=Math.abs(this._distance)*Math.sin(a),d=new h(d.p1.x+b.x,d.p1.y+b.y),e=new h(e.p1.x+b.x,e.p1.y+b.y),this._segList.addPt(d),this._segList.addPt(e)}};fa.prototype.getCoordinates=function(){return this._segList.getCoordinates()};fa.prototype.addMitreJoin=function(a,b,c,d){var e=
!0,g=null;try{g=ib.intersection(b.p0,b.p1,c.p0,c.p1),(0>=d?1:g.distance(a)/Math.abs(d))>this._bufParams.getMitreLimit()&&(e=!1)}catch(tg){if(tg instanceof Sc)g=new h(0,0),e=!1;else throw tg;}finally{}e?this._segList.addPt(g):this.addLimitedMitreJoin(b,c,d,this._bufParams.getMitreLimit())};fa.prototype.addOutsideTurn=function(a,b){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*fa.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===
K.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===K.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(b&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,a,this._distance),this._segList.addPt(this._offset1.p0))};fa.prototype.createSquare=function(a){this._segList.addPt(new h(a.x+this._distance,a.y+this._distance));this._segList.addPt(new h(a.x+this._distance,a.y-this._distance));
this._segList.addPt(new h(a.x-this._distance,a.y-this._distance));this._segList.addPt(new h(a.x-this._distance,a.y+this._distance));this._segList.closeRing()};fa.prototype.addSegments=function(a,b){this._segList.addPts(a,b)};fa.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)};fa.prototype.addCornerFillet=function(a,b,c,d,e){var g=Math.atan2(b.y-a.y,b.x-a.x),f=Math.atan2(c.y-a.y,c.x-a.x);d===z.CLOCKWISE?g<=f&&(g+=2*Math.PI):g>=f&&(g-=2*Math.PI);this._segList.addPt(b);this.addDirectedFillet(a,
g,f,d,e);this._segList.addPt(c)};fa.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)};fa.prototype.initSideSegments=function(a,b,c){this._s1=a;this._s2=b;this._side=c;this._seg1.setCoordinates(a,b);this.computeOffsetSegment(this._seg1,c,this._distance,this._offset1)};fa.prototype.addLimitedMitreJoin=function(a,b,c,d){a=this._seg0.p1;var e=H.angle(a,this._seg0.p0);H.angle(a,this._seg1.p1);b=H.angleBetweenOriented(this._seg0.p0,a,this._seg1.p1)/2;e=H.normalize(e+b);e=H.normalize(e+
Math.PI);d*=c;c-=d*Math.abs(Math.sin(b));d=new h(a.x+d*Math.cos(e),a.y+d*Math.sin(e));d=new q(a,d);a=d.pointAlongOffset(1,c);c=d.pointAlongOffset(1,-c);this._side===p.LEFT?(this._segList.addPt(a),this._segList.addPt(c)):(this._segList.addPt(c),this._segList.addPt(a))};fa.prototype.addDirectedFillet=function(a,b,c,d,e){d=d===z.CLOCKWISE?-1:1;c=Math.abs(b-c);var g=Math.trunc(c/this._filletAngleQuantum+.5);if(1>g)return null;g=c/g;for(var f=0,k=new h;f<c;){var l=b+d*f;k.x=a.x+e*Math.cos(l);k.y=a.y+e*
Math.sin(l);this._segList.addPt(k);f+=g}};fa.prototype.computeOffsetSegment=function(a,b,c,d){b=b===p.LEFT?1:-1;var e=a.p1.x-a.p0.x,g=a.p1.y-a.p0.y,f=Math.sqrt(e*e+g*g);e=b*c*e/f;c=b*c*g/f;d.p0.x=a.p0.x-c;d.p0.y=a.p0.y+e;d.p1.x=a.p1.x-c;d.p1.y=a.p1.y+e};fa.prototype.addInsideTurn=function(a,b){this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1);this._li.hasIntersection()?this._segList.addPt(this._li.getIntersection(0)):(this._hasNarrowConcaveAngle=!0,
this._offset0.p1.distance(this._offset1.p0)<this._distance*fa.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR?this._segList.addPt(this._offset0.p1):(this._segList.addPt(this._offset0.p1),0<this._closingSegLengthFactor?(a=new h((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1)),this._segList.addPt(a),a=new h((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+
1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1)),this._segList.addPt(a)):this._segList.addPt(this._s1),this._segList.addPt(this._offset1.p0)))};fa.prototype.createCircle=function(a){var b=new h(a.x+this._distance,a.y);this._segList.addPt(b);this.addDirectedFillet(a,0,2*Math.PI,-1,this._distance);this._segList.closeRing()};fa.prototype.addBevelJoin=function(a,b){this._segList.addPt(a.p1);this._segList.addPt(b.p0)};fa.prototype.init=function(a){this._distance=
a;this._maxCurveSegmentError=a*(1-Math.cos(this._filletAngleQuantum/2));this._segList=new fc;this._segList.setPrecisionModel(this._precisionModel);this._segList.setMinimumVertexDistance(a*fa.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};fa.prototype.addCollinear=function(a){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);2<=this._li.getIntersectionNum()&&(this._bufParams.getJoinStyle()===K.JOIN_BEVEL||this._bufParams.getJoinStyle()===K.JOIN_MITRE?(a&&this._segList.addPt(this._offset0.p1),
this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,z.CLOCKWISE,this._distance))};fa.prototype.closeRing=function(){this._segList.closeRing()};fa.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle};fa.prototype.getClass=function(){return fa};$jscomp.global.Object.defineProperties(fa.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});fa.constructor_=function(a,b,c){this._maxCurveSegmentError=
0;this._filletAngleQuantum=null;this._closingSegLengthFactor=1;this._segList=null;this._distance=0;this._s2=this._s1=this._s0=this._li=this._bufParams=this._precisionModel=null;this._seg0=new q;this._seg1=new q;this._offset0=new q;this._offset1=new q;this._side=0;this._hasNarrowConcaveAngle=!1;this._precisionModel=a;this._bufParams=b;this._li=new ca;this._filletAngleQuantum=Math.PI/2/b.getQuadrantSegments();8<=b.getQuadrantSegments()&&b.getJoinStyle()===K.JOIN_ROUND&&(this._closingSegLengthFactor=
fa.MAX_CLOSING_SEG_LEN_FACTOR);this.init(c)};fa.OFFSET_SEGMENT_SEPARATION_FACTOR=.001;fa.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001;fa.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1E-6;fa.MAX_CLOSING_SEG_LEN_FACTOR=80;var Gb=function(){Gb.constructor_.apply(this,arguments)};Gb.copyCoordinates=function(a){for(var b=Array(a.length).fill(null),c=0;c<b.length;c++)b[c]=new h(a[c]);return b};Gb.prototype.getOffsetCurve=function(a,b){this._distance=b;if(0===b)return null;var c=0>b;b=this.getSegGen(Math.abs(b));1>=
a.length?this.computePointCurve(a[0],b):this.computeOffsetCurve(a,c,b);a=b.getCoordinates();c&&C.reverse(a);return a};Gb.prototype.computeSingleSidedBufferCurve=function(a,b,c){var d=this.simplifyTolerance(this._distance);if(b)for(c.addSegments(a,!0),b=va.simplify(a,-d),a=b.length-1,c.initSideSegments(b[a],b[a-1],p.LEFT),c.addFirstSegment(),a-=2;0<=a;a--)c.addNextSegment(b[a],!0);else for(c.addSegments(a,!1),b=va.simplify(a,d),d=b.length-1,c.initSideSegments(b[0],b[1],p.LEFT),c.addFirstSegment(),
a=2;a<=d;a++)c.addNextSegment(b[a],!0);c.addLastSegment();c.closeRing()};Gb.prototype.computeRingBufferCurve=function(a,b,c){var d=this.simplifyTolerance(this._distance);b===p.RIGHT&&(d=-d);a=va.simplify(a,d);d=a.length-1;c.initSideSegments(a[d-1],a[0],b);for(b=1;b<=d;b++)c.addNextSegment(a[b],1!==b);c.closeRing()};Gb.prototype.computeLineBufferCurve=function(a,b){var c=this.simplifyTolerance(this._distance),d=va.simplify(a,c),e=d.length-1;b.initSideSegments(d[0],d[1],p.LEFT);for(var g=2;g<=e;g++)b.addNextSegment(d[g],
!0);b.addLastSegment();b.addLineEndCap(d[e-1],d[e]);a=va.simplify(a,-c);g=a.length-1;b.initSideSegments(a[g],a[g-1],p.LEFT);for(g-=2;0<=g;g--)b.addNextSegment(a[g],!0);b.addLastSegment();b.addLineEndCap(a[1],a[0]);b.closeRing()};Gb.prototype.computePointCurve=function(a,b){switch(this._bufParams.getEndCapStyle()){case K.CAP_ROUND:b.createCircle(a);break;case K.CAP_SQUARE:b.createSquare(a)}};Gb.prototype.getLineCurve=function(a,b){this._distance=b;if(0>b&&!this._bufParams.isSingleSided()||0===b)return null;
var c=this.getSegGen(Math.abs(b));1>=a.length?this.computePointCurve(a[0],c):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(a,0>b,c):this.computeLineBufferCurve(a,c);return c.getCoordinates()};Gb.prototype.getBufferParameters=function(){return this._bufParams};Gb.prototype.simplifyTolerance=function(a){return a*this._bufParams.getSimplifyFactor()};Gb.prototype.getRingCurve=function(a,b,c){this._distance=c;if(2>=a.length)return this.getLineCurve(a,c);if(0===c)return Gb.copyCoordinates(a);
c=this.getSegGen(c);this.computeRingBufferCurve(a,b,c);return c.getCoordinates()};Gb.prototype.computeOffsetCurve=function(a,b,c){var d=this.simplifyTolerance(this._distance);if(b)for(b=va.simplify(a,-d),a=b.length-1,c.initSideSegments(b[a],b[a-1],p.LEFT),c.addFirstSegment(),a-=2;0<=a;a--)c.addNextSegment(b[a],!0);else for(b=va.simplify(a,d),d=b.length-1,c.initSideSegments(b[0],b[1],p.LEFT),c.addFirstSegment(),a=2;a<=d;a++)c.addNextSegment(b[a],!0);c.addLastSegment()};Gb.prototype.getSegGen=function(a){return new fa(this._precisionModel,
this._bufParams,a)};Gb.prototype.getClass=function(){return Gb};$jscomp.global.Object.defineProperties(Gb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Gb.constructor_=function(a,b){this._distance=0;this._precisionModel=a;this._bufParams=b};var Je=function(){Je.constructor_.apply(this,arguments)};Je.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var a=arguments[0],b=new m,c=this._subgraphs.iterator();c.hasNext();){var d=c.next(),e=d.getEnvelope();
a.y<e.getMinY()||a.y>e.getMaxY()||this.findStabbedSegments(a,d.getDirectedEdges(),b)}return b}if(3===arguments.length)if(v(arguments[2],cb)&&arguments[0]instanceof h&&arguments[1]instanceof da)for(a=arguments[0],b=arguments[1],d=arguments[2],e=b.getEdge().getCoordinates(),c=0;c<e.length-1;c++){if(this._seg.p0=e[c],this._seg.p1=e[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<a.x||this._seg.isHorizontal()||a.y<this._seg.p0.y||a.y>this._seg.p1.y||z.index(this._seg.p0,
this._seg.p1,a)===z.RIGHT)){var g=b.getDepth(p.LEFT);this._seg.p0.equals(e[c])||(g=b.getDepth(p.RIGHT));g=new ae(this._seg,g);d.add(g)}}else if(v(arguments[2],cb)&&arguments[0]instanceof h&&v(arguments[1],cb))for(a=arguments[0],b=arguments[2],c=arguments[1].iterator();c.hasNext();)d=c.next(),d.isForward()&&this.findStabbedSegments(a,d,b)};Je.prototype.getDepth=function(a){a=this.findStabbedSegments(a);return 0===a.size()?0:zd.min(a)._leftDepth};Je.prototype.getClass=function(){return Je};$jscomp.global.Object.defineProperties(Je.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var ae=function(){ae.constructor_.apply(this,arguments)};ae.prototype.compareTo=function(a){if(this._upwardSeg.minX()>=a._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=a._upwardSeg.minX())return-1;var b=this._upwardSeg.orientationIndex(a._upwardSeg);if(0!==b)return b;b=-1*a._upwardSeg.orientationIndex(this._upwardSeg);return 0!==b?b:this._upwardSeg.compareTo(a._upwardSeg)};ae.prototype.compareX=function(a,b){var c=a.p0.compareTo(b.p0);
return 0!==c?c:a.p1.compareTo(b.p1)};ae.prototype.toString=function(){return this._upwardSeg.toString()};ae.prototype.getClass=function(){return ae};$jscomp.global.Object.defineProperties(ae.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc]}}});ae.constructor_=function(a,b){this._leftDepth=this._upwardSeg=null;this._upwardSeg=new q(a);this._leftDepth=b};Je.DepthSegment=ae;Je.constructor_=function(a){this._subgraphs=null;this._seg=new q;this._subgraphs=a};var nc=function(){nc.constructor_.apply(this,
arguments)};nc.prototype.addPoint=function(a){if(0>=this._distance)return null;a=a.getCoordinates();a=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(a,f.EXTERIOR,f.INTERIOR)};nc.prototype.addPolygon=function(a){var b=this._distance,c=p.LEFT;0>this._distance&&(b=-this._distance,c=p.RIGHT);var d=a.getExteriorRing(),e=C.removeRepeatedPoints(d.getCoordinates());if(0>this._distance&&this.isErodedCompletely(d,this._distance)||0>=this._distance&&3>e.length)return null;this.addPolygonRing(e,
b,c,f.EXTERIOR,f.INTERIOR);for(d=0;d<a.getNumInteriorRing();d++){e=a.getInteriorRingN(d);var g=C.removeRepeatedPoints(e.getCoordinates());0<this._distance&&this.isErodedCompletely(e,-this._distance)||this.addPolygonRing(g,b,p.opposite(c),f.INTERIOR,f.EXTERIOR)}};nc.prototype.isTriangleErodedCompletely=function(a,b){a=new S(a[0],a[1],a[2]);var c=a.inCentre();return Aa.pointToSegment(c,a.p0,a.p1)<Math.abs(b)};nc.prototype.addLineString=function(a){if(0>=this._distance&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;
a=C.removeRepeatedPoints(a.getCoordinates());a=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(a,f.EXTERIOR,f.INTERIOR)};nc.prototype.addCurve=function(a,b,c){if(null===a||2>a.length)return null;a=new Ia(a,new T(0,f.BOUNDARY,b,c));this._curveList.add(a)};nc.prototype.getCurves=function(){this.add(this._inputGeom);return this._curveList};nc.prototype.addPolygonRing=function(a,b,c,d,e){if(0===b&&a.length<ba.MINIMUM_VALID_SIZE)return null;var g=d,f=e;a.length>=ba.MINIMUM_VALID_SIZE&&
z.isCCW(a)&&(g=e,f=d,c=p.opposite(c));a=this._curveBuilder.getRingCurve(a,c,b);this.addCurve(a,g,f)};nc.prototype.add=function(a){if(a.isEmpty())return null;if(a instanceof D)this.addPolygon(a);else if(a instanceof u)this.addLineString(a);else if(a instanceof N)this.addPoint(a);else if(a instanceof Ga)this.addCollection(a);else if(a instanceof Ba)this.addCollection(a);else if(a instanceof ta)this.addCollection(a);else if(a instanceof x)this.addCollection(a);else throw new UnsupportedOperationException(a.getClass().getName());
};nc.prototype.isErodedCompletely=function(a,b){var c=a.getCoordinates();if(4>c.length)return 0>b;if(4===c.length)return this.isTriangleErodedCompletely(c,b);a=a.getEnvelopeInternal();a=Math.min(a.getHeight(),a.getWidth());return 0>b&&2*Math.abs(b)>a?!0:!1};nc.prototype.addCollection=function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);this.add(c)}};nc.prototype.getClass=function(){return nc};$jscomp.global.Object.defineProperties(nc.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});nc.constructor_=function(a,b,c){this._curveBuilder=this._distance=this._inputGeom=null;this._curveList=new m;this._inputGeom=a;this._distance=b;this._curveBuilder=c};var Na=function(){Na.constructor_.apply(this,arguments)};Na.prototype.getNextCW=function(a){this.getEdges();a=this._edgeList.indexOf(a);var b=a-1;0===a&&(b=this._edgeList.size()-1);return this._edgeList.get(b)};Na.prototype.propagateSideLabels=function(a){for(var b=f.NONE,c=this.iterator();c.hasNext();){var d=
c.next(),e=d.getLabel();e.isArea(a)&&e.getLocation(a,p.LEFT)!==f.NONE&&(b=e.getLocation(a,p.LEFT))}if(b===f.NONE)return null;for(c=this.iterator();c.hasNext();)if(d=c.next(),e=d.getLabel(),e.getLocation(a,p.ON)===f.NONE&&e.setLocation(a,p.ON,b),e.isArea(a)){var g=e.getLocation(a,p.LEFT),h=e.getLocation(a,p.RIGHT);if(h!==f.NONE){if(h!==b)throw new cc("side location conflict",d.getCoordinate());g===f.NONE&&w.shouldNeverReachHere("found single null side (at "+d.getCoordinate()+")");b=g}else w.isTrue(e.getLocation(a,
p.LEFT)===f.NONE,"found single null side"),e.setLocation(a,p.RIGHT,b),e.setLocation(a,p.LEFT,b)}};Na.prototype.getCoordinate=function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null};Na.prototype.print=function(a){wa.out.println("EdgeEndStar:   "+this.getCoordinate());for(var b=this.iterator();b.hasNext();)b.next().print(a)};Na.prototype.isAreaLabelsConsistent=function(a){this.computeEdgeEndLabels(a.getBoundaryNodeRule());return this.checkAreaLabelsConsistent(0)};Na.prototype.checkAreaLabelsConsistent=
function(a){var b=this.getEdges();if(0>=b.size())return!0;var c=b.size()-1;b=b.get(c).getLabel().getLocation(a,p.LEFT);w.isTrue(b!==f.NONE,"Found unlabelled area edge");for(c=this.iterator();c.hasNext();){var d=c.next().getLabel();w.isTrue(d.isArea(a),"Found non-area edge");var e=d.getLocation(a,p.LEFT);d=d.getLocation(a,p.RIGHT);if(e===d||d!==b)return!1;b=e}return!0};Na.prototype.findIndex=function(a){this.iterator();for(var b=0;b<this._edgeList.size();b++)if(this._edgeList.get(b)===a)return b;return-1};
Na.prototype.iterator=function(){return this.getEdges().iterator()};Na.prototype.getEdges=function(){null===this._edgeList&&(this._edgeList=new m(this._edgeMap.values()));return this._edgeList};Na.prototype.getLocation=function(a,b,c){this._ptInAreaLocation[a]===f.NONE&&(this._ptInAreaLocation[a]=kb.locate(b,c[a].getGeometry()));return this._ptInAreaLocation[a]};Na.prototype.toString=function(){var a=new bf;a.append("EdgeEndStar:   "+this.getCoordinate());a.append("\n");for(var b=this.iterator();b.hasNext();){var c=
b.next();a.append(c);a.append("\n")}return a.toString()};Na.prototype.computeEdgeEndLabels=function(a){for(var b=this.iterator();b.hasNext();)b.next().computeLabel(a)};Na.prototype.computeLabelling=function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule());this.propagateSideLabels(0);this.propagateSideLabels(1);for(var b=[!1,!1],c=this.iterator();c.hasNext();)for(var d=c.next(),e=d.getLabel(),g=0;2>g;g++)e.isLine(g)&&e.getLocation(g)===f.BOUNDARY&&(b[g]=!0);for(c=this.iterator();c.hasNext();)for(d=
c.next(),e=d.getLabel(),g=0;2>g;g++)if(e.isAnyNull(g)){if(b[g])var h=f.EXTERIOR;else h=d.getCoordinate(),h=this.getLocation(g,h,a);e.setAllLocationsIfNull(g,h)}};Na.prototype.getDegree=function(){return this._edgeMap.size()};Na.prototype.insertEdgeEnd=function(a,b){this._edgeMap.put(a,b);this._edgeList=null};Na.prototype.getClass=function(){return Na};$jscomp.global.Object.defineProperties(Na.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Na.constructor_=function(){this._edgeMap=
new Wa;this._edgeList=null;this._ptInAreaLocation=[f.NONE,f.NONE]};var qb=function(){var a=Na.call(this)||this;qb.constructor_.apply(a,arguments);return a};$jscomp.inherits(qb,Na);qb.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var a=null,b=null,c=this._SCANNING_FOR_INCOMING,d=0;d<this._resultAreaEdgeList.size();d++){var e=this._resultAreaEdgeList.get(d),g=e.getSym();if(e.getLabel().isArea())switch(null===a&&e.isInResult()&&(a=e),c){case this._SCANNING_FOR_INCOMING:if(!g.isInResult())continue;
b=g;c=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:e.isInResult()&&(b.setNext(e),c=this._SCANNING_FOR_INCOMING)}}if(c===this._LINKING_TO_OUTGOING){if(null===a)throw new cc("no outgoing dirEdge found",this.getCoordinate());w.isTrue(a.isInResult(),"unable to link last incoming dirEdge");b.setNext(a)}};qb.prototype.insert=function(a){this.insertEdgeEnd(a,a)};qb.prototype.getRightmostEdge=function(){var a=this.getEdges(),b=a.size();if(1>b)return null;var c=a.get(0);if(1===b)return c;
a=a.get(b-1);b=c.getQuadrant();var d=a.getQuadrant();if(X.isNorthern(b)&&X.isNorthern(d))return c;if(X.isNorthern(b)||X.isNorthern(d)){if(0!==c.getDy())return c;if(0!==a.getDy())return a}else return a;w.shouldNeverReachHere("found two horizontal edges incident on node");return null};qb.prototype.print=function(a){wa.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var b=this.iterator();b.hasNext();){var c=b.next();a.print("out ");c.print(a);a.println();a.print("in ");c.getSym().print(a);
a.println()}};qb.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new m;for(var a=this.iterator();a.hasNext();){var b=a.next();(b.isInResult()||b.getSym().isInResult())&&this._resultAreaEdgeList.add(b)}return this._resultAreaEdgeList};qb.prototype.updateLabelling=function(a){for(var b=this.iterator();b.hasNext();){var c=b.next().getLabel();c.setAllLocationsIfNull(0,a.getLocation(0));c.setAllLocationsIfNull(1,a.getLocation(1))}};
qb.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var a=null,b=null,c=this._edgeList.size()-1;0<=c;c--){var d=this._edgeList.get(c),e=d.getSym();null===b&&(b=e);null!==a&&e.setNext(a);a=d}b.setNext(a)};qb.prototype.computeDepths=function(){if(1===arguments.length){var a=arguments[0],b=this.findIndex(a);a.getLabel();var c=a.getDepth(p.LEFT),d=a.getDepth(p.RIGHT);c=this.computeDepths(b+1,this._edgeList.size(),c);if(this.computeDepths(0,b,c)!==d)throw new cc("depth mismatch at "+a.getCoordinate());
}else if(3===arguments.length){a=arguments[1];b=arguments[2];for(d=arguments[0];d<a;d++)c=this._edgeList.get(d),c.getLabel(),c.setEdgeDepths(p.RIGHT,b),b=c.getDepth(p.LEFT);return b}};qb.prototype.mergeSymLabels=function(){for(var a=this.iterator();a.hasNext();){var b=a.next();b.getLabel().merge(b.getSym().getLabel())}};qb.prototype.linkMinimalDirectedEdges=function(a){for(var b=null,c=null,d=this._SCANNING_FOR_INCOMING,e=this._resultAreaEdgeList.size()-1;0<=e;e--){var g=this._resultAreaEdgeList.get(e),
f=g.getSym();null===b&&g.getEdgeRing()===a&&(b=g);switch(d){case this._SCANNING_FOR_INCOMING:if(f.getEdgeRing()!==a)continue;c=f;d=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:g.getEdgeRing()===a&&(c.setNextMin(g),d=this._SCANNING_FOR_INCOMING)}}d===this._LINKING_TO_OUTGOING&&(w.isTrue(null!==b,"found null for first outgoing dirEdge"),w.isTrue(b.getEdgeRing()===a,"unable to link last incoming dirEdge"),c.setNextMin(b))};qb.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var a=
0,b=this.iterator();b.hasNext();){var c=b.next();c.isInResult()&&a++}return a}if(1===arguments.length){var d=arguments[0];a=0;for(b=this.iterator();b.hasNext();)c=b.next(),c.getEdgeRing()===d&&a++;return a}};qb.prototype.getLabel=function(){return this._label};qb.prototype.findCoveredLineEdges=function(){for(var a=f.NONE,b=this.iterator();b.hasNext();){var c=b.next(),d=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){a=f.INTERIOR;break}if(d.isInResult()){a=f.EXTERIOR;break}}}if(a===f.NONE)return null;
for(b=this.iterator();b.hasNext();)c=b.next(),d=c.getSym(),c.isLineEdge()?c.getEdge().setCovered(a===f.INTERIOR):(c.isInResult()&&(a=f.EXTERIOR),d.isInResult()&&(a=f.INTERIOR))};qb.prototype.computeLabelling=function(a){Na.prototype.computeLabelling.call(this,a);this._label=new T(f.NONE);for(a=this.iterator();a.hasNext();)for(var b=a.next().getEdge().getLabel(),c=0;2>c;c++){var d=b.getLocation(c);d!==f.INTERIOR&&d!==f.BOUNDARY||this._label.setLocation(c,f.INTERIOR)}};qb.prototype.getClass=function(){return qb};
$jscomp.global.Object.defineProperties(qb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});qb.constructor_=function(){this._label=this._resultAreaEdgeList=null;this._SCANNING_FOR_INCOMING=1;this._LINKING_TO_OUTGOING=2};var be=function(){var a=Ed.call(this)||this;be.constructor_.apply(a,arguments);return a};$jscomp.inherits(be,Ed);be.prototype.createNode=function(a){return new La(a,new qb)};be.prototype.getClass=function(){return be};$jscomp.global.Object.defineProperties(be.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});be.constructor_=function(){};var od=function(){od.constructor_.apply(this,arguments)};od.orientation=function(a){return 1===C.increasingDirection(a)};od.compareOriented=function(a,b,c,d){var e=b?1:-1,g=d?1:-1,f=b?a.length:-1,h=d?c.length:-1;b=b?0:a.length-1;for(d=d?0:c.length-1;;){var k=a[b].compareTo(c[d]);if(0!==k)return k;b+=e;d+=g;k=b===f;var l=d===h;if(k&&!l)return-1;if(!k&&l)return 1;if(k&&l)return 0}};od.prototype.compareTo=
function(a){return od.compareOriented(this._pts,this._orientation,a._pts,a._orientation)};od.prototype.getClass=function(){return od};$jscomp.global.Object.defineProperties(od.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc]}}});od.constructor_=function(a){this._orientation=null;this._pts=a;this._orientation=od.orientation(a)};var zc=function(){zc.constructor_.apply(this,arguments)};zc.prototype.print=function(a){a.print("MULTILINESTRING ( ");for(var b=0;b<this._edges.size();b++){var c=
this._edges.get(b);0<b&&a.print(",");a.print("(");c=c.getCoordinates();for(var d=0;d<c.length;d++)0<d&&a.print(","),a.print(c[d].x+" "+c[d].y);a.println(")")}a.print(")  ")};zc.prototype.addAll=function(a){for(a=a.iterator();a.hasNext();)this.add(a.next())};zc.prototype.findEdgeIndex=function(a){for(var b=0;b<this._edges.size();b++)if(this._edges.get(b).equals(a))return b;return-1};zc.prototype.iterator=function(){return this._edges.iterator()};zc.prototype.getEdges=function(){return this._edges};
zc.prototype.get=function(a){return this._edges.get(a)};zc.prototype.findEqualEdge=function(a){a=new od(a.getCoordinates());return this._ocaMap.get(a)};zc.prototype.add=function(a){this._edges.add(a);var b=new od(a.getCoordinates());this._ocaMap.put(b,a)};zc.prototype.getClass=function(){return zc};$jscomp.global.Object.defineProperties(zc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});zc.constructor_=function(){this._edges=new m;this._ocaMap=new Wa};var ce=function(){ce.constructor_.apply(this,
arguments)};ce.prototype.processIntersections=function(a,b,c,d){};ce.prototype.isDone=function(){};ce.prototype.getClass=function(){return ce};$jscomp.global.Object.defineProperties(ce.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ce.constructor_=function(){};var gc=function(){gc.constructor_.apply(this,arguments)};gc.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)};gc.prototype.isTrivialIntersection=function(a,b,c,d){return a===c&&1===this._li.getIntersectionNum()&&
(gc.isAdjacentSegments(b,d)||a.isClosed()&&(a=a.size()-1,0===b&&d===a||0===d&&b===a))?!0:!1};gc.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};gc.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};gc.prototype.getLineIntersector=function(){return this._li};gc.prototype.hasProperIntersection=function(){return this._hasProper};gc.prototype.processIntersections=function(a,b,c,d){if(a===c&&b===d)return null;this.numTests++;var e=a.getCoordinates()[b],
g=a.getCoordinates()[b+1],f=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this._li.computeIntersection(e,g,f,h);this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(a,b,c,d)||(this._hasIntersection=!0,a.addIntersections(this._li,b,0),c.addIntersections(this._li,d,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProperInterior=this._hasProper=!0)))};gc.prototype.hasIntersection=
function(){return this._hasIntersection};gc.prototype.isDone=function(){return!1};gc.prototype.hasInteriorIntersection=function(){return this._hasInterior};gc.prototype.getClass=function(){return gc};$jscomp.global.Object.defineProperties(gc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[ce]}}});gc.constructor_=function(a){this._hasInterior=this._hasProperInterior=this._hasProper=this._hasIntersection=!1;this._isSelfIntersection=this._properIntersectionPoint=null;this.numTests=
this.numProperIntersections=this.numInteriorIntersections=this.numIntersections=0;this._li=a};var yb=function(){yb.constructor_.apply(this,arguments)};yb.depthDelta=function(a){var b=a.getLocation(0,p.LEFT);a=a.getLocation(0,p.RIGHT);return b===f.INTERIOR&&a===f.EXTERIOR?1:b===f.EXTERIOR&&a===f.INTERIOR?-1:0};yb.convertSegStrings=function(a){for(var b=new B,c=new m;a.hasNext();){var d=a.next();d=b.createLineString(d.getCoordinates());c.add(d)}return b.buildGeometry(c)};yb.prototype.setWorkingPrecisionModel=
function(a){this._workingPrecisionModel=a};yb.prototype.insertUniqueEdge=function(a){var b=this._edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new T(a.getLabel()),d.flip());c.merge(d);a=yb.depthDelta(d);c=b.getDepthDelta();b.setDepthDelta(c+a)}else this._edgeList.add(a),a.setDepthDelta(yb.depthDelta(a.getLabel()))};yb.prototype.buildSubgraphs=function(a,b){var c=new m;for(a=a.iterator();a.hasNext();){var d=a.next(),e=d.getRightmostCoordinate();
e=(new Je(c)).getDepth(e);d.computeDepth(e);d.findResultEdges();c.add(d);b.add(d.getDirectedEdges(),d.getNodes())}};yb.prototype.createSubgraphs=function(a){var b=new m;for(a=a.getNodes().iterator();a.hasNext();){var c=a.next();if(!c.isVisited()){var d=new xb;d.create(c);b.add(d)}}zd.sort(b,zd.reverseOrder());return b};yb.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()};yb.prototype.getNoder=function(a){if(null!==this._workingNoder)return this._workingNoder;var b=
new ec,c=new ca;c.setPrecisionModel(a);b.setSegmentIntersector(new gc(c));return b};yb.prototype.buffer=function(a,b){var c=this._workingPrecisionModel;null===c&&(c=a.getPrecisionModel());this._geomFact=a.getFactory();var d=new Gb(c,this._bufParams);a=(new nc(a,b,d)).getCurves();if(0>=a.size())return this.createEmptyResultGeometry();this.computeNodedEdges(a,c);this._graph=new na(new be);this._graph.addEdges(this._edgeList.getEdges());c=this.createSubgraphs(this._graph);a=new Rb(this._geomFact);this.buildSubgraphs(c,
a);c=a.getPolygons();return 0>=c.size()?this.createEmptyResultGeometry():this._geomFact.buildGeometry(c)};yb.prototype.computeNodedEdges=function(a,b){b=this.getNoder(b);b.computeNodes(a);for(a=b.getNodedSubstrings().iterator();a.hasNext();){b=a.next();var c=b.getCoordinates();2===c.length&&c[0].equals2D(c[1])||(c=b.getData(),b=new Y(b.getCoordinates(),new T(c)),this.insertUniqueEdge(b))}};yb.prototype.setNoder=function(a){this._workingNoder=a};yb.prototype.getClass=function(){return yb};$jscomp.global.Object.defineProperties(yb.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});yb.constructor_=function(a){this._graph=this._geomFact=this._workingNoder=this._workingPrecisionModel=this._bufParams=null;this._edgeList=new zc;this._bufParams=a};var Nc=function(){Nc.constructor_.apply(this,arguments)};Nc.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();){var b=a.next();b=b.getCoordinates();this.checkEndPtVertexIntersections(b[0],this._segStrings);
this.checkEndPtVertexIntersections(b[b.length-1],this._segStrings)}else if(2===arguments.length){var c=arguments[0];for(a=arguments[1].iterator();a.hasNext();){b=a.next();b=b.getCoordinates();for(var d=1;d<b.length-1;d++)if(b[d].equals(c))throw new Va("found endpt/interior pt intersection at index "+d+" :pt "+c);}}};Nc.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();)for(var b=a.next(),c=this._segStrings.iterator();c.hasNext();){var d=
c.next();this.checkInteriorIntersections(b,d)}else if(2===arguments.length){a=arguments[0];b=arguments[1];c=a.getCoordinates();d=b.getCoordinates();for(var e=0;e<c.length-1;e++)for(var g=0;g<d.length-1;g++)this.checkInteriorIntersections(a,e,b,g)}else if(4===arguments.length){d=arguments[0];e=arguments[1];b=arguments[2];c=arguments[3];if(d===b&&e===c)return null;a=d.getCoordinates()[e];d=d.getCoordinates()[e+1];e=b.getCoordinates()[c];b=b.getCoordinates()[c+1];this._li.computeIntersection(a,d,e,b);
if(this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,a,d)||this.hasInteriorIntersection(this._li,e,b)))throw new Va("found non-noded intersection at "+a+"-"+d+" and "+e+"-"+b);}};Nc.prototype.checkValid=function(){this.checkEndPtVertexIntersections();this.checkInteriorIntersections();this.checkCollapses()};Nc.prototype.checkCollapses=function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();){var b=a.next();this.checkCollapses(b)}else if(1===
arguments.length)for(b=arguments[0].getCoordinates(),a=0;a<b.length-2;a++)this.checkCollapse(b[a],b[a+1],b[a+2])};Nc.prototype.hasInteriorIntersection=function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++){var e=a.getIntersection(d);if(!e.equals(b)&&!e.equals(c))return!0}return!1};Nc.prototype.checkCollapse=function(a,b,c){if(a.equals(c))throw new Va("found non-noded collapse at "+Nc.fact.createLineString([a,b,c]));};Nc.prototype.getClass=function(){return Nc};$jscomp.global.Object.defineProperties(Nc.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Nc.constructor_=function(a){this._li=new ca;this._segStrings=a};Nc.fact=new B;var Hb=function(){Hb.constructor_.apply(this,arguments)};Hb.prototype.intersectsScaled=function(a,b){var c=Math.max(a.x,b.x),d=Math.min(a.y,b.y),e=Math.max(a.y,b.y);if(c=this._maxx<Math.min(a.x,b.x)||this._minx>c||this._maxy<d||this._miny>e)return!1;a=this.intersectsToleranceSquare(a,b);w.isTrue(!(c&&a),"Found bad envelope test");return a};Hb.prototype.initCorners=
function(a){this._minx=a.x-.5;this._maxx=a.x+.5;this._miny=a.y-.5;this._maxy=a.y+.5;this._corner[0]=new h(this._maxx,this._maxy);this._corner[1]=new h(this._minx,this._maxy);this._corner[2]=new h(this._minx,this._miny);this._corner[3]=new h(this._maxx,this._miny)};Hb.prototype.intersects=function(a,b){if(1===this._scaleFactor)return this.intersectsScaled(a,b);this.copyScaled(a,this._p0Scaled);this.copyScaled(b,this._p1Scaled);return this.intersectsScaled(this._p0Scaled,this._p1Scaled)};Hb.prototype.scale=
function(a){return Math.round(a*this._scaleFactor)};Hb.prototype.getCoordinate=function(){return this._originalPt};Hb.prototype.copyScaled=function(a,b){b.x=this.scale(a.x);b.y=this.scale(a.y)};Hb.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var a=Hb.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new r(this._originalPt.x-a,this._originalPt.x+a,this._originalPt.y-a,this._originalPt.y+a)}return this._safeEnv};Hb.prototype.intersectsPixelClosure=function(a,b){this._li.computeIntersection(a,
b,this._corner[0],this._corner[1]);if(this._li.hasIntersection())return!0;this._li.computeIntersection(a,b,this._corner[1],this._corner[2]);if(this._li.hasIntersection())return!0;this._li.computeIntersection(a,b,this._corner[2],this._corner[3]);if(this._li.hasIntersection())return!0;this._li.computeIntersection(a,b,this._corner[3],this._corner[0]);return this._li.hasIntersection()?!0:!1};Hb.prototype.intersectsToleranceSquare=function(a,b){var c=!1,d=!1;this._li.computeIntersection(a,b,this._corner[0],
this._corner[1]);if(this._li.isProper())return!0;this._li.computeIntersection(a,b,this._corner[1],this._corner[2]);if(this._li.isProper())return!0;this._li.hasIntersection()&&(c=!0);this._li.computeIntersection(a,b,this._corner[2],this._corner[3]);if(this._li.isProper())return!0;this._li.hasIntersection()&&(d=!0);this._li.computeIntersection(a,b,this._corner[3],this._corner[0]);return this._li.isProper()||c&&d||a.equals(this._pt)||b.equals(this._pt)?!0:!1};Hb.prototype.addSnappedNode=function(a,b){var c=
a.getCoordinate(b),d=a.getCoordinate(b+1);return this.intersects(c,d)?(a.addIntersection(this.getCoordinate(),b),!0):!1};Hb.prototype.getClass=function(){return Hb};$jscomp.global.Object.defineProperties(Hb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Hb.constructor_=function(a,b,c){this._maxy=this._miny=this._maxx=this._minx=this._scaleFactor=this._p1Scaled=this._p0Scaled=this._ptScaled=this._originalPt=this._pt=this._li=null;this._corner=Array(4).fill(null);
this._safeEnv=null;this._pt=this._originalPt=a;this._scaleFactor=b;this._li=c;if(0>=b)throw new F("Scale factor must be non-zero");1!==b&&(this._pt=new h(this.scale(a.x),this.scale(a.y)),this._p0Scaled=new h,this._p1Scaled=new h);this.initCorners(this._pt)};Hb.SAFE_ENV_EXPANSION_FACTOR=.75;var Ke=function(){Ke.constructor_.apply(this,arguments)};Ke.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))};
Ke.prototype.getClass=function(){return Ke};$jscomp.global.Object.defineProperties(Ke.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ke.constructor_=function(){this.selectedSegment=new q};var qf=function(){qf.constructor_.apply(this,arguments)};qf.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=a.getSafeEnvelope(),e=new de(a,b,c);a=function(){};a.prototype.visitItem=
function(a){a.select(d,e)};$jscomp.global.Object.defineProperties(a.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[yd]}}});this._index.query(d,new a);return e.isNodeAdded()}};qf.prototype.getClass=function(){return qf};$jscomp.global.Object.defineProperties(qf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var de=function(){var a=Ke.call(this)||this;de.constructor_.apply(a,arguments);return a};$jscomp.inherits(de,Ke);de.prototype.isNodeAdded=
function(){return this._isNodeAdded};de.prototype.select=function(){if(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof Fb){var a=arguments[1],b=arguments[0].getContext();if(null!==this._parentEdge&&b===this._parentEdge&&a===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(b,a)}else return Ke.prototype.select.apply(this,arguments)};de.prototype.getClass=function(){return de};$jscomp.global.Object.defineProperties(de.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});de.constructor_=function(a,b,c){this._isNodeAdded=!1;this._hotPixel=a;this._parentEdge=b;this._hotPixelVertexIndex=c};qf.HotPixelSnapAction=de;qf.constructor_=function(a){this._index=a};var Le=function(){Le.constructor_.apply(this,arguments)};Le.prototype.processIntersections=function(a,b,c,d){if(a===c&&b===d)return null;var e=a.getCoordinates()[b],g=a.getCoordinates()[b+1],f=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this._li.computeIntersection(e,g,
f,h);if(this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(e=0;e<this._li.getIntersectionNum();e++)this._interiorIntersections.add(this._li.getIntersection(e));a.addIntersections(this._li,b,0);c.addIntersections(this._li,d,1)}};Le.prototype.isDone=function(){return!1};Le.prototype.getInteriorIntersections=function(){return this._interiorIntersections};Le.prototype.getClass=function(){return Le};$jscomp.global.Object.defineProperties(Le.prototype,{interfaces_:{configurable:!0,enumerable:!0,
get:function(){return[ce]}}});Le.constructor_=function(a){this._interiorIntersections=null;this._li=a;this._interiorIntersections=new m};var cd=function(){cd.constructor_.apply(this,arguments)};cd.prototype.checkCorrectness=function(a){a=Ia.getNodedSubstrings(a);a=new Nc(a);try{a.checkValid()}catch(b){if(b instanceof zf)b.printStackTrace();else throw b;}finally{}};cd.prototype.getNodedSubstrings=function(){return Ia.getNodedSubstrings(this._nodedSegStrings)};cd.prototype.snapRound=function(a,b){b=
this.findInteriorIntersections(a,b);this.computeIntersectionSnaps(b);this.computeVertexSnaps(a)};cd.prototype.findInteriorIntersections=function(a,b){b=new Le(b);this._noder.setSegmentIntersector(b);this._noder.computeNodes(a);return b.getInteriorIntersections()};cd.prototype.computeVertexSnaps=function(a){if(v(a,ra))for(a=a.iterator();a.hasNext();){var b=a.next();this.computeVertexSnaps(b)}else if(a instanceof Ia){b=a.getCoordinates();for(var c=0;c<b.length;c++){var d=new Hb(b[c],this._scaleFactor,
this._li);this._pointSnapper.snap(d,a,c)&&a.addIntersection(b[c],c)}}};cd.prototype.computeNodes=function(a){this._nodedSegStrings=a;this._noder=new ec;this._pointSnapper=new qf(this._noder.getIndex());this.snapRound(a,this._li)};cd.prototype.computeIntersectionSnaps=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();b=new Hb(b,this._scaleFactor,this._li);this._pointSnapper.snap(b)}};cd.prototype.getClass=function(){return cd};$jscomp.global.Object.defineProperties(cd.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[$d]}}});cd.constructor_=function(a){this._nodedSegStrings=this._pointSnapper=this._noder=this._scaleFactor=this._li=null;this._pm=a;this._li=new ca;this._li.setPrecisionModel(a);this._scaleFactor=a.getScale()};var za=function(){za.constructor_.apply(this,arguments)};za.bufferOp=function(){if(2===arguments.length){var a=arguments[1];return a=(new za(arguments[0])).getResultGeometry(a)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof
l&&"number"===typeof arguments[1]){var b=arguments[1],c=arguments[2];a=new za(arguments[0]);a.setQuadrantSegments(c);return a=a.getResultGeometry(b)}if(arguments[2]instanceof K&&arguments[0]instanceof l&&"number"===typeof arguments[1])return b=arguments[1],a=new za(arguments[0],arguments[2]),a=a.getResultGeometry(b)}else if(4===arguments.length){b=arguments[1];c=arguments[2];var d=arguments[3];a=new za(arguments[0]);a.setQuadrantSegments(c);a.setEndCapStyle(d);return a=a.getResultGeometry(b)}};za.precisionScaleFactor=
function(a,b,c){a=a.getEnvelopeInternal();b=ac.max(Math.abs(a.getMaxX()),Math.abs(a.getMaxY()),Math.abs(a.getMinX()),Math.abs(a.getMinY()))+2*(0<b?b:0);return Math.pow(10,c-Math.trunc(Math.log(b)/Math.log(10)+1))};za.prototype.bufferFixedPrecision=function(a){var b=new bd(new cd(new R(1)),a.getScale()),c=new yb(this._bufParams);c.setWorkingPrecisionModel(a);c.setNoder(b);this._resultGeometry=c.buffer(this._argGeom,this._distance)};za.prototype.bufferReducedPrecision=function(){if(0===arguments.length){for(var a=
za.MAX_PRECISION_DIGITS;0<=a;a--){try{this.bufferReducedPrecision(a)}catch(b){if(b instanceof cc)this._saveException=b;else throw b;}finally{}if(null!==this._resultGeometry)return null}throw this._saveException;}1===arguments.length&&(a=za.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),a=new R(a),this.bufferFixedPrecision(a))};za.prototype.computeGeometry=function(){this.bufferOriginalPrecision();if(null!==this._resultGeometry)return null;var a=this._argGeom.getFactory().getPrecisionModel();
a.getType()===R.FIXED?this.bufferFixedPrecision(a):this.bufferReducedPrecision()};za.prototype.setQuadrantSegments=function(a){this._bufParams.setQuadrantSegments(a)};za.prototype.bufferOriginalPrecision=function(){try{this._resultGeometry=(new yb(this._bufParams)).buffer(this._argGeom,this._distance)}catch(a){if(a instanceof Va)this._saveException=a;else throw a;}finally{}};za.prototype.getResultGeometry=function(a){this._distance=a;this.computeGeometry();return this._resultGeometry};za.prototype.setEndCapStyle=
function(a){this._bufParams.setEndCapStyle(a)};za.prototype.getClass=function(){return za};$jscomp.global.Object.defineProperties(za.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});za.constructor_=function(){this._distance=this._argGeom=null;this._bufParams=new K;this._saveException=this._resultGeometry=null;if(1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var a=arguments[1];this._argGeom=arguments[0];this._bufParams=a}};za.CAP_ROUND=
K.CAP_ROUND;za.CAP_BUTT=K.CAP_FLAT;za.CAP_FLAT=K.CAP_FLAT;za.CAP_SQUARE=K.CAP_SQUARE;za.MAX_PRECISION_DIGITS=12;var bh=Object.freeze({BufferOp:za,BufferParameters:K}),Gd=function(){Gd.constructor_.apply(this,arguments)};Gd.getPolygons=function(){if(1===arguments.length)return Gd.getPolygons(arguments[0],new m);if(2===arguments.length){var a=arguments[0],b=arguments[1];a instanceof D?b.add(a):a instanceof x&&a.apply(new Gd(b));return b}};Gd.prototype.filter=function(a){a instanceof D&&this._comps.add(a)};
Gd.prototype.getClass=function(){return Gd};$jscomp.global.Object.defineProperties(Gd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Gc]}}});Gd.constructor_=function(a){this._comps=a};var gb=function(){gb.constructor_.apply(this,arguments)};gb.prototype.isInsideArea=function(){return this._segIndex===gb.INSIDE_AREA};gb.prototype.getCoordinate=function(){return this._pt};gb.prototype.getGeometryComponent=function(){return this._component};gb.prototype.getSegmentIndex=function(){return this._segIndex};
gb.prototype.getClass=function(){return gb};$jscomp.global.Object.defineProperties(gb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});gb.constructor_=function(){this._pt=this._segIndex=this._component=null;if(2===arguments.length)gb.constructor_.call(this,arguments[0],gb.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var a=arguments[1],b=arguments[2];this._component=arguments[0];this._segIndex=a;this._pt=b}};gb.INSIDE_AREA=-1;var Hd=function(){Hd.constructor_.apply(this,
arguments)};Hd.getPoints=function(){if(1===arguments.length){var a=arguments[0];return a instanceof N?zd.singletonList(a):Hd.getPoints(a,new m)}if(2===arguments.length){a=arguments[0];var b=arguments[1];a instanceof N?b.add(a):a instanceof x&&a.apply(new Hd(b));return b}};Hd.prototype.filter=function(a){a instanceof N&&this._pts.add(a)};Hd.prototype.getClass=function(){return Hd};$jscomp.global.Object.defineProperties(Hd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Gc]}}});
Hd.constructor_=function(a){this._pts=a};var Me=function(){Me.constructor_.apply(this,arguments)};Me.getLocations=function(a){var b=new m;a.apply(new Me(b));return b};Me.prototype.filter=function(a){(a instanceof N||a instanceof u||a instanceof D)&&this._locations.add(new gb(a,0,a.getCoordinate()))};Me.prototype.getClass=function(){return Me};$jscomp.global.Object.defineProperties(Me.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Gc]}}});Me.constructor_=function(a){this._locations=
a};var Oa=function(){Oa.constructor_.apply(this,arguments)};Oa.distance=function(a,b){return(new Oa(a,b)).distance()};Oa.isWithinDistance=function(a,b,c){return a.getEnvelopeInternal().distance(b.getEnvelopeInternal())>c?!1:(new Oa(a,b,c)).distance()<=c};Oa.nearestPoints=function(a,b){return(new Oa(a,b)).nearestPoints()};Oa.prototype.computeContainmentDistance=function(){if(0===arguments.length){var a=Array(2).fill(null);this.computeContainmentDistance(0,a);if(this._minDistance<=this._terminateDistance)return null;
this.computeContainmentDistance(1,a)}else if(2===arguments.length){a=arguments[0];var b=arguments[1],c=this._geom[a];if(2>c.getDimension())return null;var d=1-a;c=Gd.getPolygons(c);if(0<c.size()){var e=Me.getLocations(this._geom[d]);this.computeContainmentDistance(e,c,b);if(this._minDistance<=this._terminateDistance)return this._minDistanceLocation[d]=b[0],this._minDistanceLocation[a]=b[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&v(arguments[0],cb)&&v(arguments[1],cb))for(a=
arguments[0],b=arguments[1],d=arguments[2],c=0;c<a.size();c++){e=a.get(c);for(var g=0;g<b.size();g++)if(this.computeContainmentDistance(e,b.get(g),d),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof gb&&arguments[1]instanceof D&&(a=arguments[0],b=arguments[1],d=arguments[2],c=a.getCoordinate(),f.EXTERIOR!==this._ptLocator.locate(c,b)))return this._minDistance=0,d[0]=a,d[1]=new gb(b,c),null};Oa.prototype.computeMinDistanceLinesPoints=
function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),g=0;g<b.size();g++){var f=b.get(g);this.computeMinDistance(e,f,c);if(this._minDistance<=this._terminateDistance)return null}};Oa.prototype.computeFacetDistance=function(){var a=Array(2).fill(null),b=Ya.getLines(this._geom[0]),c=Ya.getLines(this._geom[1]),d=Hd.getPoints(this._geom[0]),e=Hd.getPoints(this._geom[1]);this.computeMinDistanceLines(b,c,a);this.updateMinDistance(a,!1);if(this._minDistance<=this._terminateDistance)return null;a[0]=
null;a[1]=null;this.computeMinDistanceLinesPoints(b,e,a);this.updateMinDistance(a,!1);if(this._minDistance<=this._terminateDistance)return null;a[0]=null;a[1]=null;this.computeMinDistanceLinesPoints(c,d,a);this.updateMinDistance(a,!0);if(this._minDistance<=this._terminateDistance)return null;a[0]=null;a[1]=null;this.computeMinDistancePoints(d,e,a);this.updateMinDistance(a,!1)};Oa.prototype.nearestLocations=function(){this.computeMinDistance();return this._minDistanceLocation};Oa.prototype.updateMinDistance=
function(a,b){if(null===a[0])return null;b?(this._minDistanceLocation[0]=a[1],this._minDistanceLocation[1]=a[0]):(this._minDistanceLocation[0]=a[0],this._minDistanceLocation[1]=a[1])};Oa.prototype.nearestPoints=function(){this.computeMinDistance();return[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]};Oa.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;this._minDistanceLocation=Array(2).fill(null);
this.computeContainmentDistance();if(this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof u&&arguments[1]instanceof N){var a=arguments[0],b=arguments[1],c=arguments[2];if(a.getEnvelopeInternal().distance(b.getEnvelopeInternal())>this._minDistance)return null;for(var d=a.getCoordinates(),e=b.getCoordinate(),g=0;g<d.length-1;g++){var f=Aa.pointToSegment(e,d[g],d[g+1]);f<this._minDistance&&
(this._minDistance=f,f=(new q(d[g],d[g+1])).closestPoint(e),c[0]=new gb(a,g,f),c[1]=new gb(b,0,e));if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof u&&arguments[1]instanceof u){a=arguments[0];b=arguments[1];c=arguments[2];if(a.getEnvelopeInternal().distance(b.getEnvelopeInternal())>this._minDistance)return null;d=a.getCoordinates();e=b.getCoordinates();for(g=0;g<d.length-1;g++)for(var h=0;h<e.length-1;h++){f=Aa.segmentToSegment(d[g],
d[g+1],e[h],e[h+1]);if(f<this._minDistance){this._minDistance=f;f=new q(d[g],d[g+1]);var k=new q(e[h],e[h+1]);f=f.closestPoints(k);c[0]=new gb(a,g,f[0]);c[1]=new gb(b,h,f[1])}if(this._minDistance<=this._terminateDistance)return null}}};Oa.prototype.computeMinDistancePoints=function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),g=0;g<b.size();g++){var f=b.get(g),h=e.getCoordinate().distance(f.getCoordinate());h<this._minDistance&&(this._minDistance=h,c[0]=new gb(e,0,e.getCoordinate()),c[1]=
new gb(f,0,f.getCoordinate()));if(this._minDistance<=this._terminateDistance)return null}};Oa.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new F("null geometries are not supported");if(this._geom[0].isEmpty()||this._geom[1].isEmpty())return 0;this.computeMinDistance();return this._minDistance};Oa.prototype.computeMinDistanceLines=function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),g=0;g<b.size();g++){var f=b.get(g);this.computeMinDistance(e,f,c);if(this._minDistance<=
this._terminateDistance)return null}};Oa.prototype.getClass=function(){return Oa};$jscomp.global.Object.defineProperties(Oa.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Oa.constructor_=function(){this._geom=null;this._terminateDistance=0;this._ptLocator=new Pb;this._minDistanceLocation=null;this._minDistance=y.MAX_VALUE;if(2===arguments.length)Oa.constructor_.call(this,arguments[0],arguments[1],0);else if(3===arguments.length){var a=arguments[0],b=arguments[1],
c=arguments[2];this._geom=Array(2).fill(null);this._geom[0]=a;this._geom[1]=b;this._terminateDistance=c}};var ch=Object.freeze({DistanceOp:Oa}),Ne=function(){Ne.constructor_.apply(this,arguments)};Ne.prototype.getCoordinates=function(){if(null===this._coordinates){for(var a=0,b=0,c=new ea,d=this._directedEdges.iterator();d.hasNext();){var e=d.next();e.getEdgeDirection()?a++:b++;c.add(e.getEdge().getLine().getCoordinates(),!1,e.getEdgeDirection())}this._coordinates=c.toCoordinateArray();b>a&&C.reverse(this._coordinates)}return this._coordinates};
Ne.prototype.toLineString=function(){return this._factory.createLineString(this.getCoordinates())};Ne.prototype.add=function(a){this._directedEdges.add(a)};Ne.prototype.getClass=function(){return Ne};$jscomp.global.Object.defineProperties(Ne.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ne.constructor_=function(a){this._factory=null;this._directedEdges=new m;this._coordinates=null;this._factory=a};var Sa=function(){Sa.constructor_.apply(this,arguments)};Sa.getComponentWithVisitedState=
function(a,b){for(;a.hasNext();){var c=a.next();if(c.isVisited()===b)return c}return null};Sa.setVisited=function(a,b){for(;a.hasNext();)a.next().setVisited(b)};Sa.setMarked=function(a,b){for(;a.hasNext();)a.next().setMarked(b)};Sa.prototype.setVisited=function(a){this._isVisited=a};Sa.prototype.isMarked=function(){return this._isMarked};Sa.prototype.setData=function(a){this._data=a};Sa.prototype.getData=function(){return this._data};Sa.prototype.setMarked=function(a){this._isMarked=a};Sa.prototype.getContext=
function(){return this._data};Sa.prototype.isVisited=function(){return this._isVisited};Sa.prototype.setContext=function(a){this._data=a};Sa.prototype.getClass=function(){return Sa};$jscomp.global.Object.defineProperties(Sa.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Sa.constructor_=function(){this._isVisited=this._isMarked=!1;this._data=null};var ha=function(){var a=Sa.call(this)||this;ha.constructor_.apply(a,arguments);return a};$jscomp.inherits(ha,Sa);ha.toEdges=
function(a){var b=new m;for(a=a.iterator();a.hasNext();)b.add(a.next()._parentEdge);return b};ha.prototype.isRemoved=function(){return null===this._parentEdge};ha.prototype.compareDirection=function(a){return this._quadrant>a._quadrant?1:this._quadrant<a._quadrant?-1:z.index(a._p0,a._p1,this._p1)};ha.prototype.getCoordinate=function(){return this._from.getCoordinate()};ha.prototype.print=function(a){var b=this.getClass().getName(),c=b.lastIndexOf(".");b=b.substring(c+1);a.print("  "+b+": "+this._p0+
" - "+this._p1+" "+this._quadrant+":"+this._angle)};ha.prototype.getDirectionPt=function(){return this._p1};ha.prototype.getAngle=function(){return this._angle};ha.prototype.compareTo=function(a){return this.compareDirection(a)};ha.prototype.getFromNode=function(){return this._from};ha.prototype.getSym=function(){return this._sym};ha.prototype.setEdge=function(a){this._parentEdge=a};ha.prototype.remove=function(){this._parentEdge=this._sym=null};ha.prototype.getEdge=function(){return this._parentEdge};
ha.prototype.getQuadrant=function(){return this._quadrant};ha.prototype.setSym=function(a){this._sym=a};ha.prototype.getToNode=function(){return this._to};ha.prototype.getEdgeDirection=function(){return this._edgeDirection};ha.prototype.getClass=function(){return ha};$jscomp.global.Object.defineProperties(ha.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc]}}});ha.constructor_=function(){this._angle=this._quadrant=this._edgeDirection=this._sym=this._p1=this._p0=this._to=
this._from=this._parentEdge=null;if(0!==arguments.length&&4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this._from=a;this._to=b;this._edgeDirection=d;this._p0=a.getCoordinate();this._p1=c;a=this._p1.x-this._p0.x;b=this._p1.y-this._p0.y;this._quadrant=X.quadrant(a,b);this._angle=Math.atan2(b,a)}};var Oe=function(){var a=ha.call(this)||this;Oe.constructor_.apply(a,arguments);return a};$jscomp.inherits(Oe,ha);Oe.prototype.getNext=function(){if(2!==this.getToNode().getDegree())return null;
if(this.getToNode().getOutEdges().getEdges().get(0)===this.getSym())return this.getToNode().getOutEdges().getEdges().get(1);w.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym());return this.getToNode().getOutEdges().getEdges().get(0)};Oe.prototype.getClass=function(){return Oe};$jscomp.global.Object.defineProperties(Oe.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Oe.constructor_=function(a,b,c,d){ha.constructor_.call(this,a,b,c,d)};var Ib=
function(){var a=Sa.call(this)||this;Ib.constructor_.apply(a,arguments);return a};$jscomp.inherits(Ib,Sa);Ib.prototype.isRemoved=function(){return null===this._dirEdge};Ib.prototype.setDirectedEdges=function(a,b){this._dirEdge=[a,b];a.setEdge(this);b.setEdge(this);a.setSym(b);b.setSym(a);a.getFromNode().addOutEdge(a);b.getFromNode().addOutEdge(b)};Ib.prototype.getDirEdge=function(a){if(Number.isInteger(a))return this._dirEdge[a];if(a instanceof zb)return this._dirEdge[0].getFromNode()===a?this._dirEdge[0]:
this._dirEdge[1].getFromNode()===a?this._dirEdge[1]:null};Ib.prototype.remove=function(){this._dirEdge=null};Ib.prototype.getOppositeNode=function(a){return this._dirEdge[0].getFromNode()===a?this._dirEdge[0].getToNode():this._dirEdge[1].getFromNode()===a?this._dirEdge[1].getToNode():null};Ib.prototype.getClass=function(){return Ib};$jscomp.global.Object.defineProperties(Ib.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ib.constructor_=function(){this._dirEdge=null;
0!==arguments.length&&2===arguments.length&&this.setDirectedEdges(arguments[0],arguments[1])};var oc=function(){oc.constructor_.apply(this,arguments)};oc.prototype.getNextEdge=function(a){a=this.getIndex(a);return this._outEdges.get(this.getIndex(a+1))};oc.prototype.getCoordinate=function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null};oc.prototype.iterator=function(){this.sortEdges();return this._outEdges.iterator()};oc.prototype.sortEdges=function(){this._sorted||(zd.sort(this._outEdges),
this._sorted=!0)};oc.prototype.remove=function(a){this._outEdges.remove(a)};oc.prototype.getEdges=function(){this.sortEdges();return this._outEdges};oc.prototype.getNextCWEdge=function(a){a=this.getIndex(a);return this._outEdges.get(this.getIndex(a-1))};oc.prototype.getIndex=function(a){if(a instanceof Ib){this.sortEdges();for(var b=0;b<this._outEdges.size();b++){var c=this._outEdges.get(b);if(c.getEdge()===a)return b}return-1}if(a instanceof ha){this.sortEdges();for(b=0;b<this._outEdges.size();b++)if(c=
this._outEdges.get(b),c===a)return b;return-1}if(Number.isInteger(a))return a%=this._outEdges.size(),0>a&&(a+=this._outEdges.size()),a};oc.prototype.add=function(a){this._outEdges.add(a);this._sorted=!1};oc.prototype.getDegree=function(){return this._outEdges.size()};oc.prototype.getClass=function(){return oc};$jscomp.global.Object.defineProperties(oc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});oc.constructor_=function(){this._outEdges=new m;this._sorted=!1};
var zb=function(){var a=Sa.call(this)||this;zb.constructor_.apply(a,arguments);return a};$jscomp.inherits(zb,Sa);zb.getEdgesBetween=function(a,b){a=ha.toEdges(a.getOutEdges().getEdges());a=new sb(a);b=ha.toEdges(b.getOutEdges().getEdges());a.retainAll(b);return a};zb.prototype.isRemoved=function(){return null===this._pt};zb.prototype.addOutEdge=function(a){this._deStar.add(a)};zb.prototype.getCoordinate=function(){return this._pt};zb.prototype.getOutEdges=function(){return this._deStar};zb.prototype.remove=
function(){0===arguments.length?this._pt=null:1===arguments.length&&this._deStar.remove(arguments[0])};zb.prototype.getIndex=function(a){return this._deStar.getIndex(a)};zb.prototype.getDegree=function(){return this._deStar.getDegree()};zb.prototype.getClass=function(){return zb};$jscomp.global.Object.defineProperties(zb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});zb.constructor_=function(){this._deStar=this._pt=null;if(1===arguments.length)zb.constructor_.call(this,
arguments[0],new oc);else if(2===arguments.length){var a=arguments[1];this._pt=arguments[0];this._deStar=a}};var rf=function(){var a=Ib.call(this)||this;rf.constructor_.apply(a,arguments);return a};$jscomp.inherits(rf,Ib);rf.prototype.getLine=function(){return this._line};rf.prototype.getClass=function(){return rf};$jscomp.global.Object.defineProperties(rf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});rf.constructor_=function(a){this._line=a};var Id=function(){Id.constructor_.apply(this,
arguments)};Id.prototype.find=function(a){return this._nodeMap.get(a)};Id.prototype.iterator=function(){return this._nodeMap.values().iterator()};Id.prototype.remove=function(a){return this._nodeMap.remove(a)};Id.prototype.values=function(){return this._nodeMap.values()};Id.prototype.add=function(a){this._nodeMap.put(a.getCoordinate(),a);return a};Id.prototype.getClass=function(){return Id};$jscomp.global.Object.defineProperties(Id.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
Id.constructor_=function(){this._nodeMap=new Wa};var Jb=function(){Jb.constructor_.apply(this,arguments)};Jb.prototype.findNodesOfDegree=function(a){for(var b=new m,c=this.nodeIterator();c.hasNext();){var d=c.next();d.getDegree()===a&&b.add(d)}return b};Jb.prototype.dirEdgeIterator=function(){return this._dirEdges.iterator()};Jb.prototype.edgeIterator=function(){return this._edges.iterator()};Jb.prototype.remove=function(a){if(a instanceof Ib)this.remove(a.getDirEdge(0)),this.remove(a.getDirEdge(1)),
this._edges.remove(a),a.remove();else if(a instanceof ha){var b=a.getSym();null!==b&&b.setSym(null);a.getFromNode().remove(a);a.remove();this._dirEdges.remove(a)}else if(a instanceof zb){for(var c=a.getOutEdges().getEdges().iterator();c.hasNext();){var d=c.next();b=d.getSym();null!==b&&this.remove(b);this._dirEdges.remove(d);b=d.getEdge();null!==b&&this._edges.remove(b)}this._nodeMap.remove(a.getCoordinate());a.remove()}};Jb.prototype.findNode=function(a){return this._nodeMap.find(a)};Jb.prototype.getEdges=
function(){return this._edges};Jb.prototype.nodeIterator=function(){return this._nodeMap.iterator()};Jb.prototype.contains=function(a){if(a instanceof Ib)return this._edges.contains(a);if(a instanceof ha)return this._dirEdges.contains(a)};Jb.prototype.add=function(a){a instanceof zb?this._nodeMap.add(a):a instanceof Ib?(this._edges.add(a),this.add(a.getDirEdge(0)),this.add(a.getDirEdge(1))):a instanceof ha&&this._dirEdges.add(a)};Jb.prototype.getNodes=function(){return this._nodeMap.values()};Jb.prototype.getClass=
function(){return Jb};$jscomp.global.Object.defineProperties(Jb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Jb.constructor_=function(){this._edges=new sb;this._dirEdges=new sb;this._nodeMap=new Id};var Pe=function(){var a=Jb.call(this)||this;Pe.constructor_.apply(a,arguments);return a};$jscomp.inherits(Pe,Jb);Pe.prototype.addEdge=function(a){if(a.isEmpty())return null;var b=C.removeRepeatedPoints(a.getCoordinates());if(1>=b.length)return null;var c=b[b.length-
1],d=this.getNode(b[0]),e=this.getNode(c);c=new Oe(d,e,b[1],!0);b=new Oe(e,d,b[b.length-2],!1);a=new rf(a);a.setDirectedEdges(c,b);this.add(a)};Pe.prototype.getNode=function(a){var b=this.findNode(a);null===b&&(b=new zb(a),this.add(b));return b};Pe.prototype.getClass=function(){return Pe};$jscomp.global.Object.defineProperties(Pe.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Pe.constructor_=function(){};var Ac=function(){Ac.constructor_.apply(this,arguments)};Ac.prototype.buildEdgeStringsForUnprocessedNodes=
function(){for(var a=this._graph.getNodes().iterator();a.hasNext();){var b=a.next();b.isMarked()||(w.isTrue(2===b.getDegree()),this.buildEdgeStringsStartingAt(b),b.setMarked(!0))}};Ac.prototype.buildEdgeStringsForNonDegree2Nodes=function(){for(var a=this._graph.getNodes().iterator();a.hasNext();){var b=a.next();2!==b.getDegree()&&(this.buildEdgeStringsStartingAt(b),b.setMarked(!0))}};Ac.prototype.buildEdgeStringsForObviousStartNodes=function(){this.buildEdgeStringsForNonDegree2Nodes()};Ac.prototype.getMergedLineStrings=
function(){this.merge();return this._mergedLineStrings};Ac.prototype.buildEdgeStringsStartingAt=function(a){for(a=a.getOutEdges().iterator();a.hasNext();){var b=a.next();b.getEdge().isMarked()||this._edgeStrings.add(this.buildEdgeStringStartingWith(b))}};Ac.prototype.merge=function(){if(null!==this._mergedLineStrings)return null;Sa.setMarked(this._graph.nodeIterator(),!1);Sa.setMarked(this._graph.edgeIterator(),!1);this._edgeStrings=new m;this.buildEdgeStringsForObviousStartNodes();this.buildEdgeStringsForIsolatedLoops();
this._mergedLineStrings=new m;for(var a=this._edgeStrings.iterator();a.hasNext();){var b=a.next();this._mergedLineStrings.add(b.toLineString())}};Ac.prototype.buildEdgeStringStartingWith=function(a){var b=new Ne(this._factory),c=a;do b.add(c),c.getEdge().setMarked(!0),c=c.getNext();while(null!==c&&c!==a);return b};Ac.prototype.add=function(a){if(a instanceof l){var b=function(){};b.prototype.filter=function(a){a instanceof u&&this.add(a)};$jscomp.global.Object.defineProperties(b.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[jc]}}});a.apply(new b)}else if(v(a,ra))for(this._mergedLineStrings=null,a=a.iterator();a.hasNext();)b=a.next(),this.add(b);else a instanceof u&&(null===this._factory&&(this._factory=a.getFactory()),this._graph.addEdge(a))};Ac.prototype.buildEdgeStringsForIsolatedLoops=function(){this.buildEdgeStringsForUnprocessedNodes()};Ac.prototype.getClass=function(){return Ac};$jscomp.global.Object.defineProperties(Ac.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
Ac.constructor_=function(){this._graph=new Pe;this._edgeStrings=this._factory=this._mergedLineStrings=null};var dh=Object.freeze({LineMerger:Ac}),Oc=function(){Oc.constructor_.apply(this,arguments)};Oc.prototype.getCoordinates=function(){return this._pts};Oc.prototype.size=function(){return this._pts.length};Oc.prototype.getCoordinate=function(a){return this._pts[a]};Oc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};Oc.prototype.getSegmentOctant=function(a){return a===
this._pts.length-1?-1:De.octant(this.getCoordinate(a),this.getCoordinate(a+1))};Oc.prototype.setData=function(a){this._data=a};Oc.prototype.getData=function(){return this._data};Oc.prototype.toString=function(){return Bb.toLineString(new Ha(this._pts))};Oc.prototype.getClass=function(){return Oc};$jscomp.global.Object.defineProperties(Oc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Kc]}}});Oc.constructor_=function(a,b){this._pts=a;this._data=b};var $a=function(){$a.constructor_.apply(this,
arguments)};$a.createAllIntersectionsFinder=function(a){a=new $a(a);a.setFindAllIntersections(!0);return a};$a.createAnyIntersectionFinder=function(a){return new $a(a)};$a.createIntersectionCounter=function(a){a=new $a(a);a.setFindAllIntersections(!0);a.setKeepIntersections(!1);return a};$a.prototype.getInteriorIntersection=function(){return this._interiorIntersection};$a.prototype.setCheckEndSegmentsOnly=function(a){this._isCheckEndSegmentsOnly=a};$a.prototype.getIntersectionSegments=function(){return this._intSegments};
$a.prototype.count=function(){return this._intersectionCount};$a.prototype.getIntersections=function(){return this._intersections};$a.prototype.setFindAllIntersections=function(a){this._findAllIntersections=a};$a.prototype.setKeepIntersections=function(a){this._keepIntersections=a};$a.prototype.processIntersections=function(a,b,c,d){if(!this._findAllIntersections&&this.hasIntersection()||a===c&&b===d||this._isCheckEndSegmentsOnly&&!this.isEndSegment(a,b)&&!this.isEndSegment(c,d))return null;var e=
a.getCoordinates()[b];a=a.getCoordinates()[b+1];b=c.getCoordinates()[d];c=c.getCoordinates()[d+1];this._li.computeIntersection(e,a,b,c);this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=Array(4).fill(null),this._intSegments[0]=e,this._intSegments[1]=a,this._intSegments[2]=b,this._intSegments[3]=c,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)};$a.prototype.isEndSegment=
function(a,b){return 0===b||b>=a.size()-2?!0:!1};$a.prototype.hasIntersection=function(){return null!==this._interiorIntersection};$a.prototype.isDone=function(){return this._findAllIntersections?!1:null!==this._interiorIntersection};$a.prototype.getClass=function(){return $a};$jscomp.global.Object.defineProperties($a.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[ce]}}});$a.constructor_=function(a){this._isCheckEndSegmentsOnly=this._findAllIntersections=!1;this._intSegments=
this._interiorIntersection=this._li=null;this._intersections=new m;this._intersectionCount=0;this._keepIntersections=!0;this._li=a;this._interiorIntersection=null};var Bc=function(){Bc.constructor_.apply(this,arguments)};Bc.computeIntersections=function(a){a=new Bc(a);a.setFindAllIntersections(!0);a.isValid();return a.getIntersections()};Bc.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()};Bc.prototype.getIntersections=function(){return this._segInt.getIntersections()};
Bc.prototype.isValid=function(){this.execute();return this._isValid};Bc.prototype.setFindAllIntersections=function(a){this._findAllIntersections=a};Bc.prototype.checkInteriorIntersections=function(){this._isValid=!0;this._segInt=new $a(this._li);this._segInt.setFindAllIntersections(this._findAllIntersections);var a=new ec;a.setSegmentIntersector(this._segInt);a.computeNodes(this._segStrings);if(this._segInt.hasIntersection())return this._isValid=!1,null};Bc.prototype.checkValid=function(){this.execute();
if(!this._isValid)throw new cc(this.getErrorMessage(),this._segInt.getInteriorIntersection());};Bc.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var a=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Bb.toLineString(a[0],a[1])+" and "+Bb.toLineString(a[2],a[3])};Bc.prototype.getClass=function(){return Bc};$jscomp.global.Object.defineProperties(Bc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
Bc.constructor_=function(a){this._li=new ca;this._findAllIntersections=!1;this._segInt=null;this._isValid=!0;this._segStrings=a};var Jd=function(){Jd.constructor_.apply(this,arguments)};Jd.toSegmentStrings=function(a){var b=new m;for(a=a.iterator();a.hasNext();){var c=a.next();b.add(new Oc(c.getCoordinates(),c))}return b};Jd.checkValid=function(a){(new Jd(a)).checkValid()};Jd.prototype.checkValid=function(){this._nv.checkValid()};Jd.prototype.getClass=function(){return Jd};$jscomp.global.Object.defineProperties(Jd.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Jd.constructor_=function(a){this._nv=null;this._nv=new Bc(Jd.toSegmentStrings(a))};var Qe=function(){Qe.constructor_.apply(this,arguments)};Qe.map=function(a,b){return(new Qe(b)).map(a)};Qe.prototype.map=function(a){for(var b=new m,c=0;c<a.getNumGeometries();c++){var d=this._mapOp.map(a.getGeometryN(c));d.isEmpty()||b.add(d)}return a.getFactory().createGeometryCollection(B.toGeometryArray(b))};Qe.prototype.getClass=function(){return Qe};
$jscomp.global.Object.defineProperties(Qe.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Qe.constructor_=function(a){this._mapOp=a};var Nf=function(){Nf.constructor_.apply(this,arguments)};Nf.prototype.map=function(a){};Nf.prototype.getClass=function(){return Nf};$jscomp.global.Object.defineProperties(Nf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Nf.constructor_=function(){};var Pc=function(){Pc.constructor_.apply(this,arguments)};
Pc.prototype.collectLines=function(a){for(var b=this._op.getGraph().getEdgeEnds().iterator();b.hasNext();){var c=b.next();this.collectLineEdge(c,a,this._lineEdgesList);this.collectBoundaryTouchEdge(c,a,this._lineEdgesList)}};Pc.prototype.labelIsolatedLine=function(a,b){var c=this._ptLocator.locate(a.getCoordinate(),this._op.getArgGeometry(b));a.getLabel().setLocation(b,c)};Pc.prototype.build=function(a){this.findCoveredLineEdges();this.collectLines(a);this.buildLines(a);return this._resultLineList};
Pc.prototype.collectLineEdge=function(a,b,c){var d=a.getLabel(),e=a.getEdge();a.isLineEdge()&&!a.isVisited()&&t.isResultOfOp(d,b)&&!e.isCovered()&&(c.add(e),a.setVisitedEdge(!0))};Pc.prototype.findCoveredLineEdges=function(){for(var a=this._op.getGraph().getNodes().iterator();a.hasNext();)a.next().getEdges().findCoveredLineEdges();for(a=this._op.getGraph().getEdgeEnds().iterator();a.hasNext();){var b=a.next(),c=b.getEdge();b.isLineEdge()&&!c.isCoveredSet()&&(b=this._op.isCoveredByA(b.getCoordinate()),
c.setCovered(b))}};Pc.prototype.labelIsolatedLines=function(a){for(a=a.iterator();a.hasNext();){var b=a.next(),c=b.getLabel();b.isIsolated()&&(c.isNull(0)?this.labelIsolatedLine(b,0):this.labelIsolatedLine(b,1))}};Pc.prototype.buildLines=function(a){for(a=this._lineEdgesList.iterator();a.hasNext();){var b=a.next();b.getLabel();var c=this._geometryFactory.createLineString(b.getCoordinates());this._resultLineList.add(c);b.setInResult(!0)}};Pc.prototype.collectBoundaryTouchEdge=function(a,b,c){var d=
a.getLabel();if(a.isLineEdge()||a.isVisited()||a.isInteriorAreaEdge()||a.getEdge().isInResult())return null;w.isTrue(!(a.isInResult()||a.getSym().isInResult())||!a.getEdge().isInResult());t.isResultOfOp(d,b)&&b===t.INTERSECTION&&(c.add(a.getEdge()),a.setVisitedEdge(!0))};Pc.prototype.getClass=function(){return Pc};$jscomp.global.Object.defineProperties(Pc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Pc.constructor_=function(a,b,c){this._ptLocator=this._geometryFactory=
this._op=null;this._lineEdgesList=new m;this._resultLineList=new m;this._op=a;this._geometryFactory=b;this._ptLocator=c};var Re=function(){Re.constructor_.apply(this,arguments)};Re.prototype.filterCoveredNodeToPoint=function(a){a=a.getCoordinate();this._op.isCoveredByLA(a)||(a=this._geometryFactory.createPoint(a),this._resultPointList.add(a))};Re.prototype.extractNonCoveredResultNodes=function(a){for(var b=this._op.getGraph().getNodes().iterator();b.hasNext();){var c=b.next();if(!(c.isInResult()||
c.isIncidentEdgeInResult()||0!==c.getEdges().getDegree()&&a!==t.INTERSECTION)){var d=c.getLabel();t.isResultOfOp(d,a)&&this.filterCoveredNodeToPoint(c)}}};Re.prototype.build=function(a){this.extractNonCoveredResultNodes(a);return this._resultPointList};Re.prototype.getClass=function(){return Re};$jscomp.global.Object.defineProperties(Re.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Re.constructor_=function(a,b){this._geometryFactory=this._op=null;this._resultPointList=
new m;this._op=a;this._geometryFactory=b};var Cc=function(){Cc.constructor_.apply(this,arguments)};Cc.isClosed=function(a){return 1>=a.length?!1:a[0].equals2D(a[a.length-1])};Cc.prototype.snapVertices=function(a,b){for(var c=this._isClosed?a.size()-1:a.size(),d=0;d<c;d++){var e=a.get(d);e=this.findSnapForVertex(e,b);null!==e&&(a.set(d,new h(e)),0===d&&this._isClosed&&a.set(a.size()-1,new h(e)))}};Cc.prototype.findSnapForVertex=function(a,b){for(var c=0;c<b.length&&!a.equals2D(b[c]);c++)if(a.distance(b[c])<
this._snapTolerance)return b[c];return null};Cc.prototype.snapTo=function(a){var b=new ea(this._srcPts);this.snapVertices(b,a);this.snapSegments(b,a);return b.toCoordinateArray()};Cc.prototype.snapSegments=function(a,b){if(0===b.length)return null;var c=b.length;b[0].equals2D(b[b.length-1])&&(c=b.length-1);for(var d=0;d<c;d++){var e=b[d],g=this.findSegmentIndexToSnap(e,a);0<=g&&a.add(g+1,new h(e),!1)}};Cc.prototype.findSegmentIndexToSnap=function(a,b){for(var c=y.MAX_VALUE,d=-1,e=0;e<b.size()-1;e++){this._seg.p0=
b.get(e);this._seg.p1=b.get(e+1);if(this._seg.p0.equals2D(a)||this._seg.p1.equals2D(a))if(this._allowSnappingToSourceVertices)continue;else return-1;var g=this._seg.distance(a);g<this._snapTolerance&&g<c&&(c=g,d=e)}return d};Cc.prototype.setAllowSnappingToSourceVertices=function(a){this._allowSnappingToSourceVertices=a};Cc.prototype.getClass=function(){return Cc};$jscomp.global.Object.defineProperties(Cc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Cc.constructor_=
function(a,b){this._snapTolerance=0;this._srcPts=null;this._seg=new q;this._isClosed=this._allowSnappingToSourceVertices=!1;a instanceof u&&"number"===typeof b?Cc.constructor_.call(this,a.getCoordinates(),b):a instanceof Array&&"number"===typeof b&&(this._srcPts=a,this._isClosed=Cc.isClosed(a),this._snapTolerance=b)};var Pa=function(){Pa.constructor_.apply(this,arguments)};Pa.snap=function(a,b,c){var d=Array(2).fill(null);a=new Pa(a);d[0]=a.snapTo(b,c);b=new Pa(b);d[1]=b.snapTo(d[0],c);return d};
Pa.computeOverlaySnapTolerance=function(){if(1===arguments.length){var a=arguments[0],b=Pa.computeSizeBasedSnapTolerance(a);a=a.getPrecisionModel();a.getType()===R.FIXED&&(a=1/a.getScale()*2/1.415,a>b&&(b=a));return b}if(2===arguments.length)return b=arguments[1],Math.min(Pa.computeOverlaySnapTolerance(arguments[0]),Pa.computeOverlaySnapTolerance(b))};Pa.computeSizeBasedSnapTolerance=function(a){a=a.getEnvelopeInternal();return Math.min(a.getHeight(),a.getWidth())*Pa.SNAP_PRECISION_FACTOR};Pa.snapToSelf=
function(a,b,c){return(new Pa(a)).snapToSelf(b,c)};Pa.prototype.snapTo=function(a,b){a=this.extractTargetCoordinates(a);return(new ee(b,a)).transform(this._srcGeom)};Pa.prototype.snapToSelf=function(a,b){var c=this.extractTargetCoordinates(this._srcGeom);c=a=(new ee(a,c,!0)).transform(this._srcGeom);b&&v(c,Uc)&&(c=a.buffer(0));return c};Pa.prototype.computeSnapTolerance=function(a){return this.computeMinimumSegmentLength(a)/10};Pa.prototype.extractTargetCoordinates=function(a){var b=new Zb;a=a.getCoordinates();
for(var c=0;c<a.length;c++)b.add(a[c]);return b.toArray([].fill(null))};Pa.prototype.computeMinimumSegmentLength=function(a){for(var b=y.MAX_VALUE,c=0;c<a.length-1;c++){var d=a[c].distance(a[c+1]);d<b&&(b=d)}return b};Pa.prototype.getClass=function(){return Pa};$jscomp.global.Object.defineProperties(Pa.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Pa.constructor_=function(a){this._srcGeom=a};Pa.SNAP_PRECISION_FACTOR=1E-9;var ee=function(){var a=pa.call(this)||this;
ee.constructor_.apply(a,arguments);return a};$jscomp.inherits(ee,pa);ee.prototype.snapLine=function(a,b){a=new Cc(a,this._snapTolerance);a.setAllowSnappingToSourceVertices(this._isSelfSnap);return a.snapTo(b)};ee.prototype.transformCoordinates=function(a,b){a=a.toCoordinateArray();a=this.snapLine(a,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(a)};ee.prototype.getClass=function(){return ee};$jscomp.global.Object.defineProperties(ee.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});ee.constructor_=function(){this._snapPts=this._snapTolerance=null;this._isSelfSnap=!1;if(2===arguments.length){var a=arguments[1];this._snapTolerance=arguments[0];this._snapPts=a}else if(3===arguments.length){a=arguments[1];var b=arguments[2];this._snapTolerance=arguments[0];this._snapPts=a;this._isSelfSnap=b}};var Sb=function(){this._isFirst=!0;this._commonMantissaBitsCount=53;this._commonBits=new Yb;this._commonSignExp=null};Sb.prototype.getCommon=function(){return y.longBitsToDouble(this._commonBits)};
Sb.prototype.add=function(a){a=y.doubleToLongBits(a);if(this._isFirst)return this._commonBits=a,this._commonSignExp=Sb.signExpBits(this._commonBits),this._isFirst=!1,null;if(Sb.signExpBits(a)!==this._commonSignExp)return this._commonBits.high=0,this._commonBits.low=0,null;this._commonMantissaBitsCount=Sb.numCommonMostSigMantissaBits(this._commonBits,a);this._commonBits=Sb.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))};Sb.prototype.toString=function(){if(1===arguments.length){var a=
arguments[0],b=y.longBitsToDouble(a);a="0000000000000000000000000000000000000000000000000000000000000000"+Yb.toBinaryString(a);a=a.substring(a.length-64);return a.substring(0,1)+"  "+a.substring(1,12)+"(exp) "+a.substring(12)+" [ "+b+" ]"}};Sb.prototype.getClass=function(){return Sb};Sb.getBit=function(a,b){var c=1<<b%32;return 32>b?0!=(a.low&c)?1:0:0!=(a.high&c)?1:0};Sb.signExpBits=function(a){return a.high>>>20};Sb.zeroLowerBits=function(a,b){var c="low";32<b&&(a.low=0,b%=32,c="high");0<b&&(a[c]&=
32>b?~((1<<b)-1):0);return a};Sb.numCommonMostSigMantissaBits=function(a,b){for(var c=0,d=52;0<=d;d--){if(Sb.getBit(a,d)!==Sb.getBit(b,d))return c;c++}return 52};$jscomp.global.Object.defineProperties(Sb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var pd=function(){pd.constructor_.apply(this,arguments)};pd.prototype.addCommonBits=function(a){var b=new Kd(this._commonCoord);a.apply(b);a.geometryChanged()};pd.prototype.removeCommonBits=function(a){if(0===this._commonCoord.x&&
0===this._commonCoord.y)return a;var b=new h(this._commonCoord);b.x=-b.x;b.y=-b.y;b=new Kd(b);a.apply(b);a.geometryChanged();return a};pd.prototype.getCommonCoordinate=function(){return this._commonCoord};pd.prototype.add=function(a){a.apply(this._ccFilter);this._commonCoord=this._ccFilter.getCommonCoordinate()};pd.prototype.getClass=function(){return pd};$jscomp.global.Object.defineProperties(pd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var Se=function(){Se.constructor_.apply(this,
arguments)};Se.prototype.filter=function(a){this._commonBitsX.add(a.x);this._commonBitsY.add(a.y)};Se.prototype.getCommonCoordinate=function(){return new h(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())};Se.prototype.getClass=function(){return Se};$jscomp.global.Object.defineProperties(Se.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Tc]}}});Se.constructor_=function(){this._commonBitsX=new Sb;this._commonBitsY=new Sb};var Kd=function(){Kd.constructor_.apply(this,
arguments)};Kd.prototype.filter=function(a,b){var c=a.getOrdinate(b,0)+this.trans.x,d=a.getOrdinate(b,1)+this.trans.y;a.setOrdinate(b,0,c);a.setOrdinate(b,1,d)};Kd.prototype.isDone=function(){return!1};Kd.prototype.isGeometryChanged=function(){return!0};Kd.prototype.getClass=function(){return Kd};$jscomp.global.Object.defineProperties(Kd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[uc]}}});Kd.constructor_=function(a){this.trans=a};pd.CommonCoordinateFilter=Se;pd.Translater=
Kd;pd.constructor_=function(){this._commonCoord=null;this._ccFilter=new Se};var ab=function(){ab.constructor_.apply(this,arguments)};ab.overlayOp=function(a,b,c){return(new ab(a,b)).getResultGeometry(c)};ab.union=function(a,b){return ab.overlayOp(a,b,t.UNION)};ab.intersection=function(a,b){return ab.overlayOp(a,b,t.INTERSECTION)};ab.symDifference=function(a,b){return ab.overlayOp(a,b,t.SYMDIFFERENCE)};ab.difference=function(a,b){return ab.overlayOp(a,b,t.DIFFERENCE)};ab.prototype.selfSnap=function(a){return(new Pa(a)).snapTo(a,
this._snapTolerance)};ab.prototype.removeCommonBits=function(a){this._cbr=new pd;this._cbr.add(a[0]);this._cbr.add(a[1]);var b=Array(2).fill(null);b[0]=this._cbr.removeCommonBits(a[0].copy());b[1]=this._cbr.removeCommonBits(a[1].copy());return b};ab.prototype.prepareResult=function(a){this._cbr.addCommonBits(a);return a};ab.prototype.getResultGeometry=function(a){var b=this.snap(this._geom);a=t.overlayOp(b[0],b[1],a);return this.prepareResult(a)};ab.prototype.checkValid=function(a){a.isValid()||wa.out.println("Snapped geometry is invalid")};
ab.prototype.computeSnapTolerance=function(){this._snapTolerance=Pa.computeOverlaySnapTolerance(this._geom[0],this._geom[1])};ab.prototype.snap=function(a){a=this.removeCommonBits(a);return Pa.snap(a[0],a[1],this._snapTolerance)};ab.prototype.getClass=function(){return ab};$jscomp.global.Object.defineProperties(ab.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ab.constructor_=function(a,b){this._geom=Array(2).fill(null);this._cbr=this._snapTolerance=null;this._geom[0]=
a;this._geom[1]=b;this.computeSnapTolerance()};var hb=function(){hb.constructor_.apply(this,arguments)};hb.overlayOp=function(a,b,c){return(new hb(a,b)).getResultGeometry(c)};hb.union=function(a,b){return hb.overlayOp(a,b,t.UNION)};hb.intersection=function(a,b){return hb.overlayOp(a,b,t.INTERSECTION)};hb.symDifference=function(a,b){return hb.overlayOp(a,b,t.SYMDIFFERENCE)};hb.difference=function(a,b){return hb.overlayOp(a,b,t.DIFFERENCE)};hb.prototype.getResultGeometry=function(a){var b=null,c=!1,
d=null;try{b=t.overlayOp(this._geom[0],this._geom[1],a),c=!0}catch(e){if(e instanceof Va)d=e;else throw e;}finally{}if(!c)try{b=ab.overlayOp(this._geom[0],this._geom[1],a)}catch(e){if(e instanceof Va)throw d;throw e;}finally{}return b};hb.prototype.getClass=function(){return hb};$jscomp.global.Object.defineProperties(hb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});hb.constructor_=function(a,b){this._geom=Array(2).fill(null);this._geom[0]=a;this._geom[1]=b};var Dc=
function(){Dc.constructor_.apply(this,arguments)};Dc.prototype.getArgGeometry=function(a){return this._arg[a].getGeometry()};Dc.prototype.setComputationPrecision=function(a){this._resultPrecisionModel=a;this._li.setPrecisionModel(this._resultPrecisionModel)};Dc.prototype.getClass=function(){return Dc};$jscomp.global.Object.defineProperties(Dc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Dc.constructor_=function(){this._li=new ca;this._arg=this._resultPrecisionModel=
null;if(1===arguments.length){var a=arguments[0];this.setComputationPrecision(a.getPrecisionModel());this._arg=Array(1).fill(null);this._arg[0]=new W(0,a)}else if(2===arguments.length)Dc.constructor_.call(this,arguments[0],arguments[1],Qa.OGC_SFS_BOUNDARY_RULE);else if(3===arguments.length){a=arguments[0];var b=arguments[1],c=arguments[2];0<=a.getPrecisionModel().compareTo(b.getPrecisionModel())?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(b.getPrecisionModel());
this._arg=Array(2).fill(null);this._arg[0]=new W(0,a,c);this._arg[1]=new W(1,b,c)}};var t=function(){var a=Dc.call(this)||this;t.constructor_.apply(a,arguments);return a};$jscomp.inherits(t,Dc);t.overlayOp=function(a,b,c){return(new t(a,b)).getResultGeometry(c)};t.union=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return t.createEmptyResult(t.UNION,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}if(a.isGeometryCollection()||b.isGeometryCollection())throw new F("This method does not support GeometryCollection arguments");
return hb.overlayOp(a,b,t.UNION)};t.intersection=function(a,b){if(a.isEmpty()||b.isEmpty())return t.createEmptyResult(t.INTERSECTION,a,b,a.getFactory());if(a.isGeometryCollection()){var c=function(){};c.prototype.map=function(a){return t.intersection(a,b)};$jscomp.global.Object.defineProperties(c.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Nf]}}});return Qe.map(a,new c)}return hb.overlayOp(a,b,t.INTERSECTION)};t.symDifference=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&
b.isEmpty())return t.createEmptyResult(t.SYMDIFFERENCE,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}if(a.isGeometryCollection()||b.isGeometryCollection())throw new F("This method does not support GeometryCollection arguments");return hb.overlayOp(a,b,t.SYMDIFFERENCE)};t.resultDimension=function(a,b,c){b=b.getDimension();c=c.getDimension();var d=-1;switch(a){case t.INTERSECTION:d=Math.min(b,c);break;case t.UNION:d=Math.max(b,c);break;case t.DIFFERENCE:d=b;break;
case t.SYMDIFFERENCE:d=Math.max(b,c)}return d};t.createEmptyResult=function(a,b,c,d){var e=null;switch(t.resultDimension(a,b,c)){case -1:e=d.createGeometryCollection();break;case 0:e=d.createPoint();break;case 1:e=d.createLineString();break;case 2:e=d.createPolygon()}return e};t.difference=function(a,b){if(a.isEmpty())return t.createEmptyResult(t.DIFFERENCE,a,b,a.getFactory());if(b.isEmpty())return a.copy();if(a.isGeometryCollection()||b.isGeometryCollection())throw new F("This method does not support GeometryCollection arguments");
return hb.overlayOp(a,b,t.DIFFERENCE)};t.isResultOfOp=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a.getLocation(0);a=a.getLocation(1);return t.isResultOfOp(c,a,b)}if(3===arguments.length){b=arguments[0];c=arguments[1];a=arguments[2];b===f.BOUNDARY&&(b=f.INTERIOR);c===f.BOUNDARY&&(c=f.INTERIOR);switch(a){case t.INTERSECTION:return b===f.INTERIOR&&c===f.INTERIOR;case t.UNION:return b===f.INTERIOR||c===f.INTERIOR;case t.DIFFERENCE:return b===f.INTERIOR&&c!==f.INTERIOR;case t.SYMDIFFERENCE:return b===
f.INTERIOR&&c!==f.INTERIOR||b!==f.INTERIOR&&c===f.INTERIOR}return!1}};t.prototype.insertUniqueEdge=function(a){var b=this._edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new T(a.getLabel()),d.flip());a=b.getDepth();a.isNull()&&a.add(c);a.add(d);c.merge(d)}else this._edgeList.add(a)};t.prototype.getGraph=function(){return this._graph};t.prototype.cancelDuplicateResultEdges=function(){for(var a=this._graph.getEdgeEnds().iterator();a.hasNext();){var b=
a.next(),c=b.getSym();b.isInResult()&&c.isInResult()&&(b.setInResult(!1),c.setInResult(!1))}};t.prototype.isCoveredByLA=function(a){return this.isCovered(a,this._resultLineList)||this.isCovered(a,this._resultPolyList)?!0:!1};t.prototype.computeGeometry=function(a,b,c,d){var e=new m;e.addAll(a);e.addAll(b);e.addAll(c);return e.isEmpty()?t.createEmptyResult(d,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(e)};t.prototype.mergeSymLabels=function(){for(var a=
this._graph.getNodes().iterator();a.hasNext();)a.next().getEdges().mergeSymLabels()};t.prototype.isCovered=function(a,b){for(b=b.iterator();b.hasNext();){var c=b.next();if(this._ptLocator.locate(a,c)!==f.EXTERIOR)return!0}return!1};t.prototype.replaceCollapsedEdges=function(){for(var a=new m,b=this._edgeList.iterator();b.hasNext();){var c=b.next();c.isCollapsed()&&(b.remove(),a.add(c.getCollapsedEdge()))}this._edgeList.addAll(a)};t.prototype.updateNodeLabelling=function(){for(var a=this._graph.getNodes().iterator();a.hasNext();){var b=
a.next(),c=b.getEdges().getLabel();b.getLabel().merge(c)}};t.prototype.getResultGeometry=function(a){this.computeOverlay(a);return this._resultGeom};t.prototype.insertUniqueEdges=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();this.insertUniqueEdge(b)}};t.prototype.computeOverlay=function(a){this.copyPoints(0);this.copyPoints(1);this._arg[0].computeSelfNodes(this._li,!1);this._arg[1].computeSelfNodes(this._li,!1);this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var b=new m;
this._arg[0].computeSplitEdges(b);this._arg[1].computeSplitEdges(b);this.insertUniqueEdges(b);this.computeLabelsFromDepths();this.replaceCollapsedEdges();Jd.checkValid(this._edgeList.getEdges());this._graph.addEdges(this._edgeList.getEdges());this.computeLabelling();this.labelIncompleteNodes();this.findResultAreaEdges(a);this.cancelDuplicateResultEdges();b=new Rb(this._geomFact);b.add(this._graph);this._resultPolyList=b.getPolygons();this._resultLineList=(new Pc(this,this._geomFact,this._ptLocator)).build(a);
this._resultPointList=(new Re(this,this._geomFact,this._ptLocator)).build(a);this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,a)};t.prototype.labelIncompleteNode=function(a,b){var c=this._ptLocator.locate(a.getCoordinate(),this._arg[b].getGeometry());a.getLabel().setLocation(b,c)};t.prototype.copyPoints=function(a){for(var b=this._arg[a].getNodeIterator();b.hasNext();){var c=b.next();this._graph.addNode(c.getCoordinate()).setLabel(a,c.getLabel().getLocation(a))}};
t.prototype.findResultAreaEdges=function(a){for(var b=this._graph.getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.isArea()&&!c.isInteriorAreaEdge()&&t.isResultOfOp(d.getLocation(0,p.RIGHT),d.getLocation(1,p.RIGHT),a)&&c.setInResult(!0)}};t.prototype.computeLabelsFromDepths=function(){for(var a=this._edgeList.iterator();a.hasNext();){var b=a.next(),c=b.getLabel();b=b.getDepth();if(!b.isNull()){b.normalize();for(var d=0;2>d;d++)c.isNull(d)||!c.isArea()||b.isNull(d)||(0===b.getDelta(d)?
c.toLine(d):(w.isTrue(!b.isNull(d,p.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(d,p.LEFT,b.getLocation(d,p.LEFT)),w.isTrue(!b.isNull(d,p.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(d,p.RIGHT,b.getLocation(d,p.RIGHT))))}}};t.prototype.computeLabelling=function(){for(var a=this._graph.getNodes().iterator();a.hasNext();)a.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels();this.updateNodeLabelling()};t.prototype.labelIncompleteNodes=function(){for(var a=
this._graph.getNodes().iterator();a.hasNext();){var b=a.next(),c=b.getLabel();b.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(b,0):this.labelIncompleteNode(b,1));b.getEdges().updateLabelling(c)}};t.prototype.isCoveredByA=function(a){return this.isCovered(a,this._resultPolyList)?!0:!1};t.prototype.getClass=function(){return t};$jscomp.global.Object.defineProperties(t.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});t.constructor_=function(a,b){this._ptLocator=
new Pb;this._graph=this._resultGeom=this._geomFact=null;this._edgeList=new zc;this._resultPolyList=new m;this._resultLineList=new m;this._resultPointList=new m;Dc.constructor_.call(this,a,b);this._graph=new na(new be);this._geomFact=a.getFactory()};t.INTERSECTION=1;t.UNION=2;t.DIFFERENCE=3;t.SYMDIFFERENCE=4;var eh=Object.freeze({OverlayOp:t}),Ec=function(){var a=ha.call(this)||this;Ec.constructor_.apply(a,arguments);return a};$jscomp.inherits(Ec,ha);Ec.prototype.getNext=function(){return this._next};
Ec.prototype.isInRing=function(){return null!==this._edgeRing};Ec.prototype.setRing=function(a){this._edgeRing=a};Ec.prototype.setLabel=function(a){this._label=a};Ec.prototype.getLabel=function(){return this._label};Ec.prototype.setNext=function(a){this._next=a};Ec.prototype.getRing=function(){return this._edgeRing};Ec.prototype.getClass=function(){return Ec};$jscomp.global.Object.defineProperties(Ec.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ec.constructor_=
function(a,b,c,d){this._next=this._edgeRing=null;this._label=-1;ha.constructor_.call(this,a,b,c,d)};var sf=function(){var a=Ib.call(this)||this;sf.constructor_.apply(a,arguments);return a};$jscomp.inherits(sf,Ib);sf.prototype.getLine=function(){return this._line};sf.prototype.getClass=function(){return sf};$jscomp.global.Object.defineProperties(sf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});sf.constructor_=function(a){this._line=a};var Z=function(){Z.constructor_.apply(this,
arguments)};Z.findDirEdgesInRing=function(a){var b=a,c=new m;do c.add(b),b=b.getNext(),w.isTrue(null!==b,"found null DE in ring"),w.isTrue(b===a||!b.isInRing(),"found DE already in ring");while(b!==a);return c};Z.addEdge=function(a,b,c){if(b)for(b=0;b<a.length;b++)c.add(a[b],!1);else for(b=a.length-1;0<=b;b--)c.add(a[b],!1)};Z.findEdgeRingContaining=function(a,b){a=a.getRing();var c=a.getEnvelopeInternal();a.getCoordinateN(0);for(var d=null,e=null,g=b.iterator();g.hasNext();){var f=g.next(),h=f.getRing(),
k=h.getEnvelopeInternal();if(!k.equals(c)&&k.contains(c)){b=C.ptNotInList(a.getCoordinates(),h.getCoordinates());var l=!1;jb.isInRing(b,h.getCoordinates())&&(l=!0);l&&(null===d||e.contains(k))&&(d=f,e=d.getRing().getEnvelopeInternal())}}return d};Z.prototype.isIncluded=function(){return this._isIncluded};Z.prototype.getCoordinates=function(){if(null===this._ringPts){for(var a=new ea,b=this._deList.iterator();b.hasNext();){var c=b.next(),d=c.getEdge();Z.addEdge(d.getLine().getCoordinates(),c.getEdgeDirection(),
a)}this._ringPts=a.toCoordinateArray()}return this._ringPts};Z.prototype.isIncludedSet=function(){return this._isIncludedSet};Z.prototype.isValid=function(){this.getCoordinates();if(3>=this._ringPts.length)return!1;this.getRing();return this._ring.isValid()};Z.prototype.build=function(a){var b=a;do this.add(b),b.setRing(this),b=b.getNext(),w.isTrue(null!==b,"found null DE in ring"),w.isTrue(b===a||!b.isInRing(),"found DE already in ring");while(b!==a)};Z.prototype.isOuterHole=function(){return this._isHole?
!this.hasShell():!1};Z.prototype.getPolygon=function(){var a=null;if(null!==this._holes){a=Array(this._holes.size()).fill(null);for(var b=0;b<this._holes.size();b++)a[b]=this._holes.get(b)}return this._factory.createPolygon(this._ring,a)};Z.prototype.isHole=function(){return this._isHole};Z.prototype.isProcessed=function(){return this._isProcessed};Z.prototype.addHole=function(a){a instanceof ba?(null===this._holes&&(this._holes=new m),this._holes.add(a)):a instanceof Z&&(a.setShell(this),a=a.getRing(),
null===this._holes&&(this._holes=new m),this._holes.add(a))};Z.prototype.setIncluded=function(a){this._isIncluded=a;this._isIncludedSet=!0};Z.prototype.getOuterHole=function(){if(this.isHole())return null;for(var a=0;a<this._deList.size();a++){var b=this._deList.get(a).getSym().getRing();if(b.isOuterHole())return b}return null};Z.prototype.computeHole=function(){var a=this.getRing();this._isHole=z.isCCW(a.getCoordinates())};Z.prototype.hasShell=function(){return null!==this._shell};Z.prototype.isOuterShell=
function(){return null!==this.getOuterHole()};Z.prototype.getLineString=function(){this.getCoordinates();return this._factory.createLineString(this._ringPts)};Z.prototype.toString=function(){return Bb.toLineString(new Ha(this.getCoordinates()))};Z.prototype.getShell=function(){return this.isHole()?this._shell:this};Z.prototype.add=function(a){this._deList.add(a)};Z.prototype.getRing=function(){if(null!==this._ring)return this._ring;this.getCoordinates();3>this._ringPts.length&&wa.out.println(this._ringPts);
try{this._ring=this._factory.createLinearRing(this._ringPts)}catch(a){if(a instanceof zf)wa.out.println(this._ringPts);else throw a;}finally{}return this._ring};Z.prototype.updateIncluded=function(){if(this.isHole())return null;for(var a=0;a<this._deList.size();a++){var b=this._deList.get(a).getSym().getRing().getShell();if(null!==b&&b.isIncludedSet())return this.setIncluded(!b.isIncluded()),null}};Z.prototype.setShell=function(a){this._shell=a};Z.prototype.setProcessed=function(a){this._isProcessed=
a};Z.prototype.getClass=function(){return Z};$jscomp.global.Object.defineProperties(Z.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var Of=function(){Of.constructor_.apply(this,arguments)};Of.prototype.compare=function(a,b){return a.getRing().getEnvelope().compareTo(b.getRing().getEnvelope())};Of.prototype.getClass=function(){return Of};$jscomp.global.Object.defineProperties(Of.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[af]}}});
Of.constructor_=function(){};Z.EnvelopeComparator=Of;Z.constructor_=function(a){this._factory=null;this._deList=new m;this._isHole=this._shell=this._holes=this._ringPts=this._ring=this._lowestEdge=null;this._isIncluded=this._isIncludedSet=this._isProcessed=!1;this._factory=a};var la=function(){var a=Jb.call(this)||this;la.constructor_.apply(a,arguments);return a};$jscomp.inherits(la,Jb);la.findLabeledEdgeRings=function(a){var b=new m,c=1;for(a=a.iterator();a.hasNext();){var d=a.next();d.isMarked()||
0<=d.getLabel()||(b.add(d),d=Z.findDirEdgesInRing(d),la.label(d,c),c++)}return b};la.getDegreeNonDeleted=function(a){var b=0;for(a=a.getOutEdges().getEdges().iterator();a.hasNext();)a.next().isMarked()||b++;return b};la.deleteAllEdges=function(a){for(a=a.getOutEdges().getEdges().iterator();a.hasNext();){var b=a.next();b.setMarked(!0);b=b.getSym();null!==b&&b.setMarked(!0)}};la.label=function(a,b){for(a=a.iterator();a.hasNext();)a.next().setLabel(b)};la.computeNextCWEdges=function(a){var b=null,c=
null;for(a=a.getOutEdges().getEdges().iterator();a.hasNext();){var d=a.next();d.isMarked()||(null===b&&(b=d),null!==c&&(c=c.getSym(),c.setNext(d)),c=d)}null!==c&&(c=c.getSym(),c.setNext(b))};la.computeNextCCWEdges=function(a,b){var c=null,d=null;a=a.getOutEdges().getEdges();for(var e=a.size()-1;0<=e;e--){var g=a.get(e),f=g.getSym(),h=null;g.getLabel()===b&&(h=g);g=null;f.getLabel()===b&&(g=f);if(null!==h||null!==g)null!==g&&(d=g),null!==h&&(null!==d&&(d.setNext(h),d=null),null===c&&(c=h))}null!==
d&&(w.isTrue(null!==c),d.setNext(c))};la.getDegree=function(a,b){var c=0;for(a=a.getOutEdges().getEdges().iterator();a.hasNext();)a.next().getLabel()===b&&c++;return c};la.findIntersectionNodes=function(a,b){var c=a,d=null;do{var e=c.getFromNode();1<la.getDegree(e,b)&&(null===d&&(d=new m),d.add(e));c=c.getNext();w.isTrue(null!==c,"found null DE in ring");w.isTrue(c===a||!c.isInRing(),"found DE already in ring")}while(c!==a);return d};la.prototype.findEdgeRing=function(a){var b=new Z(this._factory);
b.build(a);return b};la.prototype.computeDepthParity=function(){if(0===arguments.length)for(;;)return null};la.prototype.computeNextCWEdges=function(){for(var a=this.nodeIterator();a.hasNext();){var b=a.next();la.computeNextCWEdges(b)}};la.prototype.addEdge=function(a){if(a.isEmpty())return null;var b=C.removeRepeatedPoints(a.getCoordinates());if(2>b.length)return null;var c=b[b.length-1],d=this.getNode(b[0]),e=this.getNode(c);c=new Ec(d,e,b[1],!0);b=new Ec(e,d,b[b.length-2],!1);a=new sf(a);a.setDirectedEdges(c,
b);this.add(a)};la.prototype.deleteCutEdges=function(){this.computeNextCWEdges();la.findLabeledEdgeRings(this._dirEdges);for(var a=new m,b=this._dirEdges.iterator();b.hasNext();){var c=b.next();if(!c.isMarked()){var d=c.getSym();c.getLabel()===d.getLabel()&&(c.setMarked(!0),d.setMarked(!0),c=c.getEdge(),a.add(c.getLine()))}}return a};la.prototype.getEdgeRings=function(){this.computeNextCWEdges();la.label(this._dirEdges,-1);var a=la.findLabeledEdgeRings(this._dirEdges);this.convertMaximalToMinimalEdgeRings(a);
a=new m;for(var b=this._dirEdges.iterator();b.hasNext();){var c=b.next();c.isMarked()||c.isInRing()||(c=this.findEdgeRing(c),a.add(c))}return a};la.prototype.getNode=function(a){var b=this.findNode(a);null===b&&(b=new zb(a),this.add(b));return b};la.prototype.convertMaximalToMinimalEdgeRings=function(a){for(a=a.iterator();a.hasNext();){var b=a.next(),c=b.getLabel();b=la.findIntersectionNodes(b,c);if(null!==b)for(b=b.iterator();b.hasNext();){var d=b.next();la.computeNextCCWEdges(d,c)}}};la.prototype.deleteDangles=
function(){var a=this.findNodesOfDegree(1),b=new sb,c=new $b;for(a=a.iterator();a.hasNext();)c.push(a.next());for(;!c.isEmpty();)for(a=c.pop(),la.deleteAllEdges(a),a=a.getOutEdges().getEdges().iterator();a.hasNext();){var d=a.next();d.setMarked(!0);var e=d.getSym();null!==e&&e.setMarked(!0);e=d.getEdge();b.add(e.getLine());d=d.getToNode();1===la.getDegreeNonDeleted(d)&&c.push(d)}return b};la.prototype.getClass=function(){return la};$jscomp.global.Object.defineProperties(la.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});la.constructor_=function(a){this._factory=a};var Ea=function(){Ea.constructor_.apply(this,arguments)};Ea.findOuterShells=function(a){for(a=a.iterator();a.hasNext();){var b=a.next(),c=b.getOuterHole();null===c||c.isProcessed()||(b.setIncluded(!0),c.setProcessed(!0))}};Ea.extractPolygons=function(a,b){var c=new m;for(a=a.iterator();a.hasNext();){var d=a.next();(b||d.isIncluded())&&c.add(d.getPolygon())}return c};Ea.assignHolesToShells=function(a,b){for(a=a.iterator();a.hasNext();){var c=
a.next();Ea.assignHoleToShell(c,b)}};Ea.assignHoleToShell=function(a,b){b=Z.findEdgeRingContaining(a,b);null!==b&&b.addHole(a)};Ea.findDisjointShells=function(a){Ea.findOuterShells(a);do{var b=!1;for(var c=a.iterator();c.hasNext();){var d=c.next();d.isIncludedSet()||(d.updateIncluded(),d.isIncludedSet()||(b=!0))}}while(b)};Ea.prototype.getGeometry=function(){null===this._geomFactory&&(this._geomFactory=new B);this.polygonize();return this._extractOnlyPolygonal?this._geomFactory.buildGeometry(this._polyList):
this._geomFactory.createGeometryCollection(B.toGeometryArray(this._polyList))};Ea.prototype.getInvalidRingLines=function(){this.polygonize();return this._invalidRingLines};Ea.prototype.findValidRings=function(a,b,c){for(a=a.iterator();a.hasNext();){var d=a.next();d.isValid()?b.add(d):c.add(d.getLineString())}};Ea.prototype.polygonize=function(){if(null!==this._polyList)return null;this._polyList=new m;if(null===this._graph)return null;this._dangles=this._graph.deleteDangles();this._cutEdges=this._graph.deleteCutEdges();
var a=this._graph.getEdgeRings(),b=new m;this._invalidRingLines=new m;this._isCheckingRingsValid?this.findValidRings(a,b,this._invalidRingLines):b=a;this.findShellsAndHoles(b);Ea.assignHolesToShells(this._holeList,this._shellList);zd.sort(this._shellList,new Z.EnvelopeComparator);a=!0;this._extractOnlyPolygonal&&(Ea.findDisjointShells(this._shellList),a=!1);this._polyList=Ea.extractPolygons(this._shellList,a)};Ea.prototype.getDangles=function(){this.polygonize();return this._dangles};Ea.prototype.getCutEdges=
function(){this.polygonize();return this._cutEdges};Ea.prototype.getPolygons=function(){this.polygonize();return this._polyList};Ea.prototype.add=function(a){if(v(a,ra))for(a=a.iterator();a.hasNext();){var b=a.next();this.add(b)}else a instanceof u?(this._geomFactory=a.getFactory(),null===this._graph&&(this._graph=new la(this._geomFactory)),this._graph.addEdge(a)):a instanceof l&&a.apply(this._lineStringAdder)};Ea.prototype.setCheckRingsValid=function(a){this._isCheckingRingsValid=a};Ea.prototype.findShellsAndHoles=
function(a){this._holeList=new m;this._shellList=new m;for(a=a.iterator();a.hasNext();){var b=a.next();b.computeHole();b.isHole()?this._holeList.add(b):this._shellList.add(b)}};Ea.prototype.getClass=function(){return Ea};$jscomp.global.Object.defineProperties(Ea.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var tf=function(){tf.constructor_.apply(this,arguments)};tf.prototype.filter=function(a){a instanceof u&&this.p.add(a)};tf.prototype.getClass=function(){return tf};
$jscomp.global.Object.defineProperties(tf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[jc]}}});tf.constructor_=function(a){this.p=null;this.p=a};Ea.LineStringAdder=tf;Ea.constructor_=function(){this._lineStringAdder=new tf(this);this._graph=null;this._dangles=new m;this._cutEdges=new m;this._invalidRingLines=new m;this._polyList=this._shellList=this._holeList=null;this._isCheckingRingsValid=!0;this._geomFactory=this._extractOnlyPolygonal=null;0===arguments.length?Ea.constructor_.call(this,
!1):1===arguments.length&&(this._extractOnlyPolygonal=arguments[0])};var fh=Object.freeze({Polygonizer:Ea}),fe=function(){fe.constructor_.apply(this,arguments)};fe.prototype.createEdgeEndForNext=function(a,b,c,d){var e=c.segmentIndex+1;if(e>=a.getNumPoints()&&null===d)return null;e=a.getCoordinate(e);null!==d&&d.segmentIndex===c.segmentIndex&&(e=d.coord);a=new ua(a,c.coord,e,new T(a.getLabel()));b.add(a)};fe.prototype.createEdgeEndForPrev=function(a,b,c,d){var e=c.segmentIndex;if(0===c.dist){if(0===
e)return null;e--}var g=a.getCoordinate(e);null!==d&&d.segmentIndex>=e&&(g=d.coord);d=new T(a.getLabel());d.flip();a=new ua(a,c.coord,g,d);b.add(a)};fe.prototype.computeEdgeEnds=function(){if(1===arguments.length){for(var a=arguments[0],b=new m;a.hasNext();){var c=a.next();this.computeEdgeEnds(c,b)}return b}if(2===arguments.length){a=arguments[0];b=arguments[1];c=a.getEdgeIntersectionList();c.addEndpoints();c=c.iterator();var d=null;if(!c.hasNext())return null;var e=c.next();do{var g=d;d=e;e=null;
c.hasNext()&&(e=c.next());null!==d&&(this.createEdgeEndForPrev(a,b,d,g),this.createEdgeEndForNext(a,b,d,e))}while(null!==d)}};fe.prototype.getClass=function(){return fe};$jscomp.global.Object.defineProperties(fe.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});fe.constructor_=function(){};var Tb=function(){var a=ua.call(this)||this;Tb.constructor_.apply(a,arguments);return a};$jscomp.inherits(Tb,ua);Tb.prototype.insert=function(a){this._edgeEnds.add(a)};Tb.prototype.print=
function(a){a.println("EdgeEndBundle--\x3e Label: "+this._label);for(var b=this.iterator();b.hasNext();)b.next().print(a),a.println()};Tb.prototype.iterator=function(){return this._edgeEnds.iterator()};Tb.prototype.getEdgeEnds=function(){return this._edgeEnds};Tb.prototype.computeLabelOn=function(a,b){for(var c=0,d=!1,e=this.iterator();e.hasNext();){var g=e.next().getLabel().getLocation(a);g===f.BOUNDARY&&c++;g===f.INTERIOR&&(d=!0)}g=f.NONE;d&&(g=f.INTERIOR);0<c&&(g=W.determineBoundary(b,c));this._label.setLocation(a,
g)};Tb.prototype.computeLabelSide=function(a,b){for(var c=this.iterator();c.hasNext();){var d=c.next();if(d.getLabel().isArea()){d=d.getLabel().getLocation(a,b);if(d===f.INTERIOR)return this._label.setLocation(a,b,f.INTERIOR),null;d===f.EXTERIOR&&this._label.setLocation(a,b,f.EXTERIOR)}}};Tb.prototype.getLabel=function(){return this._label};Tb.prototype.computeLabelSides=function(a){this.computeLabelSide(a,p.LEFT);this.computeLabelSide(a,p.RIGHT)};Tb.prototype.updateIM=function(a){Y.updateIM(this._label,
a)};Tb.prototype.computeLabel=function(a){for(var b=!1,c=this.iterator();c.hasNext();)c.next().getLabel().isArea()&&(b=!0);this._label=b?new T(f.NONE,f.NONE,f.NONE):new T(f.NONE);for(c=0;2>c;c++)this.computeLabelOn(c,a),b&&this.computeLabelSides(c)};Tb.prototype.getClass=function(){return Tb};$jscomp.global.Object.defineProperties(Tb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Tb.constructor_=function(){this._edgeEnds=new m;if(1===arguments.length)Tb.constructor_.call(this,
null,arguments[0]);else if(2===arguments.length){var a=arguments[1];ua.constructor_.call(this,a.getEdge(),a.getCoordinate(),a.getDirectedCoordinate(),new T(a.getLabel()));this.insert(a)}};var Te=function(){var a=Na.call(this)||this;Te.constructor_.apply(a,arguments);return a};$jscomp.inherits(Te,Na);Te.prototype.updateIM=function(a){for(var b=this.iterator();b.hasNext();)b.next().updateIM(a)};Te.prototype.insert=function(a){var b=this._edgeMap.get(a);null===b?(b=new Tb(a),this.insertEdgeEnd(a,b)):
b.insert(a)};Te.prototype.getClass=function(){return Te};$jscomp.global.Object.defineProperties(Te.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Te.constructor_=function(){};var Ue=function(){var a=La.call(this)||this;Ue.constructor_.apply(a,arguments);return a};$jscomp.inherits(Ue,La);Ue.prototype.updateIMFromEdges=function(a){this._edges.updateIM(a)};Ue.prototype.computeIM=function(a){a.setAtLeastIfValid(this._label.getLocation(0),this._label.getLocation(1),0)};
Ue.prototype.getClass=function(){return Ue};$jscomp.global.Object.defineProperties(Ue.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ue.constructor_=function(a,b){La.constructor_.call(this,a,b)};var Ve=function(){var a=Ed.call(this)||this;Ve.constructor_.apply(a,arguments);return a};$jscomp.inherits(Ve,Ed);Ve.prototype.createNode=function(a){return new Ue(a,new Te)};Ve.prototype.getClass=function(){return Ve};$jscomp.global.Object.defineProperties(Ve.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});Ve.constructor_=function(){};var Ab=function(){Ab.constructor_.apply(this,arguments)};Ab.prototype.insertEdgeEnds=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();this._nodes.add(b)}};Ab.prototype.computeProperIntersectionIM=function(a,b){var c=this._arg[0].getGeometry().getDimension(),d=this._arg[1].getGeometry().getDimension(),e=a.hasProperIntersection();a=a.hasProperInteriorIntersection();2===c&&2===d?e&&b.setAtLeast("212101212"):2===c&&1===
d?(e&&b.setAtLeast("FFF0FFFF2"),a&&b.setAtLeast("1FFFFF1FF")):1===c&&2===d?(e&&b.setAtLeast("F0FFFFFF2"),a&&b.setAtLeast("1F1FFFFFF")):1===c&&1===d&&a&&b.setAtLeast("0FFFFFFFF")};Ab.prototype.labelIsolatedEdges=function(a,b){for(a=this._arg[a].getEdgeIterator();a.hasNext();){var c=a.next();c.isIsolated()&&(this.labelIsolatedEdge(c,b,this._arg[b].getGeometry()),this._isolatedEdges.add(c))}};Ab.prototype.labelIsolatedEdge=function(a,b,c){0<c.getDimension()?(c=this._ptLocator.locate(a.getCoordinate(),
c),a.getLabel().setAllLocations(b,c)):a.getLabel().setAllLocations(b,f.EXTERIOR)};Ab.prototype.computeIM=function(){var a=new G;a.set(f.EXTERIOR,f.EXTERIOR,2);if(!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(a),a;this._arg[0].computeSelfNodes(this._li,!1);this._arg[1].computeSelfNodes(this._li,!1);var b=this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!1);this.computeIntersectionNodes(0);this.computeIntersectionNodes(1);
this.copyNodesAndLabels(0);this.copyNodesAndLabels(1);this.labelIsolatedNodes();this.computeProperIntersectionIM(b,a);b=new fe;var c=b.computeEdgeEnds(this._arg[0].getEdgeIterator());this.insertEdgeEnds(c);b=b.computeEdgeEnds(this._arg[1].getEdgeIterator());this.insertEdgeEnds(b);this.labelNodeEdges();this.labelIsolatedEdges(0,1);this.labelIsolatedEdges(1,0);this.updateIM(a);return a};Ab.prototype.labelNodeEdges=function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().computeLabelling(this._arg)};
Ab.prototype.copyNodesAndLabels=function(a){for(var b=this._arg[a].getNodeIterator();b.hasNext();){var c=b.next();this._nodes.addNode(c.getCoordinate()).setLabel(a,c.getLabel().getLocation(a))}};Ab.prototype.labelIntersectionNodes=function(a){for(var b=this._arg[a].getEdgeIterator();b.hasNext();){var c=b.next(),d=c.getLabel().getLocation(a);for(c=c.getEdgeIntersectionList().iterator();c.hasNext();){var e=c.next();e=this._nodes.find(e.coord);e.getLabel().isNull(a)&&(d===f.BOUNDARY?e.setLabelBoundary(a):
e.setLabel(a,f.INTERIOR))}}};Ab.prototype.labelIsolatedNode=function(a,b){var c=this._ptLocator.locate(a.getCoordinate(),this._arg[b].getGeometry());a.getLabel().setAllLocations(b,c)};Ab.prototype.computeIntersectionNodes=function(a){for(var b=this._arg[a].getEdgeIterator();b.hasNext();){var c=b.next(),d=c.getLabel().getLocation(a);for(c=c.getEdgeIntersectionList().iterator();c.hasNext();){var e=c.next();e=this._nodes.addNode(e.coord);d===f.BOUNDARY?e.setLabelBoundary(a):e.getLabel().isNull(a)&&e.setLabel(a,
f.INTERIOR)}}};Ab.prototype.labelIsolatedNodes=function(){for(var a=this._nodes.iterator();a.hasNext();){var b=a.next(),c=b.getLabel();w.isTrue(0<c.getGeometryCount(),"node with empty label found");b.isIsolated()&&(c.isNull(0)?this.labelIsolatedNode(b,0):this.labelIsolatedNode(b,1))}};Ab.prototype.updateIM=function(a){for(var b=this._isolatedEdges.iterator();b.hasNext();)b.next().updateIM(a);for(b=this._nodes.iterator();b.hasNext();){var c=b.next();c.updateIM(a);c.updateIMFromEdges(a)}};Ab.prototype.computeDisjointIM=
function(a){var b=this._arg[0].getGeometry();b.isEmpty()||(a.set(f.INTERIOR,f.EXTERIOR,b.getDimension()),a.set(f.BOUNDARY,f.EXTERIOR,b.getBoundaryDimension()));b=this._arg[1].getGeometry();b.isEmpty()||(a.set(f.EXTERIOR,f.INTERIOR,b.getDimension()),a.set(f.EXTERIOR,f.BOUNDARY,b.getBoundaryDimension()))};Ab.prototype.getClass=function(){return Ab};$jscomp.global.Object.defineProperties(Ab.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ab.constructor_=function(a){this._li=
new ca;this._ptLocator=new Pb;this._arg=null;this._nodes=new lc(new Ve);this._im=null;this._isolatedEdges=new m;this._invalidPoint=null;this._arg=a};var dd=function(){dd.constructor_.apply(this,arguments)};dd.contains=function(a,b){return(new dd(a)).contains(b)};dd.prototype.isContainedInBoundary=function(a){if(a instanceof D)return!1;if(a instanceof N)return this.isPointContainedInBoundary(a);if(a instanceof u)return this.isLineStringContainedInBoundary(a);for(var b=0;b<a.getNumGeometries();b++){var c=
a.getGeometryN(b);if(!this.isContainedInBoundary(c))return!1}return!0};dd.prototype.isLineSegmentContainedInBoundary=function(a,b){if(a.equals(b))return this.isPointContainedInBoundary(a);if(a.x===b.x){if(a.x===this._rectEnv.getMinX()||a.x===this._rectEnv.getMaxX())return!0}else if(a.y===b.y&&(a.y===this._rectEnv.getMinY()||a.y===this._rectEnv.getMaxY()))return!0;return!1};dd.prototype.isLineStringContainedInBoundary=function(a){a=a.getCoordinateSequence();for(var b=new h,c=new h,d=0;d<a.size()-1;d++)if(a.getCoordinate(d,
b),a.getCoordinate(d+1,c),!this.isLineSegmentContainedInBoundary(b,c))return!1;return!0};dd.prototype.isPointContainedInBoundary=function(a){if(a instanceof N)return this.isPointContainedInBoundary(a.getCoordinate());if(a instanceof h)return a.x===this._rectEnv.getMinX()||a.x===this._rectEnv.getMaxX()||a.y===this._rectEnv.getMinY()||a.y===this._rectEnv.getMaxY()};dd.prototype.contains=function(a){return!this._rectEnv.contains(a.getEnvelopeInternal())||this.isContainedInBoundary(a)?!1:!0};dd.prototype.getClass=
function(){return dd};$jscomp.global.Object.defineProperties(dd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});dd.constructor_=function(a){this._rectEnv=null;this._rectEnv=a.getEnvelopeInternal()};var Pf=function(){Pf.constructor_.apply(this,arguments)};Pf.prototype.intersects=function(a,b){var c=new r(a,b);if(!this._rectEnv.intersects(c))return!1;if(this._rectEnv.intersects(a)||this._rectEnv.intersects(b))return!0;0<a.compareTo(b)&&(c=a,a=b,b=c);c=!1;b.y>a.y&&(c=
!0);c?this._li.computeIntersection(a,b,this._diagDown0,this._diagDown1):this._li.computeIntersection(a,b,this._diagUp0,this._diagUp1);return this._li.hasIntersection()?!0:!1};Pf.prototype.getClass=function(){return Pf};$jscomp.global.Object.defineProperties(Pf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Pf.constructor_=function(a){this._li=new ca;this._diagDown1=this._diagDown0=this._diagUp1=this._diagUp0=null;this._rectEnv=a;this._diagUp0=new h(a.getMinX(),a.getMinY());
this._diagUp1=new h(a.getMaxX(),a.getMaxY());this._diagDown0=new h(a.getMinX(),a.getMaxY());this._diagDown1=new h(a.getMaxX(),a.getMinY())};var qd=function(){qd.constructor_.apply(this,arguments)};qd.prototype.applyTo=function(a){for(var b=0;b<a.getNumGeometries()&&!this._isDone;b++){var c=a.getGeometryN(b);if(c instanceof x)this.applyTo(c);else if(this.visit(c),this.isDone())return this._isDone=!0,null}};qd.prototype.getClass=function(){return qd};$jscomp.global.Object.defineProperties(qd.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});qd.constructor_=function(){this._isDone=!1};var ge=function(){ge.constructor_.apply(this,arguments)};ge.intersects=function(a,b){return(new ge(a)).intersects(b)};ge.prototype.intersects=function(a){if(!this._rectEnv.intersects(a.getEnvelopeInternal()))return!1;var b=new he(this._rectEnv);b.applyTo(a);if(b.intersects())return!0;b=new ie(this._rectangle);b.applyTo(a);if(b.containsPoint())return!0;b=new rd(this._rectangle);b.applyTo(a);
return b.intersects()?!0:!1};ge.prototype.getClass=function(){return ge};$jscomp.global.Object.defineProperties(ge.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ge.constructor_=function(a){this._rectEnv=null;this._rectangle=a;this._rectEnv=a.getEnvelopeInternal()};var he=function(){var a=qd.call(this)||this;he.constructor_.apply(a,arguments);return a};$jscomp.inherits(he,qd);he.prototype.isDone=function(){return!0===this._intersects};he.prototype.visit=function(a){a=
a.getEnvelopeInternal();if(!this._rectEnv.intersects(a))return null;if(this._rectEnv.contains(a)||a.getMinX()>=this._rectEnv.getMinX()&&a.getMaxX()<=this._rectEnv.getMaxX()||a.getMinY()>=this._rectEnv.getMinY()&&a.getMaxY()<=this._rectEnv.getMaxY())return this._intersects=!0,null};he.prototype.intersects=function(){return this._intersects};he.prototype.getClass=function(){return he};$jscomp.global.Object.defineProperties(he.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
he.constructor_=function(a){this._intersects=!1;this._rectEnv=a};var ie=function(){var a=qd.call(this)||this;ie.constructor_.apply(a,arguments);return a};$jscomp.inherits(ie,qd);ie.prototype.isDone=function(){return!0===this._containsPoint};ie.prototype.visit=function(a){if(!(a instanceof D))return null;var b=a.getEnvelopeInternal();if(!this._rectEnv.intersects(b))return null;for(var c=new h,d=0;4>d;d++)if(this._rectSeq.getCoordinate(d,c),b.contains(c)&&kb.containsPointInPolygon(c,a))return this._containsPoint=
!0,null};ie.prototype.containsPoint=function(){return this._containsPoint};ie.prototype.getClass=function(){return ie};$jscomp.global.Object.defineProperties(ie.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ie.constructor_=function(a){this._rectEnv=this._rectSeq=null;this._containsPoint=!1;this._rectSeq=a.getExteriorRing().getCoordinateSequence();this._rectEnv=a.getEnvelopeInternal()};var rd=function(){var a=qd.call(this)||this;rd.constructor_.apply(a,arguments);
return a};$jscomp.inherits(rd,qd);rd.prototype.intersects=function(){return this._hasIntersection};rd.prototype.isDone=function(){return!0===this._hasIntersection};rd.prototype.visit=function(a){var b=a.getEnvelopeInternal();if(!this._rectEnv.intersects(b))return null;a=Ya.getLines(a);this.checkIntersectionWithLineStrings(a)};rd.prototype.checkIntersectionWithLineStrings=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();this.checkIntersectionWithSegments(b);if(this._hasIntersection)return null}};
rd.prototype.checkIntersectionWithSegments=function(a){a=a.getCoordinateSequence();for(var b=1;b<a.size();b++)if(a.getCoordinate(b-1,this._p0),a.getCoordinate(b,this._p1),this._rectIntersector.intersects(this._p0,this._p1))return this._hasIntersection=!0,null};rd.prototype.getClass=function(){return rd};$jscomp.global.Object.defineProperties(rd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});rd.constructor_=function(a){this._rectIntersector=this._rectEnv=null;this._hasIntersection=
!1;this._p0=new h;this._p1=new h;this._rectEnv=a.getEnvelopeInternal();this._rectIntersector=new Pf(this._rectEnv)};var ia=function(){var a=Dc.call(this)||this;ia.constructor_.apply(a,arguments);return a};$jscomp.inherits(ia,Dc);ia.covers=function(a,b){return 2===b.getDimension()&&2>a.getDimension()||1===b.getDimension()&&1>a.getDimension()&&0<b.getLength()||!a.getEnvelopeInternal().covers(b.getEnvelopeInternal())?!1:a.isRectangle()?!0:(new ia(a,b)).getIntersectionMatrix().isCovers()};ia.intersects=
function(a,b){if(!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal()))return!1;if(a.isRectangle())return ge.intersects(a,b);if(b.isRectangle())return ge.intersects(b,a);if(a.isGeometryCollection()||b.isGeometryCollection()){for(var c=0;c<a.getNumGeometries();c++)for(var d=0;d<b.getNumGeometries();d++)if(a.getGeometryN(c).intersects(b.getGeometryN(d)))return!0;return!1}return(new ia(a,b)).getIntersectionMatrix().isIntersects()};ia.touches=function(a,b){return a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())?
(new ia(a,b)).getIntersectionMatrix().isTouches(a.getDimension(),b.getDimension()):!1};ia.relate=function(){if(2===arguments.length){var a=new ia(arguments[0],arguments[1]);return a=a.getIntersectionMatrix()}if(3===arguments.length)return a=new ia(arguments[0],arguments[1],arguments[2]),a=a.getIntersectionMatrix()};ia.overlaps=function(a,b){return a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())?(new ia(a,b)).getIntersectionMatrix().isOverlaps(a.getDimension(),b.getDimension()):!1};ia.crosses=
function(a,b){return a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())?(new ia(a,b)).getIntersectionMatrix().isCrosses(a.getDimension(),b.getDimension()):!1};ia.contains=function(a,b){return 2===b.getDimension()&&2>a.getDimension()||1===b.getDimension()&&1>a.getDimension()&&0<b.getLength()||!a.getEnvelopeInternal().contains(b.getEnvelopeInternal())?!1:a.isRectangle()?dd.contains(a,b):(new ia(a,b)).getIntersectionMatrix().isContains()};ia.prototype.getIntersectionMatrix=function(){return this._relate.computeIM()};
ia.prototype.getClass=function(){return ia};$jscomp.global.Object.defineProperties(ia.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ia.constructor_=function(){this._relate=null;2===arguments.length?(Dc.constructor_.call(this,arguments[0],arguments[1]),this._relate=new Ab(this._arg)):3===arguments.length&&(Dc.constructor_.call(this,arguments[0],arguments[1],arguments[2]),this._relate=new Ab(this._arg))};var gh=Object.freeze({RelateOp:ia}),Kb=function(){Kb.constructor_.apply(this,
arguments)};Kb.combine=function(){if(1===arguments.length){var a=new Kb(arguments[0]);return a.combine()}if(2===arguments.length)return a=new Kb(Kb.createList(arguments[0],arguments[1])),a.combine();if(3===arguments.length)return a=new Kb(Kb.createList(arguments[0],arguments[1],arguments[2])),a.combine()};Kb.extractFactory=function(a){return a.isEmpty()?null:a.iterator().next().getFactory()};Kb.createList=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new m;c.add(a);c.add(b);
return c}if(3===arguments.length){a=arguments[0];b=arguments[1];var d=arguments[2];c=new m;c.add(a);c.add(b);c.add(d);return c}};Kb.prototype.extractElements=function(a,b){if(null===a)return null;for(var c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c);this._skipEmpty&&d.isEmpty()||b.add(d)}};Kb.prototype.combine=function(){for(var a=new m,b=this._inputGeoms.iterator();b.hasNext();){var c=b.next();this.extractElements(c,a)}return 0===a.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection():
null:this._geomFactory.buildGeometry(a)};Kb.prototype.getClass=function(){return Kb};$jscomp.global.Object.defineProperties(Kb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Kb.constructor_=function(a){this._geomFactory=null;this._skipEmpty=!1;this._inputGeoms=null;this._geomFactory=Kb.extractFactory(a);this._inputGeoms=a};var We=function(){We.constructor_.apply(this,arguments)};We.union=function(a,b){return(new We(a,b)).union()};We.prototype.union=function(){for(var a=
new Pb,b=new Zb,c=0;c<this._pointGeom.getNumGeometries();c++){var d=this._pointGeom.getGeometryN(c).getCoordinate();a.locate(d,this._otherGeom)===f.EXTERIOR&&b.add(d)}if(0===b.size())return this._otherGeom;a=C.toCoordinateArray(b);a=1===a.length?this._geomFact.createPoint(a[0]):this._geomFact.createMultiPointFromCoords(a);return Kb.combine(a,this._otherGeom)};We.prototype.getClass=function(){return We};$jscomp.global.Object.defineProperties(We.prototype,{interfaces_:{configurable:!0,enumerable:!0,
get:function(){return[]}}});We.constructor_=function(a,b){this._geomFact=null;this._pointGeom=a;this._otherGeom=b;this._geomFact=b.getFactory()};var pc=function(){pc.constructor_.apply(this,arguments)};pc.isOfType=function(a,b){return a.getGeometryType()===b||b===l.TYPENAME_LINESTRING&&a.getGeometryType()===l.TYPENAME_LINEARRING?!0:!1};pc.extract=function(){if(2===arguments.length)return pc.extract(arguments[0],arguments[1],new m);if(3===arguments.length){if(v(arguments[2],cb)&&arguments[0]instanceof
l&&"string"===typeof arguments[1]){var a=arguments[0],b=arguments[1],c=arguments[2];a.getGeometryType()===b?c.add(a):a instanceof x&&a.apply(new pc(b,c));return c}if(v(arguments[2],cb)&&arguments[0]instanceof l&&arguments[1]instanceof Class)return a=arguments[2],pc.extract(arguments[0],pc.toGeometryType(arguments[1]),a)}};pc.prototype.filter=function(a){(null===this._geometryType||pc.isOfType(a,this._geometryType))&&this._comps.add(a)};pc.prototype.getClass=function(){return pc};$jscomp.global.Object.defineProperties(pc.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Gc]}}});pc.constructor_=function(a,b){this._geometryType=a;this._comps=b};var Ja=function(){Ja.constructor_.apply(this,arguments)};Ja.restrictToPolygons=function(a){if(v(a,Uc))return a;var b=Gd.getPolygons(a);return 1===b.size()?b.get(0):a.getFactory().createMultiPolygon(B.toPolygonArray(b))};Ja.getGeometry=function(a,b){return b>=a.size()?null:a.get(b)};Ja.union=function(a){return(new Ja(a)).union()};Ja.prototype.reduceToGeometries=
function(a){var b=new m;for(a=a.iterator();a.hasNext();){var c=a.next(),d=null;v(c,cb)?d=this.unionTree(c):c instanceof l&&(d=c);b.add(d)}return b};Ja.prototype.extractByEnvelope=function(a,b,c){for(var d=new m,e=0;e<b.getNumGeometries();e++){var g=b.getGeometryN(e);g.getEnvelopeInternal().intersects(a)?d.add(g):c.add(g)}return this._geomFactory.buildGeometry(d)};Ja.prototype.unionOptimized=function(a,b){var c=a.getEnvelopeInternal(),d=b.getEnvelopeInternal();if(!c.intersects(d))return Kb.combine(a,
b);if(1>=a.getNumGeometries()&&1>=b.getNumGeometries())return this.unionActual(a,b);c=c.intersection(d);return this.unionUsingEnvelopeIntersection(a,b,c)};Ja.prototype.union=function(){if(null===this._inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var a=new O(Ja.STRTREE_NODE_CAPACITY),b=this._inputPolys.iterator();b.hasNext();){var c=b.next();a.insert(c.getEnvelopeInternal(),
c)}this._inputPolys=null;a=a.itemsTree();return this.unionTree(a)};Ja.prototype.binaryUnion=function(){if(1===arguments.length){var a=arguments[0];return this.binaryUnion(a,0,a.size())}if(3===arguments.length){a=arguments[0];var b=arguments[1],c=arguments[2];if(1>=c-b)return b=Ja.getGeometry(a,b),this.unionSafe(b,null);if(2===c-b)return this.unionSafe(Ja.getGeometry(a,b),Ja.getGeometry(a,b+1));var d=Math.trunc((c+b)/2);b=this.binaryUnion(a,b,d);a=this.binaryUnion(a,d,c);return this.unionSafe(b,a)}};
Ja.prototype.repeatedUnion=function(a){var b=null;for(a=a.iterator();a.hasNext();){var c=a.next();b=null===b?c.copy():b.union(c)}return b};Ja.prototype.unionSafe=function(a,b){return null===a&&null===b?null:null===a?b.copy():null===b?a.copy():this.unionOptimized(a,b)};Ja.prototype.unionActual=function(a,b){return Ja.restrictToPolygons(a.union(b))};Ja.prototype.unionTree=function(a){a=this.reduceToGeometries(a);return this.binaryUnion(a)};Ja.prototype.unionUsingEnvelopeIntersection=function(a,b,c){var d=
new m;a=this.extractByEnvelope(c,a,d);b=this.extractByEnvelope(c,b,d);b=this.unionActual(a,b);d.add(b);return Kb.combine(d)};Ja.prototype.bufferUnion=function(){if(1===arguments.length){var a=arguments[0],b=a.get(0).getFactory();b=b.buildGeometry(a);return b=b.buffer(0)}if(2===arguments.length){a=arguments[0];var c=arguments[1];b=a.getFactory();b=b.createGeometryCollection([a,c]);return b=b.buffer(0)}};Ja.prototype.getClass=function(){return Ja};$jscomp.global.Object.defineProperties(Ja.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ja.constructor_=function(a){this._geomFactory=null;this._inputPolys=a;null===this._inputPolys&&(this._inputPolys=new m)};Ja.STRTREE_NODE_CAPACITY=4;var Fc=function(){Fc.constructor_.apply(this,arguments)};Fc.union=function(){if(1===arguments.length){if(v(arguments[0],ra)){var a=new Fc(arguments[0]);return a.union()}if(arguments[0]instanceof l)return a=new Fc(arguments[0]),a.union()}else if(2===arguments.length)return a=new Fc(arguments[0],
arguments[1]),a.union()};Fc.prototype.unionNoOpt=function(a){var b=this._geomFact.createPoint();return hb.overlayOp(a,b,t.UNION)};Fc.prototype.unionWithNull=function(a,b){return null===a&&null===b?null:null===b?a:null===a?b:a.union(b)};Fc.prototype.extract=function(a){if(v(a,ra))for(a=a.iterator();a.hasNext();){var b=a.next();this.extract(b)}else a instanceof l&&(null===this._geomFact&&(this._geomFact=a.getFactory()),pc.extract(a,l.TYPENAME_POLYGON,this._polygons),pc.extract(a,l.TYPENAME_LINESTRING,
this._lines),pc.extract(a,l.TYPENAME_POINT,this._points))};Fc.prototype.union=function(){if(null===this._geomFact)return null;var a=null;0<this._points.size()&&(a=this._geomFact.buildGeometry(this._points),a=this.unionNoOpt(a));var b=null;0<this._lines.size()&&(b=this._geomFact.buildGeometry(this._lines),b=this.unionNoOpt(b));var c=null;0<this._polygons.size()&&(c=Ja.union(this._polygons));b=this.unionWithNull(b,c);a=null===a?b:null===b?a:We.union(a,b);return null===a?this._geomFact.createGeometryCollection():
a};Fc.prototype.getClass=function(){return Fc};$jscomp.global.Object.defineProperties(Fc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Fc.constructor_=function(){this._polygons=new m;this._lines=new m;this._points=new m;this._geomFact=null;if(1===arguments.length)v(arguments[0],ra)?this.extract(arguments[0]):arguments[0]instanceof l&&this.extract(arguments[0]);else if(2===arguments.length){var a=arguments[0];this._geomFact=arguments[1];this.extract(a)}};var hh=
Object.freeze({UnaryUnionOp:Fc}),qc=function(){qc.constructor_.apply(this,arguments)};qc.findDifferentPoint=function(a,b){for(var c=0;c<a.length;c++)if(!a[c].equals(b))return a[c];return null};qc.prototype.visitInteriorRing=function(a,b){var c=a.getCoordinates();a=c[0];c=qc.findDifferentPoint(c,a);a=b.findEdgeInSameDirection(a,c);b=b.findEdgeEnd(a);a=null;b.getLabel().getLocation(0,p.RIGHT)===f.INTERIOR?a=b:b.getSym().getLabel().getLocation(0,p.RIGHT)===f.INTERIOR&&(a=b.getSym());w.isTrue(null!==
a,"unable to find dirEdge with Interior on RHS");this.visitLinkedDirectedEdges(a)};qc.prototype.visitShellInteriors=function(a,b){a instanceof D&&this.visitInteriorRing(a.getExteriorRing(),b);if(a instanceof ta)for(var c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c);this.visitInteriorRing(d.getExteriorRing(),b)}};qc.prototype.getCoordinate=function(){return this._disconnectedRingcoord};qc.prototype.setInteriorEdgesInResult=function(a){for(a=a.getEdgeEnds().iterator();a.hasNext();){var b=a.next();
b.getLabel().getLocation(0,p.RIGHT)===f.INTERIOR&&b.setInResult(!0)}};qc.prototype.visitLinkedDirectedEdges=function(a){var b=a;do w.isTrue(null!==b,"found null Directed Edge"),b.setVisited(!0),b=b.getNext();while(b!==a)};qc.prototype.buildEdgeRings=function(a){var b=new m;for(a=a.iterator();a.hasNext();){var c=a.next();c.isInResult()&&null===c.getEdgeRing()&&(c=new nd(c,this._geometryFactory),c.linkDirectedEdgesForMinimalEdgeRings(),c=c.buildMinimalRings(),b.addAll(c))}return b};qc.prototype.hasUnvisitedShellEdge=
function(a){for(var b=0;b<a.size();b++){var c=a.get(b);if(!c.isHole()){c=c.getEdges();var d=c.get(0);if(d.getLabel().getLocation(0,p.RIGHT)===f.INTERIOR)for(var e=0;e<c.size();e++)if(d=c.get(e),!d.isVisited())return this._disconnectedRingcoord=d.getCoordinate(),!0}}return!1};qc.prototype.isInteriorsConnected=function(){var a=new m;this._geomGraph.computeSplitEdges(a);var b=new na(new be);b.addEdges(a);this.setInteriorEdgesInResult(b);b.linkResultDirectedEdges();a=this.buildEdgeRings(b.getEdgeEnds());
this.visitShellInteriors(this._geomGraph.getGeometry(),b);return!this.hasUnvisitedShellEdge(a)};qc.prototype.getClass=function(){return qc};$jscomp.global.Object.defineProperties(qc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});qc.constructor_=function(a){this._geometryFactory=new B;this._disconnectedRingcoord=null;this._geomGraph=a};var Ld=function(){Ld.constructor_.apply(this,arguments)};Ld.prototype.insertEdgeEnds=function(a){for(a=a.iterator();a.hasNext();){var b=
a.next();this._nodes.add(b)}};Ld.prototype.getNodeIterator=function(){return this._nodes.iterator()};Ld.prototype.copyNodesAndLabels=function(a,b){for(a=a.getNodeIterator();a.hasNext();){var c=a.next();this._nodes.addNode(c.getCoordinate()).setLabel(b,c.getLabel().getLocation(b))}};Ld.prototype.build=function(a){this.computeIntersectionNodes(a,0);this.copyNodesAndLabels(a,0);a=(new fe).computeEdgeEnds(a.getEdgeIterator());this.insertEdgeEnds(a)};Ld.prototype.computeIntersectionNodes=function(a,b){for(a=
a.getEdgeIterator();a.hasNext();){var c=a.next(),d=c.getLabel().getLocation(b);for(c=c.getEdgeIntersectionList().iterator();c.hasNext();){var e=c.next();e=this._nodes.addNode(e.coord);d===f.BOUNDARY?e.setLabelBoundary(b):e.getLabel().isNull(b)&&e.setLabel(b,f.INTERIOR)}}};Ld.prototype.getClass=function(){return Ld};$jscomp.global.Object.defineProperties(Ld.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ld.constructor_=function(){this._nodes=new lc(new Ve)};var Md=
function(){Md.constructor_.apply(this,arguments)};Md.prototype.isNodeEdgeAreaLabelsConsistent=function(){for(var a=this._nodeGraph.getNodeIterator();a.hasNext();){var b=a.next();if(!b.getEdges().isAreaLabelsConsistent(this._geomGraph))return this._invalidPoint=b.getCoordinate().copy(),!1}return!0};Md.prototype.getInvalidPoint=function(){return this._invalidPoint};Md.prototype.hasDuplicateRings=function(){for(var a=this._nodeGraph.getNodeIterator();a.hasNext();)for(var b=a.next().getEdges().iterator();b.hasNext();){var c=
b.next();if(1<c.getEdgeEnds().size())return this._invalidPoint=c.getEdge().getCoordinate(0),!0}return!1};Md.prototype.isNodeConsistentArea=function(){var a=this._geomGraph.computeSelfNodes(this._li,!0,!0);if(a.hasProperIntersection())return this._invalidPoint=a.getProperIntersectionPoint(),!1;this._nodeGraph.build(this._geomGraph);return this.isNodeEdgeAreaLabelsConsistent()};Md.prototype.getClass=function(){return Md};$jscomp.global.Object.defineProperties(Md.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});Md.constructor_=function(a){this._li=new ca;this._geomGraph=null;this._nodeGraph=new Ld;this._invalidPoint=null;this._geomGraph=a};var je=function(){je.constructor_.apply(this,arguments)};je.prototype.buildIndex=function(){this._index=new O;for(var a=0;a<this._rings.size();a++){var b=this._rings.get(a),c=b.getEnvelopeInternal();this._index.insert(c,b)}};je.prototype.getNestedPoint=function(){return this._nestedPt};je.prototype.isNonNested=function(){this.buildIndex();
for(var a=0;a<this._rings.size();a++)for(var b=this._rings.get(a),c=b.getCoordinates(),d=this._index.query(b.getEnvelopeInternal()),e=0;e<d.size();e++){var g=d.get(e),f=g.getCoordinates();if(b!==g&&b.getEnvelopeInternal().intersects(g.getEnvelopeInternal())&&(g=ma.findPtNotNode(c,g,this._graph),null!==g&&jb.isInRing(g,f)))return this._nestedPt=g,!1}return!0};je.prototype.add=function(a){this._rings.add(a);this._totalEnv.expandToInclude(a.getEnvelopeInternal())};je.prototype.getClass=function(){return je};
$jscomp.global.Object.defineProperties(je.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});je.constructor_=function(a){this._graph=null;this._rings=new m;this._totalEnv=new r;this._nestedPt=this._index=null;this._graph=a};var P=function(){P.constructor_.apply(this,arguments)};P.prototype.getErrorType=function(){return this._errorType};P.prototype.getMessage=function(){return P.errMsg[this._errorType]};P.prototype.getCoordinate=function(){return this._pt};P.prototype.toString=
function(){var a="";null!==this._pt&&(a=" at or near point "+this._pt);return this.getMessage()+a};P.prototype.getClass=function(){return P};$jscomp.global.Object.defineProperties(P.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});P.constructor_=function(){this._pt=this._errorType=null;if(1===arguments.length)P.constructor_.call(this,arguments[0],null);else if(2===arguments.length){var a=arguments[1];this._errorType=arguments[0];null!==a&&(this._pt=a.copy())}};P.ERROR=
0;P.REPEATED_POINT=1;P.HOLE_OUTSIDE_SHELL=2;P.NESTED_HOLES=3;P.DISCONNECTED_INTERIOR=4;P.SELF_INTERSECTION=5;P.RING_SELF_INTERSECTION=6;P.NESTED_SHELLS=7;P.DUPLICATE_RINGS=8;P.TOO_FEW_POINTS=9;P.INVALID_COORDINATE=10;P.RING_NOT_CLOSED=11;P.errMsg="Topology Validation Error;Repeated Point;Hole lies outside shell;Holes are nested;Interior is disconnected;Self-intersection;Ring Self-intersection;Nested shells;Duplicate Rings;Too few distinct points in geometry component;Invalid Coordinate;Ring is not closed".split(";");
var ma=function(){ma.constructor_.apply(this,arguments)};ma.findPtNotNode=function(a,b,c){b=c.findEdge(b).getEdgeIntersectionList();for(c=0;c<a.length;c++){var d=a[c];if(!b.isIntersection(d))return d}return null};ma.isValid=function(a){if(a instanceof l)return(new ma(a)).isValid();if(a instanceof h)return y.isNaN(a.x)||y.isInfinite(a.x)||y.isNaN(a.y)||y.isInfinite(a.y)?!1:!0};ma.prototype.checkInvalidCoordinates=function(a){if(a instanceof Array)for(var b=0;b<a.length;b++){if(!ma.isValid(a[b]))return this._validErr=
new P(P.INVALID_COORDINATE,a[b]),null}else if(a instanceof D){this.checkInvalidCoordinates(a.getExteriorRing().getCoordinates());if(null!==this._validErr)return null;for(b=0;b<a.getNumInteriorRing();b++)if(this.checkInvalidCoordinates(a.getInteriorRingN(b).getCoordinates()),null!==this._validErr)return null}};ma.prototype.checkHolesNotNested=function(a,b){b=new je(b);for(var c=0;c<a.getNumInteriorRing();c++){var d=a.getInteriorRingN(c);b.add(d)}b.isNonNested()||(this._validErr=new P(P.NESTED_HOLES,
b.getNestedPoint()))};ma.prototype.checkConsistentArea=function(a){a=new Md(a);if(!a.isNodeConsistentArea())return this._validErr=new P(P.SELF_INTERSECTION,a.getInvalidPoint()),null;a.hasDuplicateRings()&&(this._validErr=new P(P.DUPLICATE_RINGS,a.getInvalidPoint()))};ma.prototype.isValid=function(){this.checkValid(this._parentGeometry);return null===this._validErr};ma.prototype.checkShellInsideHole=function(a,b,c){var d=a.getCoordinates(),e=b.getCoordinates();b=ma.findPtNotNode(d,b,c);if(null!==b&&
!jb.isInRing(b,e))return b;a=ma.findPtNotNode(e,a,c);if(null!==a)return jb.isInRing(a,d)?a:null;w.shouldNeverReachHere("points in shell and hole appear to be equal");return null};ma.prototype.checkNoSelfIntersectingRings=function(a){for(a=a.getEdgeIterator();a.hasNext();){var b=a.next();this.checkNoSelfIntersectingRing(b.getEdgeIntersectionList());if(null!==this._validErr)return null}};ma.prototype.checkConnectedInteriors=function(a){a=new qc(a);a.isInteriorsConnected()||(this._validErr=new P(P.DISCONNECTED_INTERIOR,
a.getCoordinate()))};ma.prototype.checkNoSelfIntersectingRing=function(a){var b=new Zb,c=!0;for(a=a.iterator();a.hasNext();){var d=a.next();if(c)c=!1;else{if(b.contains(d.coord))return this._validErr=new P(P.RING_SELF_INTERSECTION,d.coord),null;b.add(d.coord)}}};ma.prototype.checkHolesInShell=function(a,b){for(var c=a.getExteriorRing(),d=new Ad(c),e=0;e<a.getNumInteriorRing();e++){var g=a.getInteriorRingN(e);g=ma.findPtNotNode(g.getCoordinates(),c,b);if(null===g)return null;if(f.EXTERIOR===d.locate(g))return this._validErr=
new P(P.HOLE_OUTSIDE_SHELL,g),null}};ma.prototype.checkTooFewPoints=function(a){if(a.hasTooFewPoints())return this._validErr=new P(P.TOO_FEW_POINTS,a.getInvalidPoint()),null};ma.prototype.getValidationError=function(){this.checkValid(this._parentGeometry);return this._validErr};ma.prototype.checkValid=function(a){if(a instanceof N)this.checkInvalidCoordinates(a.getCoordinates());else if(a instanceof Ga)this.checkInvalidCoordinates(a.getCoordinates());else if(a instanceof ba){this.checkInvalidCoordinates(a.getCoordinates());
if(null!==this._validErr)return null;this.checkClosedRing(a);if(null!==this._validErr)return null;var b=new W(0,a);this.checkTooFewPoints(b);if(null!==this._validErr)return null;a=new ca;b.computeSelfNodes(a,!0,!0);this.checkNoSelfIntersectingRings(b)}else if(a instanceof u){this.checkInvalidCoordinates(a.getCoordinates());if(null!==this._validErr)return null;b=new W(0,a);this.checkTooFewPoints(b)}else if(a instanceof D){this.checkInvalidCoordinates(a);if(null!==this._validErr)return null;this.checkClosedRings(a);
if(null!==this._validErr)return null;b=new W(0,a);this.checkTooFewPoints(b);if(null!==this._validErr)return null;this.checkConsistentArea(b);if(null!==this._validErr||!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(b),null!==this._validErr))return null;this.checkHolesInShell(a,b);if(null!==this._validErr)return null;this.checkHolesNotNested(a,b);if(null!==this._validErr)return null;this.checkConnectedInteriors(b)}else if(a instanceof ta){for(var c=0;c<a.getNumGeometries();c++){var d=
a.getGeometryN(c);this.checkInvalidCoordinates(d);if(null!==this._validErr)return null;this.checkClosedRings(d);if(null!==this._validErr)return null}b=new W(0,a);this.checkTooFewPoints(b);if(null!==this._validErr)return null;this.checkConsistentArea(b);if(null!==this._validErr||!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(b),null!==this._validErr))return null;for(c=0;c<a.getNumGeometries();c++)if(d=a.getGeometryN(c),this.checkHolesInShell(d,b),null!==this._validErr)return null;
for(c=0;c<a.getNumGeometries();c++)if(d=a.getGeometryN(c),this.checkHolesNotNested(d,b),null!==this._validErr)return null;this.checkShellsNotNested(a,b);if(null!==this._validErr)return null;this.checkConnectedInteriors(b)}else if(a instanceof x)for(c=0;c<a.getNumGeometries();c++){if(b=a.getGeometryN(c),this.checkValid(b),null!==this._validErr)return null}else if(a instanceof l){this._validErr=null;if(a.isEmpty())return null;if(a instanceof N)this.checkValid(a);else if(a instanceof Ga)this.checkValid(a);
else if(a instanceof ba)this.checkValid(a);else if(a instanceof u)this.checkValid(a);else if(a instanceof D)this.checkValid(a);else if(a instanceof ta)this.checkValid(a);else if(a instanceof x)this.checkValid(a);else throw new UnsupportedOperationException(a.getClass().getName());}};ma.prototype.setSelfTouchingRingFormingHoleValid=function(a){this._isSelfTouchingRingFormingHoleValid=a};ma.prototype.checkShellNotNested=function(a,b,c){var d=a.getCoordinates(),e=b.getExteriorRing(),g=e.getCoordinates();
d=ma.findPtNotNode(d,e,c);if(null===d||!jb.isInRing(d,g))return null;if(0>=b.getNumInteriorRing())return this._validErr=new P(P.NESTED_SHELLS,d),null;d=null;for(g=0;g<b.getNumInteriorRing();g++)if(d=b.getInteriorRingN(g),d=this.checkShellInsideHole(a,d,c),null===d)return null;this._validErr=new P(P.NESTED_SHELLS,d)};ma.prototype.checkClosedRings=function(a){this.checkClosedRing(a.getExteriorRing());if(null!==this._validErr)return null;for(var b=0;b<a.getNumInteriorRing();b++)if(this.checkClosedRing(a.getInteriorRingN(b)),
null!==this._validErr)return null};ma.prototype.checkClosedRing=function(a){if(!a.isClosed()){var b=null;1<=a.getNumPoints()&&(b=a.getCoordinateN(0));this._validErr=new P(P.RING_NOT_CLOSED,b)}};ma.prototype.checkShellsNotNested=function(a,b){for(var c=0;c<a.getNumGeometries();c++)for(var d=a.getGeometryN(c).getExteriorRing(),e=0;e<a.getNumGeometries();e++)if(c!==e){var g=a.getGeometryN(e);this.checkShellNotNested(d,g,b);if(null!==this._validErr)return null}};ma.prototype.getClass=function(){return ma};
$jscomp.global.Object.defineProperties(ma.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ma.constructor_=function(a){this._isSelfTouchingRingFormingHoleValid=!1;this._validErr=null;this._parentGeometry=a};var ih=Object.freeze({IsValidOp:ma,ConsistentAreaTester:Md}),jh=Object.freeze({BoundaryOp:Mb,IsSimpleOp:pb,buffer:bh,distance:ch,linemerge:dh,overlay:eh,polygonize:fh,relate:gh,union:hh,valid:ih}),uf=function(){var a=Xa.CoordinateOperation.call(this)||this;uf.constructor_.apply(a,
arguments);return a};$jscomp.inherits(uf,Xa.CoordinateOperation);uf.prototype.edit=function(){if(2===arguments.length&&arguments[1]instanceof l&&arguments[0]instanceof Array){var a=arguments[0],b=arguments[1];if(0===a.length)return null;for(var c=Array(a.length).fill(null),d=0;d<a.length;d++){var e=new h(a[d]);this._targetPM.makePrecise(e);c[d]=e}a=(new ea(c,!1)).toCoordinateArray();d=0;b instanceof u&&(d=2);b instanceof ba&&(d=4);b=c;this._removeCollapsed&&(b=null);return a.length<d?b:a}return Xa.CoordinateOperation.prototype.edit.apply(this,
arguments)};uf.prototype.getClass=function(){return uf};$jscomp.global.Object.defineProperties(uf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});uf.constructor_=function(a,b){this._targetPM=a;this._removeCollapsed=b};var Lb=function(){Lb.constructor_.apply(this,arguments)};Lb.reduce=function(a,b){return(new Lb(b)).reduce(a)};Lb.reducePointwise=function(a,b){b=new Lb(b);b.setPointwise(!0);return b.reduce(a)};Lb.prototype.fixPolygonalTopology=function(a){var b=a;this._changePrecisionModel||
(b=this.changePM(a,this._targetPM));var c=b=za.bufferOp(b,0);this._changePrecisionModel||(c=b.copy(),this.changePM(c,a.getPrecisionModel()));return c};Lb.prototype.reducePointwise=function(a){if(this._changePrecisionModel){var b=this.createFactory(a.getFactory(),this._targetPM);b=new Xa(b)}else b=new Xa;var c=this._removeCollapsed;2<=a.getDimension()&&(c=!0);return b.edit(a,new uf(this._targetPM,c))};Lb.prototype.changePM=function(a,b){return this.createEditor(a.getFactory(),b).edit(a,new Xa.NoOpGeometryOperation)};
Lb.prototype.setRemoveCollapsedComponents=function(a){this._removeCollapsed=a};Lb.prototype.createFactory=function(a,b){return new B(b,a.getSRID(),a.getCoordinateSequenceFactory())};Lb.prototype.setChangePrecisionModel=function(a){this._changePrecisionModel=a};Lb.prototype.reduce=function(a){a=this.reducePointwise(a);return this._isPointwise||!v(a,Uc)||ma.isValid(a)?a:this.fixPolygonalTopology(a)};Lb.prototype.setPointwise=function(a){this._isPointwise=a};Lb.prototype.createEditor=function(a,b){if(a.getPrecisionModel()===
b)return new Xa;a=this.createFactory(a,b);return new Xa(a)};Lb.prototype.getClass=function(){return Lb};$jscomp.global.Object.defineProperties(Lb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Lb.constructor_=function(a){this._removeCollapsed=!0;this._isPointwise=this._changePrecisionModel=!1;this._targetPM=a};var kh=Object.freeze({GeometryPrecisionReducer:Lb}),Nd=function(){Nd.constructor_.apply(this,arguments)};Nd.simplify=function(a,b){a=new Nd(a);a.setDistanceTolerance(b);
return a.simplify()};Nd.prototype.simplifySection=function(a,b){if(a+1===b)return null;this._seg.p0=this._pts[a];this._seg.p1=this._pts[b];for(var c=-1,d=a,e=a+1;e<b;e++){var g=this._seg.distance(this._pts[e]);g>c&&(c=g,d=e)}if(c<=this._distanceTolerance)for(e=a+1;e<b;e++)this._usePt[e]=!1;else this.simplifySection(a,d),this.simplifySection(d,b)};Nd.prototype.setDistanceTolerance=function(a){this._distanceTolerance=a};Nd.prototype.simplify=function(){this._usePt=Array(this._pts.length).fill(null);
for(var a=0;a<this._pts.length;a++)this._usePt[a]=!0;this.simplifySection(0,this._pts.length-1);var b=new ea;for(a=0;a<this._pts.length;a++)this._usePt[a]&&b.add(new h(this._pts[a]));return b.toCoordinateArray()};Nd.prototype.getClass=function(){return Nd};$jscomp.global.Object.defineProperties(Nd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Nd.constructor_=function(a){this._distanceTolerance=this._usePt=this._pts=null;this._seg=new q;this._pts=a};var sd=function(){sd.constructor_.apply(this,
arguments)};sd.simplify=function(a,b){a=new sd(a);a.setDistanceTolerance(b);return a.getResultGeometry()};sd.prototype.setEnsureValid=function(a){this._isEnsureValidTopology=a};sd.prototype.getResultGeometry=function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():(new ed(this._isEnsureValidTopology,this._distanceTolerance)).transform(this._inputGeom)};sd.prototype.setDistanceTolerance=function(a){if(0>a)throw new F("Tolerance must be non-negative");this._distanceTolerance=a};sd.prototype.getClass=
function(){return sd};$jscomp.global.Object.defineProperties(sd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var ed=function(){var a=pa.call(this)||this;ed.constructor_.apply(a,arguments);return a};$jscomp.inherits(ed,pa);ed.prototype.transformPolygon=function(a,b){if(a.isEmpty())return null;a=pa.prototype.transformPolygon.call(this,a,b);return b instanceof ta?a:this.createValidArea(a)};ed.prototype.createValidArea=function(a){return this._isEnsureValidTopology?
a.buffer(0):a};ed.prototype.transformCoordinates=function(a,b){a=a.toCoordinateArray();a=0===a.length?[].fill(null):Nd.simplify(a,this._distanceTolerance);return this._factory.getCoordinateSequenceFactory().create(a)};ed.prototype.transformMultiPolygon=function(a,b){a=pa.prototype.transformMultiPolygon.call(this,a,b);return this.createValidArea(a)};ed.prototype.transformLinearRing=function(a,b){var c=b instanceof D;a=pa.prototype.transformLinearRing.call(this,a,b);return!c||a instanceof ba?a:null};
ed.prototype.getClass=function(){return ed};$jscomp.global.Object.defineProperties(ed.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ed.constructor_=function(a,b){this._isEnsureValidTopology=a;this._distanceTolerance=b};sd.DPTransformer=ed;sd.constructor_=function(a){this._distanceTolerance=null;this._isEnsureValidTopology=!0;this._inputGeom=a};var ke=function(){var a=q.call(this)||this;ke.constructor_.apply(a,arguments);return a};$jscomp.inherits(ke,q);ke.prototype.getIndex=
function(){return this._index};ke.prototype.getParent=function(){return this._parent};ke.prototype.getClass=function(){return ke};$jscomp.global.Object.defineProperties(ke.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ke.constructor_=function(){this._index=this._parent=null;if(2===arguments.length)ke.constructor_.call(this,arguments[0],arguments[1],null,-1);else if(4===arguments.length){var a=arguments[2],b=arguments[3];q.constructor_.call(this,arguments[0],arguments[1]);
this._parent=a;this._index=b}};var bb=function(){bb.constructor_.apply(this,arguments)};bb.extractCoordinates=function(a){for(var b=Array(a.size()+1).fill(null),c=null,d=0;d<a.size();d++)c=a.get(d),b[d]=c.p0;b[b.length-1]=c.p1;return b};bb.prototype.addToResult=function(a){this._resultSegs.add(a)};bb.prototype.asLineString=function(){return this._parentLine.getFactory().createLineString(bb.extractCoordinates(this._resultSegs))};bb.prototype.getResultSize=function(){var a=this._resultSegs.size();return 0===
a?0:a+1};bb.prototype.getParent=function(){return this._parentLine};bb.prototype.getSegment=function(a){return this._segs[a]};bb.prototype.getParentCoordinates=function(){return this._parentLine.getCoordinates()};bb.prototype.getMinimumSize=function(){return this._minimumSize};bb.prototype.asLinearRing=function(){return this._parentLine.getFactory().createLinearRing(bb.extractCoordinates(this._resultSegs))};bb.prototype.getSegments=function(){return this._segs};bb.prototype.init=function(){var a=
this._parentLine.getCoordinates();this._segs=Array(a.length-1).fill(null);for(var b=0;b<a.length-1;b++){var c=new ke(a[b],a[b+1],this._parentLine,b);this._segs[b]=c}};bb.prototype.getResultCoordinates=function(){return bb.extractCoordinates(this._resultSegs)};bb.prototype.getClass=function(){return bb};$jscomp.global.Object.defineProperties(bb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});bb.constructor_=function(){this._segs=this._parentLine=null;this._resultSegs=
new m;this._minimumSize=null;if(1===arguments.length)bb.constructor_.call(this,arguments[0],2);else if(2===arguments.length){var a=arguments[1];this._parentLine=arguments[0];this._minimumSize=a;this.init()}};var td=function(){td.constructor_.apply(this,arguments)};td.prototype.remove=function(a){this._index.remove(new r(a.p0,a.p1),a)};td.prototype.add=function(a){if(a instanceof bb){a=a.getSegments();for(var b=0;b<a.length;b++)this.add(a[b])}else a instanceof q&&this._index.insert(new r(a.p0,a.p1),
a)};td.prototype.query=function(a){var b=new r(a.p0,a.p1);a=new vf(a);this._index.query(b,a);return a.getItems()};td.prototype.getClass=function(){return td};$jscomp.global.Object.defineProperties(td.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});td.constructor_=function(){this._index=new Db};var vf=function(){vf.constructor_.apply(this,arguments)};vf.prototype.visitItem=function(a){r.intersects(a.p0,a.p1,this._querySeg.p0,this._querySeg.p1)&&this._items.add(a)};
vf.prototype.getItems=function(){return this._items};vf.prototype.getClass=function(){return vf};$jscomp.global.Object.defineProperties(vf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[yd]}}});vf.constructor_=function(a){this._querySeg=null;this._items=new m;this._querySeg=a};var Ub=function(){Ub.constructor_.apply(this,arguments)};Ub.isInLineSection=function(a,b,c){if(c.getParent()!==a.getParent())return!1;a=c.getIndex();return a>=b[0]&&a<b[1]?!0:!1};Ub.prototype.flatten=
function(a,b){var c=new q(this._linePts[a],this._linePts[b]);this.remove(this._line,a,b);this._outputIndex.add(c);return c};Ub.prototype.hasBadIntersection=function(a,b,c){return this.hasBadOutputIntersection(c)||this.hasBadInputIntersection(a,b,c)?!0:!1};Ub.prototype.setDistanceTolerance=function(a){this._distanceTolerance=a};Ub.prototype.simplifySection=function(a,b,c){c+=1;var d=Array(2).fill(null);if(a+1===b)return a=this._line.getSegment(a),this._line.addToResult(a),null;var e=!0;this._line.getResultSize()<
this._line.getMinimumSize()&&c+1<this._line.getMinimumSize()&&(e=!1);var g=Array(1).fill(null),f=this.findFurthestPoint(this._linePts,a,b,g);g[0]>this._distanceTolerance&&(e=!1);g=new q;g.p0=this._linePts[a];g.p1=this._linePts[b];d[0]=a;d[1]=b;this.hasBadIntersection(this._line,d,g)&&(e=!1);if(e)return a=this.flatten(a,b),this._line.addToResult(a),null;this.simplifySection(a,f,c);this.simplifySection(f,b,c)};Ub.prototype.hasBadOutputIntersection=function(a){for(var b=this._outputIndex.query(a).iterator();b.hasNext();){var c=
b.next();if(this.hasInteriorIntersection(c,a))return!0}return!1};Ub.prototype.findFurthestPoint=function(a,b,c,d){var e=new q;e.p0=a[b];e.p1=a[c];var g=-1,f=b;for(b+=1;b<c;b++){var h=e.distance(a[b]);h>g&&(g=h,f=b)}d[0]=g;return f};Ub.prototype.simplify=function(a){this._line=a;this._linePts=a.getParentCoordinates();this.simplifySection(0,this._linePts.length-1,0)};Ub.prototype.remove=function(a,b,c){for(;b<c;b++){var d=a.getSegment(b);this._inputIndex.remove(d)}};Ub.prototype.hasInteriorIntersection=
function(a,b){this._li.computeIntersection(a.p0,a.p1,b.p0,b.p1);return this._li.isInteriorIntersection()};Ub.prototype.hasBadInputIntersection=function(a,b,c){for(var d=this._inputIndex.query(c).iterator();d.hasNext();){var e=d.next();if(this.hasInteriorIntersection(e,c)&&!Ub.isInLineSection(a,b,e))return!0}return!1};Ub.prototype.getClass=function(){return Ub};$jscomp.global.Object.defineProperties(Ub.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ub.constructor_=
function(a,b){this._li=new ca;this._inputIndex=new td;new td;this._linePts=this._line=null;this._distanceTolerance=0;this._inputIndex=a;this._outputIndex=b};var wf=function(){wf.constructor_.apply(this,arguments)};wf.prototype.setDistanceTolerance=function(a){this._distanceTolerance=a};wf.prototype.simplify=function(a){for(var b=a.iterator();b.hasNext();)this._inputIndex.add(b.next());for(b=a.iterator();b.hasNext();)a=new Ub(this._inputIndex,this._outputIndex),a.setDistanceTolerance(this._distanceTolerance),
a.simplify(b.next())};wf.prototype.getClass=function(){return wf};$jscomp.global.Object.defineProperties(wf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});wf.constructor_=function(){this._inputIndex=new td;this._outputIndex=new td;this._distanceTolerance=0};var ud=function(){ud.constructor_.apply(this,arguments)};ud.simplify=function(a,b){a=new ud(a);a.setDistanceTolerance(b);return a.getResultGeometry()};ud.prototype.getResultGeometry=function(){if(this._inputGeom.isEmpty())return this._inputGeom.copy();
this._linestringMap=new Qd;this._inputGeom.apply(new xf(this));this._lineSimplifier.simplify(this._linestringMap.values());return(new Xe(this._linestringMap)).transform(this._inputGeom)};ud.prototype.setDistanceTolerance=function(a){if(0>a)throw new F("Tolerance must be non-negative");this._lineSimplifier.setDistanceTolerance(a)};ud.prototype.getClass=function(){return ud};$jscomp.global.Object.defineProperties(ud.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var Xe=
function(){var a=pa.call(this)||this;Xe.constructor_.apply(a,arguments);return a};$jscomp.inherits(Xe,pa);Xe.prototype.transformCoordinates=function(a,b){return 0===a.size()?null:b instanceof u?(a=this._linestringMap.get(b),this.createCoordinateSequence(a.getResultCoordinates())):pa.prototype.transformCoordinates.call(this,a,b)};Xe.prototype.getClass=function(){return Xe};$jscomp.global.Object.defineProperties(Xe.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Xe.constructor_=
function(a){this._linestringMap=a};var xf=function(){xf.constructor_.apply(this,arguments)};xf.prototype.filter=function(a){if(a instanceof u){if(a.isEmpty())return null;var b=a.isClosed()?4:2;b=new bb(a,b);this.tps._linestringMap.put(a,b)}};xf.prototype.getClass=function(){return xf};$jscomp.global.Object.defineProperties(xf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[jc]}}});xf.constructor_=function(a){this.tps=a};ud.LineStringTransformer=Xe;ud.LineStringMapBuilderFilter=
xf;ud.constructor_=function(a){this._inputGeom=null;this._lineSimplifier=new wf;this._linestringMap=null;this._inputGeom=a};var lh=Object.freeze({DouglasPeuckerSimplifier:sd,TopologyPreservingSimplifier:ud}),fd=function(){fd.constructor_.apply(this,arguments)};fd.pointAlongReverse=function(a,b){var c=new h;c.x=a.p1.x-b*(a.p1.x-a.p0.x);c.y=a.p1.y-b*(a.p1.y-a.p0.y);return c};fd.prototype.splitAt=function(){if(1===arguments.length){var a=arguments[0],b=this._minimumLen/this._segLen;if(a.distance(this._seg.p0)<
this._minimumLen)return this._splitPt=this._seg.pointAlong(b),null;if(a.distance(this._seg.p1)<this._minimumLen)return this._splitPt=fd.pointAlongReverse(this._seg,b),null;this._splitPt=a}else 2===arguments.length&&(a=arguments[1],b=this.getConstrainedLength(arguments[0])/this._segLen,a.equals2D(this._seg.p0)?this._splitPt=this._seg.pointAlong(b):this._splitPt=fd.pointAlongReverse(this._seg,b))};fd.prototype.setMinimumLength=function(a){this._minimumLen=a};fd.prototype.getConstrainedLength=function(a){return a<
this._minimumLen?this._minimumLen:a};fd.prototype.getSplitPoint=function(){return this._splitPt};fd.prototype.getClass=function(){return fd};$jscomp.global.Object.defineProperties(fd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});fd.constructor_=function(a){this._splitPt=this._segLen=null;this._minimumLen=0;this._seg=a;this._segLen=a.getLength()};var Qf=function(){Qf.constructor_.apply(this,arguments)};Qf.prototype.findSplitPoint=function(a,b){};Qf.prototype.getClass=
function(){return Qf};$jscomp.global.Object.defineProperties(Qf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Qf.constructor_=function(){};var Ye=function(){Ye.constructor_.apply(this,arguments)};Ye.projectedSplitPoint=function(a,b){return a.getLineSegment().project(b)};Ye.prototype.findSplitPoint=function(a,b){var c=a.getLineSegment(),d=c.getLength()/2;c=new fd(c);a=Ye.projectedSplitPoint(a,b);b=1.6*a.distance(b);b>d&&(b=d);c.setMinimumLength(b);c.splitAt(a);return c.getSplitPoint()};
Ye.prototype.getClass=function(){return Ye};$jscomp.global.Object.defineProperties(Ye.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Qf]}}});Ye.constructor_=function(){};var oa=function(){oa.constructor_.apply(this,arguments)};oa.triArea=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x)};oa.isInCircleDDNormalized=function(a,b,c,d){var e=k.valueOf(a.x).selfSubtract(d.x),g=k.valueOf(a.y).selfSubtract(d.y);a=k.valueOf(b.x).selfSubtract(d.x);var f=k.valueOf(b.y).selfSubtract(d.y);
b=k.valueOf(c.x).selfSubtract(d.x);var h=k.valueOf(c.y).selfSubtract(d.y);c=e.multiply(f).selfSubtract(a.multiply(g));d=a.multiply(h).selfSubtract(b.multiply(f));var l=b.multiply(g).selfSubtract(e.multiply(h));e=e.multiply(e).selfAdd(g.multiply(g));a=a.multiply(a).selfAdd(f.multiply(f));b=b.multiply(b).selfAdd(h.multiply(h));return 0<e.selfMultiply(d).selfAdd(a.selfMultiply(l)).selfAdd(b.selfMultiply(c)).doubleValue()};oa.checkRobustInCircle=function(a,b,c,d){var e=oa.isInCircleNonRobust(a,b,c,d),
g=oa.isInCircleDDSlow(a,b,c,d),f=oa.isInCircleCC(a,b,c,d),h=S.circumcentre(a,b,c);wa.out.println("p radius diff a = "+Math.abs(d.distance(h)-a.distance(h))/a.distance(h));if(e!==g||e!==f)wa.out.println("inCircle robustness failure (double result = "+e+", DD result = "+g+", CC result = "+f+")"),wa.out.println(Bb.toLineString(new Ha([a,b,c,d]))),wa.out.println("Circumcentre = "+Bb.toPoint(h)+" radius = "+a.distance(h)),wa.out.println("p radius diff a = "+Math.abs(d.distance(h)/a.distance(h)-1)),wa.out.println("p radius diff b = "+
Math.abs(d.distance(h)/b.distance(h)-1)),wa.out.println("p radius diff c = "+Math.abs(d.distance(h)/c.distance(h)-1)),wa.out.println()};oa.isInCircleDDFast=function(a,b,c,d){var e=k.sqr(a.x).selfAdd(k.sqr(a.y)).selfMultiply(oa.triAreaDDFast(b,c,d)),g=k.sqr(b.x).selfAdd(k.sqr(b.y)).selfMultiply(oa.triAreaDDFast(a,c,d)),f=k.sqr(c.x).selfAdd(k.sqr(c.y)).selfMultiply(oa.triAreaDDFast(a,b,d));a=k.sqr(d.x).selfAdd(k.sqr(d.y)).selfMultiply(oa.triAreaDDFast(a,b,c));return 0<e.selfSubtract(g).selfAdd(f).selfSubtract(a).doubleValue()};
oa.isInCircleCC=function(a,b,c,d){b=S.circumcentre(a,b,c);a=a.distance(b);return 0>=d.distance(b)-a};oa.isInCircleNormalized=function(a,b,c,d){var e=a.x-d.x;a=a.y-d.y;var g=b.x-d.x;b=b.y-d.y;var f=c.x-d.x;c=c.y-d.y;return 0<(e*e+a*a)*(g*c-f*b)+(g*g+b*b)*(f*a-e*c)+(f*f+c*c)*(e*b-g*a)};oa.isInCircleDDSlow=function(a,b,c,d){var e=k.valueOf(d.x);d=k.valueOf(d.y);var g=k.valueOf(a.x);a=k.valueOf(a.y);var f=k.valueOf(b.x);b=k.valueOf(b.y);var h=k.valueOf(c.x),l=k.valueOf(c.y);c=g.multiply(g).add(a.multiply(a)).multiply(oa.triAreaDDSlow(f,
b,h,l,e,d));var m=f.multiply(f).add(b.multiply(b)).multiply(oa.triAreaDDSlow(g,a,h,l,e,d)),n=h.multiply(h).add(l.multiply(l)).multiply(oa.triAreaDDSlow(g,a,f,b,e,d));e=e.multiply(e).add(d.multiply(d)).multiply(oa.triAreaDDSlow(g,a,f,b,h,l));return 0<c.subtract(m).add(n).subtract(e).doubleValue()};oa.isInCircleNonRobust=function(a,b,c,d){return 0<(a.x*a.x+a.y*a.y)*oa.triArea(b,c,d)-(b.x*b.x+b.y*b.y)*oa.triArea(a,c,d)+(c.x*c.x+c.y*c.y)*oa.triArea(a,b,d)-(d.x*d.x+d.y*d.y)*oa.triArea(a,b,c)};oa.isInCircleRobust=
function(a,b,c,d){return oa.isInCircleNormalized(a,b,c,d)};oa.triAreaDDSlow=function(a,b,c,d,e,g){return c.subtract(a).multiply(g.subtract(b)).subtract(d.subtract(b).multiply(e.subtract(a)))};oa.triAreaDDFast=function(a,b,c){var d=k.valueOf(b.x).selfSubtract(a.x).selfMultiply(k.valueOf(c.y).selfSubtract(a.y));a=k.valueOf(b.y).selfSubtract(a.y).selfMultiply(k.valueOf(c.x).selfSubtract(a.x));return d.selfSubtract(a)};oa.prototype.getClass=function(){return oa};$jscomp.global.Object.defineProperties(oa.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});oa.constructor_=function(){};var A=function(){A.constructor_.apply(this,arguments)};A.interpolateZ=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=b.distance(c);a=a.distance(b);return b.z+a/d*(c.z-b.z)}if(4===arguments.length){var e=arguments[0];b=arguments[1];c=arguments[2];d=arguments[3];var g=b.x,f=b.y;a=c.x-g;var h=d.x-g,k=c.y-f,l=d.y-f,m=a*l-h*k;g=e.x-g;e=e.y-f;return b.z+(l*g-h*e)/
m*(c.z-b.z)+(-k*g+a*e)/m*(d.z-b.z)}};A.prototype.circleCenter=function(a,b){var c=new A(this.getX(),this.getY()),d=this.bisector(c,a),e=this.bisector(a,b);d=new ib(d,e);e=null;try{e=new A(d.getX(),d.getY())}catch(g){if(g instanceof Sc)wa.err.println("a: "+c+"  b: "+a+"  c: "+b),wa.err.println(g);else throw g;}finally{}return e};A.prototype.dot=function(a){return this._p.x*a.getX()+this._p.y*a.getY()};A.prototype.magn=function(){return Math.sqrt(this._p.x*this._p.x+this._p.y*this._p.y)};A.prototype.getZ=
function(){return this._p.z};A.prototype.bisector=function(a,b){var c=b.getX()-a.getX(),d=b.getY()-a.getY();b=new ib(a.getX()+c/2,a.getY()+d/2,1);a=new ib(a.getX()-d+c/2,a.getY()+c+d/2,1);return new ib(b,a)};A.prototype.equals=function(){if(1===arguments.length){var a=arguments[0];return this._p.x===a.getX()&&this._p.y===a.getY()?!0:!1}if(2===arguments.length)return a=arguments[1],this._p.distance(arguments[0].getCoordinate())<a?!0:!1};A.prototype.getCoordinate=function(){return this._p};A.prototype.isInCircle=
function(a,b,c){return oa.isInCircleRobust(a._p,b._p,c._p,this._p)};A.prototype.interpolateZValue=function(a,b,c){var d=a.getX(),e=a.getY(),g=b.getX()-d,f=c.getX()-d,h=b.getY()-e,k=c.getY()-e,l=g*k-f*h;d=this.getX()-d;e=this.getY()-e;f=(k*d-f*e)/l;g=(-h*d+g*e)/l;return a.getZ()+f*(b.getZ()-a.getZ())+g*(c.getZ()-a.getZ())};A.prototype.midPoint=function(a){var b=(this._p.x+a.getX())/2,c=(this._p.y+a.getY())/2;a=(this._p.z+a.getZ())/2;return new A(b,c,a)};A.prototype.rightOf=function(a){return this.isCCW(a.dest(),
a.orig())};A.prototype.isCCW=function(a,b){return 0<(a._p.x-this._p.x)*(b._p.y-this._p.y)-(a._p.y-this._p.y)*(b._p.x-this._p.x)};A.prototype.getX=function(){return this._p.x};A.prototype.crossProduct=function(a){return this._p.x*a.getY()-this._p.y*a.getX()};A.prototype.setZ=function(a){this._p.z=a};A.prototype.times=function(a){return new A(a*this._p.x,a*this._p.y)};A.prototype.cross=function(){return new A(this._p.y,-this._p.x)};A.prototype.leftOf=function(a){return this.isCCW(a.orig(),a.dest())};
A.prototype.toString=function(){return"POINT ("+this._p.x+" "+this._p.y+")"};A.prototype.sub=function(a){return new A(this._p.x-a.getX(),this._p.y-a.getY())};A.prototype.getY=function(){return this._p.y};A.prototype.classify=function(a,b){var c=b.sub(a),d=this.sub(a),e=c.crossProduct(d);return 0<e?A.LEFT:0>e?A.RIGHT:0>c.getX()*d.getX()||0>c.getY()*d.getY()?A.BEHIND:c.magn()<d.magn()?A.BEYOND:a.equals(this)?A.ORIGIN:b.equals(this)?A.DESTINATION:A.BETWEEN};A.prototype.sum=function(a){return new A(this._p.x+
a.getX(),this._p.y+a.getY())};A.prototype.distance=function(a,b){return Math.sqrt(Math.pow(b.getX()-a.getX(),2)+Math.pow(b.getY()-a.getY(),2))};A.prototype.circumRadiusRatio=function(a,b){var c=this.circleCenter(a,b);c=this.distance(c,a);var d=this.distance(this,a);a=this.distance(a,b);a<d&&(d=a);a=this.distance(b,this);a<d&&(d=a);return c/d};A.prototype.getClass=function(){return A};$jscomp.global.Object.defineProperties(A.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
A.constructor_=function(){this._p=null;1===arguments.length?this._p=new h(arguments[0]):2===arguments.length?this._p=new h(arguments[0],arguments[1]):3===arguments.length&&(this._p=new h(arguments[0],arguments[1],arguments[2]))};A.LEFT=0;A.RIGHT=1;A.BEYOND=2;A.BEHIND=3;A.BETWEEN=4;A.ORIGIN=5;A.DESTINATION=6;var rc=function(){var a=A.call(this)||this;rc.constructor_.apply(a,arguments);return a};$jscomp.inherits(rc,A);rc.prototype.getConstraint=function(){return this._constraint};rc.prototype.setOnConstraint=
function(a){this._isOnConstraint=a};rc.prototype.merge=function(a){a._isOnConstraint&&(this._isOnConstraint=!0,this._constraint=a._constraint)};rc.prototype.isOnConstraint=function(){return this._isOnConstraint};rc.prototype.setConstraint=function(a){this._isOnConstraint=!0;this._constraint=a};rc.prototype.getClass=function(){return rc};$jscomp.global.Object.defineProperties(rc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});rc.constructor_=function(a){this._constraint=
this._isOnConstraint=null;A.constructor_.call(this,a)};var I=function(){I.constructor_.apply(this,arguments)};I.makeEdge=function(a,b){var c=new I,d=new I,e=new I,g=new I;c._rot=d;d._rot=e;e._rot=g;g._rot=c;c.setNext(c);d.setNext(g);e.setNext(e);g.setNext(d);c.setOrig(a);c.setDest(b);return c};I.swap=function(a){var b=a.oPrev(),c=a.sym().oPrev();I.splice(a,b);I.splice(a.sym(),c);I.splice(a,b.lNext());I.splice(a.sym(),c.lNext());a.setOrig(b.dest());a.setDest(c.dest())};I.splice=function(a,b){var c=
a.oNext().rot(),d=b.oNext().rot(),e=b.oNext(),g=a.oNext(),f=d.oNext(),h=c.oNext();a.setNext(e);b.setNext(g);c.setNext(f);d.setNext(h)};I.connect=function(a,b){var c=I.makeEdge(a.dest(),b.orig());I.splice(c,a.lNext());I.splice(c.sym(),b);return c};I.prototype.equalsNonOriented=function(a){return this.equalsOriented(a)||this.equalsOriented(a.sym())?!0:!1};I.prototype.toLineSegment=function(){return new q(this._vertex.getCoordinate(),this.dest().getCoordinate())};I.prototype.dest=function(){return this.sym().orig()};
I.prototype.oNext=function(){return this._next};I.prototype.equalsOriented=function(a){return this.orig().getCoordinate().equals2D(a.orig().getCoordinate())&&this.dest().getCoordinate().equals2D(a.dest().getCoordinate())?!0:!1};I.prototype.dNext=function(){return this.sym().oNext().sym()};I.prototype.lPrev=function(){return this._next.sym()};I.prototype.rPrev=function(){return this.sym().oNext()};I.prototype.rot=function(){return this._rot};I.prototype.oPrev=function(){return this._rot._next._rot};
I.prototype.sym=function(){return this._rot._rot};I.prototype.setOrig=function(a){this._vertex=a};I.prototype.lNext=function(){return this.invRot().oNext().rot()};I.prototype.getLength=function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())};I.prototype.invRot=function(){return this._rot.sym()};I.prototype.setDest=function(a){this.sym().setOrig(a)};I.prototype.setData=function(a){this._data=a};I.prototype.getData=function(){return this._data};I.prototype.delete=function(){this._rot=
null};I.prototype.orig=function(){return this._vertex};I.prototype.rNext=function(){return this._rot._next.invRot()};I.prototype.toString=function(){var a=this._vertex.getCoordinate(),b=this.dest().getCoordinate();return Bb.toLineString(a,b)};I.prototype.isLive=function(){return null!==this._rot};I.prototype.getPrimary=function(){return 0>=this.orig().getCoordinate().compareTo(this.dest().getCoordinate())?this:this.sym()};I.prototype.dPrev=function(){return this.invRot().oNext().invRot()};I.prototype.setNext=
function(a){this._next=a};I.prototype.getClass=function(){return I};$jscomp.global.Object.defineProperties(I.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});I.constructor_=function(){this._data=this._next=this._vertex=this._rot=null};var le=function(){le.constructor_.apply(this,arguments)};le.prototype.insertSite=function(a){var b=this._subdiv.locate(a);if(this._subdiv.isVertexOfEdge(b,a))return b;this._subdiv.isOnEdge(b,a.getCoordinate())&&(b=b.oPrev(),this._subdiv.delete(b.oNext()));
var c=this._subdiv.makeEdge(b.orig(),a);I.splice(c,b);var d=c;do c=this._subdiv.connect(b,c.sym()),b=c.oPrev();while(b.lNext()!==d);do{var e=b.oPrev();if(e.dest().rightOf(b)&&a.isInCircle(b.orig(),e.dest(),b.dest()))I.swap(b),b=b.oPrev();else{if(b.oNext()===d)return c;b=b.oNext().lPrev()}}while(1)};le.prototype.insertSites=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();this.insertSite(b)}};le.prototype.getClass=function(){return le};$jscomp.global.Object.defineProperties(le.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});le.constructor_=function(a){this._isUsingTolerance=!1;this._subdiv=a;this._isUsingTolerance=0<a.getTolerance()};var Rf=function(){Rf.constructor_.apply(this,arguments)};Rf.prototype.locate=function(a){};Rf.prototype.getClass=function(){return Rf};$jscomp.global.Object.defineProperties(Rf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Rf.constructor_=function(){};var me=function(){me.constructor_.apply(this,
arguments)};me.prototype.init=function(){this._lastEdge=this.findEdge()};me.prototype.locate=function(a){this._lastEdge.isLive()||this.init();return this._lastEdge=a=this._subdiv.locateFromEdge(a,this._lastEdge)};me.prototype.findEdge=function(){return this._subdiv.getEdges().iterator().next()};me.prototype.getClass=function(){return me};$jscomp.global.Object.defineProperties(me.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[Rf]}}});me.constructor_=function(a){this._lastEdge=
null;this._subdiv=a;this.init()};var ne=function(){var a=Va.call(this)||this;ne.constructor_.apply(a,arguments);return a};$jscomp.inherits(ne,Va);ne.msgWithSpatial=function(a,b){return null!==b?a+" [ "+b+" ]":a};ne.prototype.getSegment=function(){return this._seg};ne.prototype.getClass=function(){return ne};$jscomp.global.Object.defineProperties(ne.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});ne.constructor_=function(){this._seg=null;if(1===arguments.length)if("string"===
typeof arguments[0])Va.constructor_.call(this,arguments[0]);else{if(arguments[0]instanceof q){var a=arguments[0];Va.constructor_.call(this,"Locate failed to converge (at edge: "+a+").  Possible causes include invalid Subdivision topology or very close sites");this._seg=new q(a)}}else 2===arguments.length&&(a=arguments[1],Va.constructor_.call(this,ne.msgWithSpatial(arguments[0],a)),this._seg=new q(a))};var oe=function(){oe.constructor_.apply(this,arguments)};oe.prototype.visit=function(a){};oe.prototype.getClass=
function(){return oe};$jscomp.global.Object.defineProperties(oe.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});oe.constructor_=function(){};var Q=function(){Q.constructor_.apply(this,arguments)};Q.getTriangleEdges=function(a,b){b[0]=a;b[1]=b[0].lNext();b[2]=b[1].lNext();if(b[2].lNext()!==b[0])throw new F("Edges do not form a triangle");};Q.prototype.getTriangleVertices=function(a){var b=new Ze;this.visitTriangles(b,a);return b.getTriangleVertices()};Q.prototype.isFrameVertex=
function(a){return a.equals(this._frameVertex[0])||a.equals(this._frameVertex[1])||a.equals(this._frameVertex[2])?!0:!1};Q.prototype.isVertexOfEdge=function(a,b){return b.equals(a.orig(),this._tolerance)||b.equals(a.dest(),this._tolerance)?!0:!1};Q.prototype.connect=function(a,b){a=I.connect(a,b);this._quadEdges.add(a);return a};Q.prototype.getVoronoiCellPolygon=function(a,b){var c=new m,d=a;do{var e=a.rot().orig().getCoordinate();c.add(e);a=a.oPrev()}while(a!==d);a=new ea;a.addAll(c,!1);a.closeRing();
4>a.size()&&(wa.out.println(a),a.add(a.get(a.size()-1),!0));c=a.toCoordinateArray();b=b.createPolygon(b.createLinearRing(c));d=d.orig();b.setUserData(d.getCoordinate());return b};Q.prototype.setLocator=function(a){this._locator=a};Q.prototype.initSubdiv=function(){var a=this.makeEdge(this._frameVertex[0],this._frameVertex[1]),b=this.makeEdge(this._frameVertex[1],this._frameVertex[2]);I.splice(a.sym(),b);var c=this.makeEdge(this._frameVertex[2],this._frameVertex[0]);I.splice(b.sym(),c);I.splice(c.sym(),
a);return a};Q.prototype.isFrameBorderEdge=function(a){var b=Array(3).fill(null);Q.getTriangleEdges(a,b);b=Array(3).fill(null);Q.getTriangleEdges(a.sym(),b);b=a.lNext().dest();if(this.isFrameVertex(b))return!0;a=a.sym().lNext().dest();return this.isFrameVertex(a)?!0:!1};Q.prototype.makeEdge=function(a,b){a=I.makeEdge(a,b);this._quadEdges.add(a);return a};Q.prototype.visitTriangles=function(a,b){this._visitedKey++;var c=new $b;c.push(this._startingEdge);for(var d=new sb;!c.empty();){var e=c.pop();
d.contains(e)||(e=this.fetchTriangleToVisit(e,c,b,d),null!==e&&a.visit(e))}};Q.prototype.isFrameEdge=function(a){return this.isFrameVertex(a.orig())||this.isFrameVertex(a.dest())?!0:!1};Q.prototype.isOnEdge=function(a,b){this._seg.setCoordinates(a.orig().getCoordinate(),a.dest().getCoordinate());return this._seg.distance(b)<this._edgeCoincidenceTolerance};Q.prototype.getEnvelope=function(){return new r(this._frameEnv)};Q.prototype.createFrame=function(a){var b=a.getWidth(),c=a.getHeight();b=b>c?10*
b:10*c;this._frameVertex[0]=new A((a.getMaxX()+a.getMinX())/2,a.getMaxY()+b);this._frameVertex[1]=new A(a.getMinX()-b,a.getMinY()-b);this._frameVertex[2]=new A(a.getMaxX()+b,a.getMinY()-b);this._frameEnv=new r(this._frameVertex[0].getCoordinate(),this._frameVertex[1].getCoordinate());this._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate())};Q.prototype.getTriangleCoordinates=function(a){var b=new pe;this.visitTriangles(b,a);return b.getTriangles()};Q.prototype.getVertices=function(a){for(var b=
new sb,c=this._quadEdges.iterator();c.hasNext();){var d=c.next(),e=d.orig();!a&&this.isFrameVertex(e)||b.add(e);d=d.dest();!a&&this.isFrameVertex(d)||b.add(d)}return b};Q.prototype.fetchTriangleToVisit=function(a,b,c,d){var e=a,g=0,f=!1;do{this._triEdges[g]=e;this.isFrameEdge(e)&&(f=!0);var h=e.sym();d.contains(h)||b.push(h);d.add(e);g++;e=e.lNext()}while(e!==a);return f&&!c?null:this._triEdges};Q.prototype.getEdges=function(){if(0===arguments.length)return this._quadEdges;if(1===arguments.length){var a=
arguments[0],b=this.getPrimaryEdges(!1),c=Array(b.size()).fill(null),d=0;for(b=b.iterator();b.hasNext();){var e=b.next();c[d++]=a.createLineString([e.orig().getCoordinate(),e.dest().getCoordinate()])}return a.createMultiLineString(c)}};Q.prototype.getVertexUniqueEdges=function(a){for(var b=new m,c=new sb,d=this._quadEdges.iterator();d.hasNext();){var e=d.next(),g=e.orig();c.contains(g)||(c.add(g),!a&&this.isFrameVertex(g)||b.add(e));e=e.sym();g=e.orig();c.contains(g)||(c.add(g),!a&&this.isFrameVertex(g)||
b.add(e))}return b};Q.prototype.getTriangleEdges=function(a){var b=new $e;this.visitTriangles(b,a);return b.getTriangleEdges()};Q.prototype.getPrimaryEdges=function(a){this._visitedKey++;var b=new m,c=new $b;c.push(this._startingEdge);for(var d=new sb;!c.empty();){var e=c.pop();if(!d.contains(e)){var g=e.getPrimary();!a&&this.isFrameEdge(g)||b.add(g);c.push(e.oNext());c.push(e.sym().oNext());d.add(e);d.add(e.sym())}}return b};Q.prototype.delete=function(a){I.splice(a,a.oPrev());I.splice(a.sym(),a.sym().oPrev());
var b=a.sym(),c=a.rot(),d=a.rot().sym();this._quadEdges.remove(a);this._quadEdges.remove(b);this._quadEdges.remove(c);this._quadEdges.remove(d);a.delete();b.delete();c.delete();d.delete()};Q.prototype.locateFromEdge=function(a,b){for(var c=0,d=this._quadEdges.size();;){c++;if(c>d)throw new ne(b.toLineSegment());if(a.equals(b.orig())||a.equals(b.dest()))break;else if(a.rightOf(b))b=b.sym();else if(a.rightOf(b.oNext()))if(a.rightOf(b.dPrev()))break;else b=b.dPrev();else b=b.oNext()}return b};Q.prototype.getTolerance=
function(){return this._tolerance};Q.prototype.getVoronoiCellPolygons=function(a){this.visitTriangles(new yf,!0);for(var b=new m,c=this.getVertexUniqueEdges(!1).iterator();c.hasNext();){var d=c.next();b.add(this.getVoronoiCellPolygon(d,a))}return b};Q.prototype.getVoronoiDiagram=function(a){var b=this.getVoronoiCellPolygons(a);return a.createGeometryCollection(B.toGeometryArray(b))};Q.prototype.getTriangles=function(a){var b=this.getTriangleCoordinates(!1),c=Array(b.size()).fill(null),d=0;for(b=b.iterator();b.hasNext();){var e=
b.next();c[d++]=a.createPolygon(a.createLinearRing(e))}return a.createGeometryCollection(c)};Q.prototype.insertSite=function(a){var b=this.locate(a);if(a.equals(b.orig(),this._tolerance)||a.equals(b.dest(),this._tolerance))return b;a=this.makeEdge(b.orig(),a);I.splice(a,b);var c=a;do a=this.connect(b,a.sym()),b=a.oPrev();while(b.lNext()!==c);return c};Q.prototype.locate=function(){if(1===arguments.length){if(arguments[0]instanceof A)return this._locator.locate(arguments[0]);if(arguments[0]instanceof
h)return this._locator.locate(new A(arguments[0]))}else if(2===arguments.length){var a=arguments[0],b=arguments[1],c=this._locator.locate(new A(a));if(null===c)return null;var d=c;c.dest().getCoordinate().equals2D(a)&&(d=c.sym());a=d;do{if(a.dest().getCoordinate().equals2D(b))return a;a=a.oNext()}while(a!==d);return null}};Q.prototype.getClass=function(){return Q};$jscomp.global.Object.defineProperties(Q.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});var yf=function(){yf.constructor_.apply(this,
arguments)};yf.prototype.visit=function(a){var b=a[0].orig().getCoordinate(),c=a[1].orig().getCoordinate(),d=a[2].orig().getCoordinate();b=S.circumcentre(b,c,d);b=new A(b);for(c=0;3>c;c++)a[c].rot().setOrig(b)};yf.prototype.getClass=function(){return yf};$jscomp.global.Object.defineProperties(yf.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[oe]}}});yf.constructor_=function(){};var $e=function(){$e.constructor_.apply(this,arguments)};$e.prototype.getTriangleEdges=function(){return this._triList};
$e.prototype.visit=function(a){this._triList.add(a)};$e.prototype.getClass=function(){return $e};$jscomp.global.Object.defineProperties($e.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[oe]}}});$e.constructor_=function(){this._triList=new m};var Ze=function(){Ze.constructor_.apply(this,arguments)};Ze.prototype.visit=function(a){this._triList.add([a[0].orig(),a[1].orig(),a[2].orig()])};Ze.prototype.getTriangleVertices=function(){return this._triList};Ze.prototype.getClass=
function(){return Ze};$jscomp.global.Object.defineProperties(Ze.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[oe]}}});Ze.constructor_=function(){this._triList=new m};var pe=function(){pe.constructor_.apply(this,arguments)};pe.prototype.checkTriangleSize=function(a){2<=a.length?Bb.toLineString(a[0],a[1]):1<=a.length&&Bb.toPoint(a[0])};pe.prototype.visit=function(a){this._coordList.clear();for(var b=0;3>b;b++){var c=a[b].orig();this._coordList.add(c.getCoordinate())}if(0<
this._coordList.size()){this._coordList.closeRing();a=this._coordList.toCoordinateArray();if(4!==a.length)return null;this._triCoords.add(a)}};pe.prototype.getTriangles=function(){return this._triCoords};pe.prototype.getClass=function(){return pe};$jscomp.global.Object.defineProperties(pe.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[oe]}}});pe.constructor_=function(){this._coordList=new ea;this._triCoords=new m};Q.TriangleCircumcentreVisitor=yf;Q.TriangleEdgesListVisitor=
$e;Q.TriangleVertexListVisitor=Ze;Q.TriangleCoordinatesVisitor=pe;Q.constructor_=function(a,b){this._visitedKey=0;this._quadEdges=new m;this._edgeCoincidenceTolerance=this._tolerance=this._startingEdge=null;this._frameVertex=Array(3).fill(null);this._locator=this._frameEnv=null;this._seg=new q;this._triEdges=Array(3).fill(null);this._tolerance=b;this._edgeCoincidenceTolerance=b/Q.EDGE_COINCIDENCE_TOL_FACTOR;this.createFrame(a);this._startingEdge=this.initSubdiv();this._locator=new me(this)};Q.EDGE_COINCIDENCE_TOL_FACTOR=
1E3;var Ta=function(){Ta.constructor_.apply(this,arguments)};Ta.prototype.getLineSegment=function(){return this._ls};Ta.prototype.getEndZ=function(){return this._ls.getCoordinate(1).z};Ta.prototype.getStartZ=function(){return this._ls.getCoordinate(0).z};Ta.prototype.intersection=function(a){return this._ls.intersection(a.getLineSegment())};Ta.prototype.getStart=function(){return this._ls.getCoordinate(0)};Ta.prototype.getEnd=function(){return this._ls.getCoordinate(1)};Ta.prototype.getEndY=function(){return this._ls.getCoordinate(1).y};
Ta.prototype.getStartX=function(){return this._ls.getCoordinate(0).x};Ta.prototype.equalsTopo=function(a){return this._ls.equalsTopo(a.getLineSegment())};Ta.prototype.getStartY=function(){return this._ls.getCoordinate(0).y};Ta.prototype.setData=function(a){this._data=a};Ta.prototype.getData=function(){return this._data};Ta.prototype.getEndX=function(){return this._ls.getCoordinate(1).x};Ta.prototype.toString=function(){return this._ls.toString()};Ta.prototype.getClass=function(){return Ta};$jscomp.global.Object.defineProperties(Ta.prototype,
{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ta.constructor_=function(){this._data=this._ls=null;if(2===arguments.length)this._ls=new q(arguments[0],arguments[1]);else if(3===arguments.length){var a=arguments[2];this._ls=new q(arguments[0],arguments[1]);this._data=a}else if(6===arguments.length){a=arguments[3];var b=arguments[4],c=arguments[5];Ta.constructor_.call(this,new h(arguments[0],arguments[1],arguments[2]),new h(a,b,c))}else if(7===arguments.length){a=arguments[3];
b=arguments[4];c=arguments[5];var d=arguments[6];Ta.constructor_.call(this,new h(arguments[0],arguments[1],arguments[2]),new h(a,b,c),d)}};var qa=function(){qa.constructor_.apply(this,arguments)};qa.computeVertexEnvelope=function(a){var b=new r;for(a=a.iterator();a.hasNext();){var c=a.next();b.expandToInclude(c.getCoordinate())}return b};qa.prototype.getInitialVertices=function(){return this._initialVertices};qa.prototype.getKDT=function(){return this._kdt};qa.prototype.enforceConstraints=function(){this.addConstraintVertices();
var a=0;do{var b=this.enforceGabriel(this._segments);a++}while(0<b&&a<qa.MAX_SPLIT_ITER)};qa.prototype.insertSites=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();this.insertSite(b)}};qa.prototype.getVertexFactory=function(){return this._vertexFactory};qa.prototype.getPointArray=function(){for(var a=Array(this._initialVertices.size()+this._segVertices.size()).fill(null),b=0,c=this._initialVertices.iterator();c.hasNext();){var d=c.next();a[b++]=d.getCoordinate()}for(c=this._segVertices.iterator();c.hasNext();)d=
c.next(),a[b++]=d.getCoordinate();return a};qa.prototype.setConstraints=function(a,b){this._segments=a;this._segVertices=b};qa.prototype.computeConvexHull=function(){var a=new B,b=this.getPointArray();this._convexHull=(new Ra(b,a)).getConvexHull()};qa.prototype.addConstraintVertices=function(){this.computeConvexHull();this.insertSites(this._segVertices)};qa.prototype.findNonGabrielPoint=function(a){var b=a.getStart();a=a.getEnd();var c=new h((b.x+a.x)/2,(b.y+a.y)/2),d=b.distance(c),e=new r(c);e.expandBy(d);
var g=this._kdt.query(e);e=null;var f=y.MAX_VALUE;for(g=g.iterator();g.hasNext();){var k=g.next().getCoordinate();if(!k.equals2D(b)&&!k.equals2D(a)){var l=c.distance(k);l<d&&(null===e||l<f)&&(e=k,f=l)}}return e};qa.prototype.getConstraintSegments=function(){return this._segments};qa.prototype.setSplitPointFinder=function(a){this._splitFinder=a};qa.prototype.getConvexHull=function(){return this._convexHull};qa.prototype.getTolerance=function(){return this._tolerance};qa.prototype.enforceGabriel=function(a){for(var b=
new m,c=0,d=new m,e=a.iterator();e.hasNext();){var g=e.next(),f=this.findNonGabrielPoint(g);if(null!==f){this._splitPt=this._splitFinder.findSplitPoint(g,f);var h=this.createVertex(this._splitPt,g);this.insertSite(h).getCoordinate().equals2D(this._splitPt);f=new Ta(g.getStartX(),g.getStartY(),g.getStartZ(),h.getX(),h.getY(),h.getZ(),g.getData());h=new Ta(h.getX(),h.getY(),h.getZ(),g.getEndX(),g.getEndY(),g.getEndZ(),g.getData());b.add(f);b.add(h);d.add(g);c+=1}}a.removeAll(d);a.addAll(b);return c};
qa.prototype.createVertex=function(){if(1===arguments.length){var a=arguments[0];return a=null!==this._vertexFactory?this._vertexFactory.createVertex(a,null):new rc(a)}if(2===arguments.length){a=arguments[0];var b=arguments[1];a=null!==this._vertexFactory?this._vertexFactory.createVertex(a,b):new rc(a);a.setOnConstraint(!0);return a}};qa.prototype.getSubdivision=function(){return this._subdiv};qa.prototype.computeBoundingBox=function(){var a=qa.computeVertexEnvelope(this._initialVertices),b=qa.computeVertexEnvelope(this._segVertices);
a=new r(a);a.expandToInclude(b);b=.2*a.getWidth();var c=.2*a.getHeight();b=Math.max(b,c);this._computeAreaEnv=new r(a);this._computeAreaEnv.expandBy(b)};qa.prototype.setVertexFactory=function(a){this._vertexFactory=a};qa.prototype.formInitialDelaunay=function(){this.computeBoundingBox();this._subdiv=new Q(this._computeAreaEnv,this._tolerance);this._subdiv.setLocator(new me(this._subdiv));this._incDel=new le(this._subdiv);this.insertSites(this._initialVertices)};qa.prototype.insertSite=function(a){if(a instanceof
rc){var b=this._kdt.insert(a.getCoordinate(),a);if(b.isRepeated())return b=b.getData(),b.merge(a),b;this._incDel.insertSite(a);return a}a instanceof h&&this.insertSite(this.createVertex(a))};qa.prototype.getClass=function(){return qa};$jscomp.global.Object.defineProperties(qa.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});qa.constructor_=function(a,b){this._segVertices=this._initialVertices=null;this._segments=new m;this._convexHull=this._incDel=this._subdiv=null;
this._splitFinder=new Ye;this._tolerance=this._splitPt=this._computeAreaEnv=this._vertexFactory=this._kdt=null;this._initialVertices=new m(a);this._tolerance=b;this._kdt=new dc(b)};qa.MAX_SPLIT_ITER=99;var Ka=function(){Ka.constructor_.apply(this,arguments)};Ka.extractUniqueCoordinates=function(a){if(null===a)return new ea;a=a.getCoordinates();return Ka.unique(a)};Ka.envelope=function(a){var b=new r;for(a=a.iterator();a.hasNext();){var c=a.next();b.expandToInclude(c)}return b};Ka.unique=function(a){a=
C.copyDeep(a);Pd.sort(a);return new ea(a,!1)};Ka.toVertices=function(a){var b=new m;for(a=a.iterator();a.hasNext();){var c=a.next();b.add(new A(c))}return b};Ka.prototype.create=function(){if(null!==this._subdiv)return null;var a=Ka.envelope(this._siteCoords),b=Ka.toVertices(this._siteCoords);this._subdiv=new Q(a,this._tolerance);(new le(this._subdiv)).insertSites(b)};Ka.prototype.setTolerance=function(a){this._tolerance=a};Ka.prototype.setSites=function(a){a instanceof l?this._siteCoords=Ka.extractUniqueCoordinates(a):
v(a,ra)&&(this._siteCoords=Ka.unique(C.toCoordinateArray(a)))};Ka.prototype.getEdges=function(a){this.create();return this._subdiv.getEdges(a)};Ka.prototype.getSubdivision=function(){this.create();return this._subdiv};Ka.prototype.getTriangles=function(a){this.create();return this._subdiv.getTriangles(a)};Ka.prototype.getClass=function(){return Ka};$jscomp.global.Object.defineProperties(Ka.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ka.constructor_=function(){this._siteCoords=
null;this._tolerance=0;this._subdiv=null};var Vb=function(){Vb.constructor_.apply(this,arguments)};Vb.createConstraintSegments=function(){if(1===arguments.length){var a=Ya.getLines(arguments[0]),b=new m;for(a=a.iterator();a.hasNext();){var c=a.next();Vb.createConstraintSegments(c,b)}return b}if(2===arguments.length)for(b=arguments[1],c=arguments[0].getCoordinates(),a=1;a<c.length;a++)b.add(new Ta(c[a-1],c[a]))};Vb.prototype.createSiteVertices=function(a){var b=new m;for(a=a.iterator();a.hasNext();){var c=
a.next();this._constraintVertexMap.containsKey(c)||b.add(new rc(c))}return b};Vb.prototype.create=function(){if(null!==this._subdiv)return null;var a=Ka.envelope(this._siteCoords),b=new m;null!==this._constraintLines&&(a.expandToInclude(this._constraintLines.getEnvelopeInternal()),this.createVertices(this._constraintLines),b=Vb.createConstraintSegments(this._constraintLines));a=this.createSiteVertices(this._siteCoords);a=new qa(a,this._tolerance);a.setConstraints(b,new m(this._constraintVertexMap.values()));
a.formInitialDelaunay();a.enforceConstraints();this._subdiv=a.getSubdivision()};Vb.prototype.setTolerance=function(a){this._tolerance=a};Vb.prototype.setConstraints=function(a){this._constraintLines=a};Vb.prototype.setSites=function(a){this._siteCoords=Ka.extractUniqueCoordinates(a)};Vb.prototype.getEdges=function(a){this.create();return this._subdiv.getEdges(a)};Vb.prototype.getSubdivision=function(){this.create();return this._subdiv};Vb.prototype.getTriangles=function(a){this.create();return this._subdiv.getTriangles(a)};
Vb.prototype.createVertices=function(a){a=a.getCoordinates();for(var b=0;b<a.length;b++){var c=new rc(a[b]);this._constraintVertexMap.put(a[b],c)}};Vb.prototype.getClass=function(){return Vb};$jscomp.global.Object.defineProperties(Vb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Vb.constructor_=function(){this._constraintLines=this._siteCoords=null;this._tolerance=0;this._subdiv=null;this._constraintVertexMap=new Wa};var Qc=function(){Qc.constructor_.apply(this,
arguments)};Qc.clipGeometryCollection=function(a,b){for(var c=a.getFactory().toGeometry(b),d=new m,e=0;e<a.getNumGeometries();e++){var g=a.getGeometryN(e),f=null;b.contains(g.getEnvelopeInternal())?f=g:b.intersects(g.getEnvelopeInternal())&&(f=c.intersection(g),f.setUserData(g.getUserData()));null===f||f.isEmpty()||d.add(f)}return a.getFactory().createGeometryCollection(B.toGeometryArray(d))};Qc.prototype.create=function(){if(null!==this._subdiv)return null;var a=Ka.envelope(this._siteCoords);this._diagramEnv=
a;var b=Math.max(this._diagramEnv.getWidth(),this._diagramEnv.getHeight());this._diagramEnv.expandBy(b);null!==this._clipEnv&&this._diagramEnv.expandToInclude(this._clipEnv);b=Ka.toVertices(this._siteCoords);this._subdiv=new Q(a,this._tolerance);(new le(this._subdiv)).insertSites(b)};Qc.prototype.getDiagram=function(a){this.create();a=this._subdiv.getVoronoiDiagram(a);return Qc.clipGeometryCollection(a,this._diagramEnv)};Qc.prototype.setTolerance=function(a){this._tolerance=a};Qc.prototype.setSites=
function(a){a instanceof l?this._siteCoords=Ka.extractUniqueCoordinates(a):v(a,ra)&&(this._siteCoords=Ka.unique(C.toCoordinateArray(a)))};Qc.prototype.setClipEnvelope=function(a){this._clipEnv=a};Qc.prototype.getSubdivision=function(){this.create();return this._subdiv};Qc.prototype.getClass=function(){return Qc};$jscomp.global.Object.defineProperties(Qc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Qc.constructor_=function(){this._siteCoords=null;this._tolerance=
0;this._diagramEnv=this._clipEnv=this._subdiv=null};var mh=Object.freeze({Vertex:A}),nh=Object.freeze({ConformingDelaunayTriangulationBuilder:Vb,DelaunayTriangulationBuilder:Ka,VoronoiDiagramBuilder:Qc,quadedge:mh}),V=function(){V.constructor_.apply(this,arguments)};V.getEndLocation=function(a){var b=new V;b.setToEnd(a);return b};V.pointAlongSegmentByFraction=function(a,b,c){return 0>=c?a:1<=c?b:new h((b.x-a.x)*c+a.x,(b.y-a.y)*c+a.y,(b.z-a.z)*c+a.z)};V.compareLocationValues=function(a,b,c,d,e,g){return a<
d?-1:a>d?1:b<e?-1:b>e?1:c<g?-1:c>g?1:0};V.prototype.getSegmentIndex=function(){return this._segmentIndex};V.prototype.getComponentIndex=function(){return this._componentIndex};V.prototype.isEndpoint=function(a){a=a.getGeometryN(this._componentIndex).getNumPoints()-1;return this._segmentIndex>=a||this._segmentIndex===a&&1<=this._segmentFraction};V.prototype.isValid=function(a){if(0>this._componentIndex||this._componentIndex>=a.getNumGeometries())return!1;a=a.getGeometryN(this._componentIndex);return 0>
this._segmentIndex||this._segmentIndex>a.getNumPoints()||this._segmentIndex===a.getNumPoints()&&0!==this._segmentFraction||0>this._segmentFraction||1<this._segmentFraction?!1:!0};V.prototype.normalize=function(){0>this._segmentFraction&&(this._segmentFraction=0);1<this._segmentFraction&&(this._segmentFraction=1);0>this._componentIndex&&(this._segmentFraction=this._segmentIndex=this._componentIndex=0);0>this._segmentIndex&&(this._segmentFraction=this._segmentIndex=0);1===this._segmentFraction&&(this._segmentFraction=
0,this._segmentIndex+=1)};V.prototype.toLowest=function(a){a=a.getGeometryN(this._componentIndex).getNumPoints()-1;return this._segmentIndex<a?this:new V(this._componentIndex,a,1,!1)};V.prototype.getCoordinate=function(a){var b=a.getGeometryN(this._componentIndex);a=b.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=b.getNumPoints()-1)return a;b=b.getCoordinateN(this._segmentIndex+1);return V.pointAlongSegmentByFraction(a,b,this._segmentFraction)};V.prototype.getSegmentFraction=function(){return this._segmentFraction};
V.prototype.getSegment=function(a){var b=a.getGeometryN(this._componentIndex);a=b.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=b.getNumPoints()-1)return b=b.getCoordinateN(b.getNumPoints()-2),new q(b,a);b=b.getCoordinateN(this._segmentIndex+1);return new q(a,b)};V.prototype.clamp=function(a){if(this._componentIndex>=a.getNumGeometries())return this.setToEnd(a),null;this._segmentIndex>=a.getNumPoints()&&(this._segmentIndex=a.getGeometryN(this._componentIndex).getNumPoints()-1,this._segmentFraction=
1)};V.prototype.setToEnd=function(a){this._componentIndex=a.getNumGeometries()-1;this._segmentIndex=a.getGeometryN(this._componentIndex).getNumPoints()-1;this._segmentFraction=1};V.prototype.compareTo=function(a){return this._componentIndex<a._componentIndex?-1:this._componentIndex>a._componentIndex?1:this._segmentIndex<a._segmentIndex?-1:this._segmentIndex>a._segmentIndex?1:this._segmentFraction<a._segmentFraction?-1:this._segmentFraction>a._segmentFraction?1:0};V.prototype.copy=function(){return new V(this._componentIndex,
this._segmentIndex,this._segmentFraction)};V.prototype.toString=function(){return"LinearLoc["+this._componentIndex+", "+this._segmentIndex+", "+this._segmentFraction+"]"};V.prototype.isOnSameSegment=function(a){return this._componentIndex!==a._componentIndex?!1:this._segmentIndex===a._segmentIndex||1===a._segmentIndex-this._segmentIndex&&0===a._segmentFraction||1===this._segmentIndex-a._segmentIndex&&0===this._segmentFraction?!0:!1};V.prototype.snapToVertex=function(a,b){if(0>=this._segmentFraction||
1<=this._segmentFraction)return null;var c=this.getSegmentLength(a);a=this._segmentFraction*c;c-=a;a<=c&&a<b?this._segmentFraction=0:c<=a&&c<b&&(this._segmentFraction=1)};V.prototype.compareLocationValues=function(a,b,c){return this._componentIndex<a?-1:this._componentIndex>a?1:this._segmentIndex<b?-1:this._segmentIndex>b?1:this._segmentFraction<c?-1:this._segmentFraction>c?1:0};V.prototype.getSegmentLength=function(a){var b=a.getGeometryN(this._componentIndex),c=this._segmentIndex;this._segmentIndex>=
b.getNumPoints()-1&&(c=b.getNumPoints()-2);a=b.getCoordinateN(c);b=b.getCoordinateN(c+1);return a.distance(b)};V.prototype.isVertex=function(){return 0>=this._segmentFraction||1<=this._segmentFraction};V.prototype.getClass=function(){return V};$jscomp.global.Object.defineProperties(V.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[hc]}}});V.constructor_=function(){this._segmentFraction=this._segmentIndex=this._componentIndex=0;if(0!==arguments.length)if(1===arguments.length){var a=
arguments[0];this._componentIndex=a._componentIndex;this._segmentIndex=a._segmentIndex;this._segmentFraction=a._segmentFraction}else if(2===arguments.length)V.constructor_.call(this,0,arguments[0],arguments[1]);else if(3===arguments.length){a=arguments[1];var b=arguments[2];this._componentIndex=arguments[0];this._segmentIndex=a;this._segmentFraction=b;this.normalize()}else if(4===arguments.length){a=arguments[1];b=arguments[2];var c=arguments[3];this._componentIndex=arguments[0];this._segmentIndex=
a;this._segmentFraction=b;c&&this.normalize()}};var Ua=function(){Ua.constructor_.apply(this,arguments)};Ua.segmentEndVertexIndex=function(a){return 0<a.getSegmentFraction()?a.getSegmentIndex()+1:a.getSegmentIndex()};Ua.prototype.getComponentIndex=function(){return this._componentIndex};Ua.prototype.getLine=function(){return this._currentLine};Ua.prototype.getVertexIndex=function(){return this._vertexIndex};Ua.prototype.getSegmentEnd=function(){return this._vertexIndex<this.getLine().getNumPoints()-
1?this._currentLine.getCoordinateN(this._vertexIndex+1):null};Ua.prototype.next=function(){if(!this.hasNext())return null;this._vertexIndex++;this._vertexIndex>=this._currentLine.getNumPoints()&&(this._componentIndex++,this.loadCurrentLine(),this._vertexIndex=0)};Ua.prototype.loadCurrentLine=function(){if(this._componentIndex>=this._numLines)return this._currentLine=null;this._currentLine=this._linearGeom.getGeometryN(this._componentIndex)};Ua.prototype.getSegmentStart=function(){return this._currentLine.getCoordinateN(this._vertexIndex)};
Ua.prototype.isEndOfLine=function(){return this._componentIndex>=this._numLines||this._vertexIndex<this._currentLine.getNumPoints()-1?!1:!0};Ua.prototype.hasNext=function(){return this._componentIndex>=this._numLines||this._componentIndex===this._numLines-1&&this._vertexIndex>=this._currentLine.getNumPoints()?!1:!0};Ua.prototype.getClass=function(){return Ua};$jscomp.global.Object.defineProperties(Ua.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Ua.constructor_=
function(){this._currentLine=this._numLines=this._linearGeom=null;this._vertexIndex=this._componentIndex=0;if(1===arguments.length)Ua.constructor_.call(this,arguments[0],0,0);else if(2===arguments.length){var a=arguments[1];Ua.constructor_.call(this,arguments[0],a.getComponentIndex(),Ua.segmentEndVertexIndex(a))}else if(3===arguments.length){a=arguments[0];var b=arguments[1],c=arguments[2];if(!v(a,kf))throw new F("Lineal geometry is required");this._linearGeom=a;this._numLines=a.getNumGeometries();
this._componentIndex=b;this._vertexIndex=c;this.loadCurrentLine()}};var sc=function(){sc.constructor_.apply(this,arguments)};sc.indexOf=function(a,b){return(new sc(a)).indexOf(b)};sc.indexOfAfter=function(a,b,c){return(new sc(a)).indexOfAfter(b,c)};sc.prototype.indexOf=function(a){return this.indexOfFromStart(a,null)};sc.prototype.indexOfFromStart=function(a,b){for(var c=y.MAX_VALUE,d=0,e=0,g=-1,f=new q,h=new Ua(this._linearGeom);h.hasNext();h.next())if(!h.isEndOfLine()){f.p0=h.getSegmentStart();
f.p1=h.getSegmentEnd();var k=f.distance(a),l=f.segmentFraction(a),m=h.getComponentIndex(),n=h.getVertexIndex();k<c&&(null===b||0>b.compareLocationValues(m,n,l))&&(d=m,e=n,g=l,c=k)}return c===y.MAX_VALUE?new V(b):new V(d,e,g)};sc.prototype.indexOfAfter=function(a,b){if(null===b)return this.indexOf(a);var c=V.getEndLocation(this._linearGeom);if(0>=c.compareTo(b))return c;a=this.indexOfFromStart(a,b);w.isTrue(0<=a.compareTo(b),"computed location is before specified minimum location");return a};sc.prototype.getClass=
function(){return sc};$jscomp.global.Object.defineProperties(sc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});sc.constructor_=function(a){this._linearGeom=a};var qe=function(){qe.constructor_.apply(this,arguments)};qe.indicesOf=function(a,b){return(new qe(a)).indicesOf(b)};qe.prototype.indicesOf=function(a){var b=a.getGeometryN(0).getCoordinateN(0),c=a.getGeometryN(a.getNumGeometries()-1);c=c.getCoordinateN(c.getNumPoints()-1);var d=new sc(this._linearGeom),e=Array(2).fill(null);
e[0]=d.indexOf(b);0===a.getLength()?e[1]=e[0].copy():e[1]=d.indexOfAfter(c,e[0]);return e};qe.prototype.getClass=function(){return qe};$jscomp.global.Object.defineProperties(qe.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});qe.constructor_=function(a){this._linearGeom=a};var Rc=function(){Rc.constructor_.apply(this,arguments)};Rc.prototype.getGeometry=function(){this.endLine();return this._geomFact.buildGeometry(this._lines)};Rc.prototype.getLastCoordinate=function(){return this._lastPt};
Rc.prototype.endLine=function(){if(null===this._coordList)return null;if(this._ignoreInvalidLines&&2>this._coordList.size())return this._coordList=null;var a=this._coordList.toCoordinateArray(),b=a;this._fixInvalidLines&&(b=this.validCoordinateSequence(a));a=this._coordList=null;try{a=this._geomFact.createLineString(b)}catch(c){if(c instanceof F){if(!this._ignoreInvalidLines)throw c;}else throw c;}finally{}null!==a&&this._lines.add(a)};Rc.prototype.setFixInvalidLines=function(a){this._fixInvalidLines=
a};Rc.prototype.add=function(){if(1===arguments.length)this.add(arguments[0],!0);else if(2===arguments.length){var a=arguments[0],b=arguments[1];null===this._coordList&&(this._coordList=new ea);this._coordList.add(a,b);this._lastPt=a}};Rc.prototype.setIgnoreInvalidLines=function(a){this._ignoreInvalidLines=a};Rc.prototype.validCoordinateSequence=function(a){return 2<=a.length?a:[a[0],a[0]]};Rc.prototype.getClass=function(){return Rc};$jscomp.global.Object.defineProperties(Rc.prototype,{interfaces_:{configurable:!0,
enumerable:!0,get:function(){return[]}}});Rc.constructor_=function(a){this._geomFact=null;this._lines=new m;this._coordList=null;this._fixInvalidLines=this._ignoreInvalidLines=!1;this._lastPt=null;this._geomFact=a};var gd=function(){gd.constructor_.apply(this,arguments)};gd.extract=function(a,b,c){return(new gd(a)).extract(b,c)};gd.prototype.computeLinear=function(a,b){var c=new Rc(this._line.getFactory());c.setFixInvalidLines(!0);a.isVertex()||c.add(a.getCoordinate(this._line));for(a=new Ua(this._line,
a);a.hasNext()&&!(0>b.compareLocationValues(a.getComponentIndex(),a.getVertexIndex(),0));a.next()){var d=a.getSegmentStart();c.add(d);a.isEndOfLine()&&c.endLine()}b.isVertex()||c.add(b.getCoordinate(this._line));return c.getGeometry()};gd.prototype.computeLine=function(a,b){var c=this._line.getCoordinates(),d=new ea,e=a.getSegmentIndex();0<a.getSegmentFraction()&&(e+=1);var g=b.getSegmentIndex();1===b.getSegmentFraction()&&(g+=1);g>=c.length&&(g=c.length-1);for(a.isVertex()||d.add(a.getCoordinate(this._line));e<=
g;e++)d.add(c[e]);b.isVertex()||d.add(b.getCoordinate(this._line));0>=d.size()&&d.add(a.getCoordinate(this._line));a=d.toCoordinateArray();1>=a.length&&(a=[a[0],a[0]]);return this._line.getFactory().createLineString(a)};gd.prototype.extract=function(a,b){return 0>b.compareTo(a)?this.reverse(this.computeLinear(b,a)):this.computeLinear(a,b)};gd.prototype.reverse=function(a){if(a instanceof u||a instanceof Ba)return a.reverse();w.shouldNeverReachHere("non-linear geometry encountered");return null};gd.prototype.getClass=
function(){return gd};$jscomp.global.Object.defineProperties(gd.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});gd.constructor_=function(a){this._line=a};var Wb=function(){Wb.constructor_.apply(this,arguments)};Wb.prototype.clampIndex=function(a){a=a.copy();a.clamp(this._linearGeom);return a};Wb.prototype.project=function(a){return sc.indexOf(this._linearGeom,a)};Wb.prototype.checkGeometryType=function(){if(!(this._linearGeom instanceof u||this._linearGeom instanceof
Ba))throw new F("Input geometry must be linear");};Wb.prototype.extractPoint=function(){if(1===arguments.length)return arguments[0].getCoordinate(this._linearGeom);if(2===arguments.length){var a=arguments[1],b=arguments[0].toLowest(this._linearGeom);return b.getSegment(this._linearGeom).pointAlongOffset(b.getSegmentFraction(),a)}};Wb.prototype.isValidIndex=function(a){return a.isValid(this._linearGeom)};Wb.prototype.getEndIndex=function(){return V.getEndLocation(this._linearGeom)};Wb.prototype.getStartIndex=
function(){return new V};Wb.prototype.indexOfAfter=function(a,b){return sc.indexOfAfter(this._linearGeom,a,b)};Wb.prototype.extractLine=function(a,b){return gd.extract(this._linearGeom,a,b)};Wb.prototype.indexOf=function(a){return sc.indexOf(this._linearGeom,a)};Wb.prototype.indicesOf=function(a){return qe.indicesOf(this._linearGeom,a)};Wb.prototype.getClass=function(){return Wb};$jscomp.global.Object.defineProperties(Wb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});
Wb.constructor_=function(a){this._linearGeom=a;this.checkGeometryType()};var tc=function(){tc.constructor_.apply(this,arguments)};tc.indexOf=function(a,b){return(new tc(a)).indexOf(b)};tc.indexOfAfter=function(a,b,c){return(new tc(a)).indexOfAfter(b,c)};tc.prototype.indexOf=function(a){return this.indexOfFromStart(a,-1)};tc.prototype.indexOfFromStart=function(a,b){for(var c=y.MAX_VALUE,d=b,e=0,g=new q,f=new Ua(this._linearGeom);f.hasNext();){if(!f.isEndOfLine()){g.p0=f.getSegmentStart();g.p1=f.getSegmentEnd();
var h=g.distance(a),k=this.segmentNearestMeasure(g,a,e);h<c&&k>b&&(d=k,c=h);e+=g.getLength()}f.next()}return d};tc.prototype.indexOfAfter=function(a,b){if(0>b)return this.indexOf(a);var c=this._linearGeom.getLength();if(c<b)return c;a=this.indexOfFromStart(a,b);w.isTrue(a>=b,"computed index is before specified minimum index");return a};tc.prototype.segmentNearestMeasure=function(a,b,c){b=a.projectionFactor(b);return 0>=b?c:1>=b?c+b*a.getLength():c+a.getLength()};tc.prototype.getClass=function(){return tc};
$jscomp.global.Object.defineProperties(tc.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});tc.constructor_=function(a){this._linearGeom=a};var rb=function(){rb.constructor_.apply(this,arguments)};rb.getLength=function(a,b){return(new rb(a)).getLength(b)};rb.getLocation=function(){if(2===arguments.length){var a=arguments[1],b=new rb(arguments[0]);return b.getLocation(a)}if(3===arguments.length){a=arguments[1];var c=arguments[2];b=new rb(arguments[0]);return b.getLocation(a,
c)}};rb.prototype.getLength=function(a){for(var b=0,c=new Ua(this._linearGeom);c.hasNext();){if(!c.isEndOfLine()){var d=c.getSegmentStart();d=c.getSegmentEnd().distance(d);if(a.getComponentIndex()===c.getComponentIndex()&&a.getSegmentIndex()===c.getVertexIndex())return b+d*a.getSegmentFraction();b+=d}c.next()}return b};rb.prototype.resolveHigher=function(a){if(!a.isEndpoint(this._linearGeom))return a;var b=a.getComponentIndex();if(b>=this._linearGeom.getNumGeometries()-1)return a;do b++;while(b<this._linearGeom.getNumGeometries()-
1&&0===this._linearGeom.getGeometryN(b).getLength());return new V(b,0,0)};rb.prototype.getLocation=function(){if(1===arguments.length)return this.getLocation(arguments[0],!0);if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a;0>a&&(c=this._linearGeom.getLength()+a);a=this.getLocationForward(c);return b?a:this.resolveHigher(a)}};rb.prototype.getLocationForward=function(a){if(0>=a)return new V;for(var b=0,c=new Ua(this._linearGeom);c.hasNext();){if(c.isEndOfLine()){if(b===a)return a=c.getComponentIndex(),
c=c.getVertexIndex(),new V(a,c,0)}else{var d=c.getSegmentStart();d=c.getSegmentEnd().distance(d);if(b+d>a)return b=(a-b)/d,a=c.getComponentIndex(),c=c.getVertexIndex(),new V(a,c,b);b+=d}c.next()}return V.getEndLocation(this._linearGeom)};rb.prototype.getClass=function(){return rb};$jscomp.global.Object.defineProperties(rb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});rb.constructor_=function(a){this._linearGeom=a};var Xb=function(){Xb.constructor_.apply(this,arguments)};
Xb.prototype.clampIndex=function(a){a=this.positiveIndex(a);var b=this.getStartIndex();if(a<b)return b;b=this.getEndIndex();return a>b?b:a};Xb.prototype.locationOf=function(){if(1===arguments.length)return rb.getLocation(this._linearGeom,arguments[0]);if(2===arguments.length)return rb.getLocation(this._linearGeom,arguments[0],arguments[1])};Xb.prototype.project=function(a){return tc.indexOf(this._linearGeom,a)};Xb.prototype.positiveIndex=function(a){return 0<=a?a:this._linearGeom.getLength()+a};Xb.prototype.extractPoint=
function(){if(1===arguments.length){var a=rb.getLocation(this._linearGeom,arguments[0]);return a.getCoordinate(this._linearGeom)}if(2===arguments.length){var b=arguments[1];a=rb.getLocation(this._linearGeom,arguments[0]);a=a.toLowest(this._linearGeom);return a.getSegment(this._linearGeom).pointAlongOffset(a.getSegmentFraction(),b)}};Xb.prototype.isValidIndex=function(a){return a>=this.getStartIndex()&&a<=this.getEndIndex()};Xb.prototype.getEndIndex=function(){return this._linearGeom.getLength()};
Xb.prototype.getStartIndex=function(){return 0};Xb.prototype.indexOfAfter=function(a,b){return tc.indexOfAfter(this._linearGeom,a,b)};Xb.prototype.extractLine=function(a,b){new Wb(this._linearGeom);a=this.clampIndex(a);b=this.clampIndex(b);a=this.locationOf(a,a===b);b=this.locationOf(b);return gd.extract(this._linearGeom,a,b)};Xb.prototype.indexOf=function(a){return tc.indexOf(this._linearGeom,a)};Xb.prototype.indicesOf=function(a){a=qe.indicesOf(this._linearGeom,a);return[rb.getLength(this._linearGeom,
a[0]),rb.getLength(this._linearGeom,a[1])]};Xb.prototype.getClass=function(){return Xb};$jscomp.global.Object.defineProperties(Xb.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});Xb.constructor_=function(a){this._linearGeom=a};var oh=Object.freeze({LengthIndexedLine:Xb,LengthLocationMap:rb,LinearGeometryBuilder:Rc,LinearIterator:Ua,LinearLocation:V,LocationIndexedLine:Wb}),ag=function(){};ag.prototype.getClass=function(){return ag};ag.union=function(a,b){if(a.isEmpty()||
b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return t.createEmptyResult(t.UNION,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}a.checkNotGeometryCollection(a);a.checkNotGeometryCollection(b);return hb.overlayOp(a,b,t.UNION)};$jscomp.global.Object.defineProperties(ag.prototype,{interfaces_:{configurable:!0,enumerable:!0,get:function(){return[]}}});l.prototype.equalsTopo=function(a){return this.getEnvelopeInternal().equals(a.getEnvelopeInternal())?ia.relate(this,a).isEquals(this.getDimension(),
a.getDimension()):!1};l.prototype.union=function(){if(0===arguments.length)return Fc.union(this);if(1===arguments.length)return ag.union(this,arguments[0])};l.prototype.isValid=function(){return ma.isValid(this)};l.prototype.intersection=function(a){return t.intersection(this,a)};l.prototype.covers=function(a){return ia.covers(this,a)};l.prototype.coveredBy=function(a){return ia.covers(a,this)};l.prototype.touches=function(a){return ia.touches(this,a)};l.prototype.intersects=function(a){return ia.intersects(this,
a)};l.prototype.within=function(a){return ia.contains(a,this)};l.prototype.overlaps=function(a){return ia.overlaps(this,a)};l.prototype.disjoint=function(a){return ia.disjoint(this,a)};l.prototype.crosses=function(a){return ia.crosses(this,a)};l.prototype.buffer=function(){if(1===arguments.length)return za.bufferOp(this,arguments[0]);if(2===arguments.length)return za.bufferOp(this,arguments[0],arguments[1]);if(3===arguments.length)return za.bufferOp(this,arguments[0],arguments[1],arguments[2])};l.prototype.convexHull=
function(){return(new Ra(this)).getConvexHull()};l.prototype.relate=function(a){for(var b=0;b<arguments.length;++b);if(1===arguments.length)return ia.relate(this,arguments[0]);if(2===arguments.length)return b=arguments[1],ia.relate(this,arguments[0]).matches(b)};l.prototype.getCentroid=function(){if(this.isEmpty())return this._factory.createPoint();var a=lb.getCentroid(this);return this.createPointFromInternalCoord(a,this)};l.prototype.getInteriorPoint=function(){if(this.isEmpty())return this._factory.createPoint();
var a=this.getDimension();a=(0===a?new ye(this):1===a?new Dd(this):new ub(this)).getInteriorPoint();return this.createPointFromInternalCoord(a,this)};l.prototype.symDifference=function(a){return t.symDifference(this,a)};l.prototype.createPointFromInternalCoord=function(a,b){b.getPrecisionModel().makePrecise(a);return b.getFactory().createPoint(a)};l.prototype.toText=function(){return(new Bb).write(this)};l.prototype.toString=function(){this.toText()};l.prototype.contains=function(a){return ia.contains(this,
a)};l.prototype.difference=function(a){return t.difference(this,a)};l.prototype.isSimple=function(){return(new pb(this)).isSimple()};l.prototype.isWithinDistance=function(a,b){return this.getEnvelopeInternal().distance(a.getEnvelopeInternal())>b?!1:Oa.isWithinDistance(this,a,b)};l.prototype.distance=function(a){return Oa.distance(this,a)};l.prototype.isEquivalentClass=function(a){return this.getClass()===a.getClass()};aa.version="npm_package_version (git_hash)";aa.algorithm=Rg;aa.densify=Sg;aa.dissolve=
Tg;aa.geom=Ng;aa.geomgraph=Ug;aa.index=Yg;aa.io=$g;aa.noding=ah;aa.operation=jh;aa.precision=kh;aa.simplify=lh;aa.triangulate=nh;aa.linearref=oh;return aa}({});